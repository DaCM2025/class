[
  {
    "objectID": "lecture05.html#group-project-overview-1",
    "href": "lecture05.html#group-project-overview-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Group project overview",
    "text": "Group project overview"
  },
  {
    "objectID": "lecture05.html#group-project-structure-roles",
    "href": "lecture05.html#group-project-structure-roles",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Group project: structure & roles",
    "text": "Group project: structure & roles\n\nGroups of 3 students\nEach group focuses on 3 complementary dimensions:\n\nData gathering & wrangling ‚Üí Lecture on Data Management & Collection\nPackage development & website ‚Üí Lecture on Software Engineering for Data Science\nDashboard / web app development ‚Üí Lecture on Modern Tools: BI & LLMs\n\nIdea: each student is lead on one dimension,\nbut everyone should understand the full pipeline."
  },
  {
    "objectID": "lecture05.html#project-goals",
    "href": "lecture05.html#project-goals",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Project goals",
    "text": "Project goals\n\nExperience a mini end-to-end data project:\n\nfrom raw data collection\n\nto a reusable package\n\nto an interactive dashboard/web app\n\nPractice:\n\nReproducible workflows (Git, GitHub, environments)\nTeam collaboration (issues, branches, pull requests)\nGood engineering habits (tests, docs, CI where possible)"
  },
  {
    "objectID": "lecture05.html#role-1-data-gathering-wrangling",
    "href": "lecture05.html#role-1-data-gathering-wrangling",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Role 1 ‚Äì Data gathering & wrangling",
    "text": "Role 1 ‚Äì Data gathering & wrangling\nMain responsibility: bring high-quality, analysis-ready data.\n\nIdentify and justify data sources\n\nAPIs, web scraping, open data portals, files from stakeholders, ‚Ä¶\n\nDesign and document the data collection pipeline\n\nScripts in R or Python (no manual copy-paste)\nClear description of licences, limitations, biases\n\nPerform cleaning & wrangling\n\nTidy structures, variable names, types, missing values\nReproducible transformations (no edits in Excel)\n\nDeliver:\n\ndata_raw/, data/, and scripts\nA short data report (Quarto) describing the pipeline"
  },
  {
    "objectID": "lecture05.html#role-2-package-development-website",
    "href": "lecture05.html#role-2-package-development-website",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Role 2 ‚Äì Package development & website",
    "text": "Role 2 ‚Äì Package development & website\nMain responsibility: make the code reusable and documented.\n\nOrganise core code into an R package or Python library:\n\nFunctions for: data loading, cleaning, key computations, plots, models\nMinimal tests for critical functions\n\nEnsure reproducibility:\n\nDESCRIPTION / pyproject.toml or similar\nRun CI on GitHub (e.g.¬†with GitHub Actions)\nMake sure it can be installed from the repo\n\nPublish a small documentation website:\n\nQuarto or MkDocs + GitHub Pages\nPages: Overview, Installation, Get started, Examples, API reference\n\nDeliver:\n\nOne private GitHub repo on one member personal account\nPackage repository structure\nOnline or locally-buildable docs site"
  },
  {
    "objectID": "lecture05.html#role-3-dashboard-web-app-development",
    "href": "lecture05.html#role-3-dashboard-web-app-development",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Role 3 ‚Äì Dashboard / web app development",
    "text": "Role 3 ‚Äì Dashboard / web app development\nMain responsibility: communicate insights interactively.\n\nBuild a dashboard or web app using e.g.:\n\nR: Shiny / Shiny for Python\nPython: Streamlit, Dash\nOr: Power BI dashboard (with R/Python where relevant)\n\nConsume the package functions whenever possible\n(no copy-pasted logic from scripts)\nProvide:\n\nAt least 2‚Äì3 interactive views (filters, drill-downs, tooltips‚Ä¶)\nClear layout and consistent visual design\nShort text explanations for a non-technical audience\n\nDeliver:\n\nApp code + instructions to run it locally\nScreenshots / short demo GIF or video (optional but encouraged)\nOne private GitHub repo on the organization"
  },
  {
    "objectID": "lecture05.html#shared-responsibilities-all-roles",
    "href": "lecture05.html#shared-responsibilities-all-roles",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Shared responsibilities (all roles)",
    "text": "Shared responsibilities (all roles)\nRegardless of your lead role, everyone is responsible for:\n\nDefining the project question\n\nWhat do you want to understand / monitor / predict / explain?\n\nChoosing tools (R / Python / mix) and architecture together\nVersion control\n\nGit branching, pull requests, code review\n\nCode quality\n\nConsistent style, comments where needed, avoid dead code\n\nFinal presentation\n\nEach member presents the part they led and shows understanding of the whole pipeline\n\n\n\nAll 3 students collaborate on the idea, the story, and the final presentation."
  },
  {
    "objectID": "lecture05.html#suggested-timeline-3-weeks-presentations",
    "href": "lecture05.html#suggested-timeline-3-weeks-presentations",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Suggested timeline (3 weeks + presentations)",
    "text": "Suggested timeline (3 weeks + presentations)\n\nWeek 1 ‚Äì Topic & data\n\nChoose topic & research questions\n\nFind data sources & write first collection scripts\n\nDo quick EDA to check feasibility\n\nWeek 2 ‚Äì Package & app (v1)\n\nStabilise data pipeline (raw ‚Üí cleaned)\n\nSet up package + key functions\n\nBuild first working dashboard/web app\n\nWeek 3 ‚Äì Polish & integrate\n\nImprove package (API, docs, a few tests)\n\nRefine dashboard (design, story, robustness)\n\nFinalise README + ‚ÄúHow to run‚Äù + environment\n\nPresentation week\n\nPresent project & live demo\n\nAnswer questions on data, package, and app"
  },
  {
    "objectID": "lecture05.html#project-grading-40-points",
    "href": "lecture05.html#project-grading-40-points",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Project grading (40 points)",
    "text": "Project grading (40 points)\n\n\n\nDimension\nPoints\n\n\n\n\nData gathering & wrangling\n10\n\n\nPackage development & documentation\n10\n\n\nDashboard / web app\n10\n\n\nReproducibility & project management\n5\n\n\nPresentation & individual contribution\n5\n\n\nTotal\n40\n\n\n\n\nEach group is graded on the whole project, not only on their ‚Äúrole‚Äù.\nRoles (data / package / app) help structure the work,\nbut everyone should understand the full pipeline."
  },
  {
    "objectID": "lecture05.html#next-steps",
    "href": "lecture05.html#next-steps",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Next steps",
    "text": "Next steps\n\nForm groups of 3 students\nPick a topic that:\n\nhas accessible data sources, and\ncan benefit from a dashboard or web app\n\nDecide who leads what (roles can still evolve)\nCreate your GitHub repository and write:\n\nA short README with:\n\ntopic\nresearch questions\npreliminary plan for the 3 dimensions"
  },
  {
    "objectID": "lecture05.html#shiny-web-app-1",
    "href": "lecture05.html#shiny-web-app-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Shiny web app",
    "text": "Shiny web app\n\nCommunication: allow users to interact with data and analysis in the browser.\nShiny enables rapid development of web applications in R ‚Äî no need to master HTML/CSS/JS (though they help!).\nWidely used in industry for collaboration, dashboards, prototyping, and internal tools.\nRuns locally, on a server, or in Posit Connect/Shinyapps.io/Docker.\n\n\n\n\n\n\n\nTip\n\n\nShiny apps are just R code: a UI that declares outputs and inputs, and a server that reacts to them."
  },
  {
    "objectID": "lecture05.html#example-interact-with-graphics",
    "href": "lecture05.html#example-interact-with-graphics",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: interact with graphics",
    "text": "Example: interact with graphics\n\n\n\n\nSource: https://shiny.posit.co/r/gallery"
  },
  {
    "objectID": "lecture05.html#example-download-a-report",
    "href": "lecture05.html#example-download-a-report",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: download a report",
    "text": "Example: download a report\n\n\n\n\nSource: https://shiny.posit.co/r/gallery"
  },
  {
    "objectID": "lecture05.html#example-rental-cashflow-calculator",
    "href": "lecture05.html#example-rental-cashflow-calculator",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: rental cashflow calculator",
    "text": "Example: rental cashflow calculator\n\n\n\n\nSource: https://deanattali.com/"
  },
  {
    "objectID": "lecture05.html#example-movie-explorer",
    "href": "lecture05.html#example-movie-explorer",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: Movie explorer",
    "text": "Example: Movie explorer\n\n\n\n\nSource: https://shiny.posit.co/"
  },
  {
    "objectID": "lecture05.html#example-be-a-dj",
    "href": "lecture05.html#example-be-a-dj",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: Be a DJ",
    "text": "Example: Be a DJ\n\nOSUICode::run_example(\"intro/dj-system\", package = \"OSUICode\")\n\nRef: https://github.com/DivadNojnarg/OSUICode"
  },
  {
    "objectID": "lecture05.html#hello-world",
    "href": "lecture05.html#hello-world",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Hello, world!",
    "text": "Hello, world!\n\nlibrary(shiny)\n# User interface\nui &lt;- fluidPage(\n  \"Hello, world!\"\n)\nserver &lt;- function(input, output, session) {}\nshinyApp(ui, server)"
  },
  {
    "objectID": "lecture05.html#ui-vs-server-the-two-halves",
    "href": "lecture05.html#ui-vs-server-the-two-halves",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "UI vs Server ‚Äî the two halves",
    "text": "UI vs Server ‚Äî the two halves\n\nUser interface (UI): HTML-like description of widgets and output placeholders.\n\n\nui\n\n\n\n&lt;div class=\"container-fluid\"&gt;Hello, world!&lt;/div&gt;\n\n\n\nServer back-end: R code that computes results and fills outputs.\nRun the app with shinyApp(ui, server) (or runApp())."
  },
  {
    "objectID": "lecture05.html#step-1-back-end-r-code-data-plot",
    "href": "lecture05.html#step-1-back-end-r-code-data-plot",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Step 1: Back-end R code (data & plot)",
    "text": "Step 1: Back-end R code (data & plot)\nWe‚Äôll build a histogram of waiting time between eruptions (faithful).\n\nx &lt;- faithful[, 2]"
  },
  {
    "objectID": "lecture05.html#add-parameters-bins",
    "href": "lecture05.html#add-parameters-bins",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Add parameters (bins)",
    "text": "Add parameters (bins)\n\ncells &lt;- 10\nbreaks &lt;- seq(min(x), max(x), length.out = cells + 1)\nhist(x, breaks = breaks)"
  },
  {
    "objectID": "lecture05.html#add-parameters-labels",
    "href": "lecture05.html#add-parameters-labels",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Add parameters (labels)",
    "text": "Add parameters (labels)\n\nlabel_x &lt;- \"Waiting time to next eruption (min)\"\ntitle   &lt;- \"Old Faithful Geyser Data\"\ncells   &lt;- 10\nbreaks  &lt;- seq(min(x), max(x), length.out = cells + 1)\nhist(x, breaks = breaks, xlab = label_x, main = title)"
  },
  {
    "objectID": "lecture05.html#step-2-user-interface-ui-front-end",
    "href": "lecture05.html#step-2-user-interface-ui-front-end",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Step 2: User Interface (UI) / front-end",
    "text": "Step 2: User Interface (UI) / front-end\nOnce the back-end logic is clear, design the UI."
  },
  {
    "objectID": "lecture05.html#page-structure-helpers",
    "href": "lecture05.html#page-structure-helpers",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Page structure helpers",
    "text": "Page structure helpers\n\n\n\nFunction\nDescription\n\n\n\n\nfluidPage()\nCreate a fluid page layout\n\n\ntitlePanel()\nApplication title\n\n\nsidebarLayout()\nSidebar + main area layout\n\n\nsidebarPanel()\nSidebar with inputs\n\n\nmainPanel()\nMain content (plots, tables, ‚Ä¶)\n\n\n\n\nAlternatives to fluidPage(): fixedPage() (fixed width) and fillPage() (full height).\nsidebarLayout() is built on fluidRow()/column() for finer control."
  },
  {
    "objectID": "lecture05.html#layout-example-quarto-columns",
    "href": "lecture05.html#layout-example-quarto-columns",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Layout example (Quarto columns)",
    "text": "Layout example (Quarto columns)\n\n\n\n\n\n\n\n\n\n\n\n\n\nfluidPage(\n  titlePanel(\"My App\"),\n  sidebarLayout(\n    sidebarPanel(),\n    mainPanel()\n  )\n)"
  },
  {
    "objectID": "lecture05.html#multi-row-layout-with-columns",
    "href": "lecture05.html#multi-row-layout-with-columns",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Multi-row layout with columns",
    "text": "Multi-row layout with columns\n\n\n\n\n\n\n\n\n\n\n\n\n\nfluidPage(\n  fluidRow(\n    column(4, ...),\n    column(8, ...)\n  ),\n  fluidRow(\n    column(6, ...),\n    column(6, ...)\n  )\n)"
  },
  {
    "objectID": "lecture05.html#input-controls",
    "href": "lecture05.html#input-controls",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Input controls",
    "text": "Input controls\n\nUsers provide inputs through widgets.\nAll inputs follow someInput(inputId, ‚Ä¶). Access in server as input$inputId.\n\n\n\n\nFunction\nDescription\n\n\n\n\nnumericInput()\nNumber entry\n\n\nradioButtons()\nRadio selection\n\n\nselectInput()\nDropdown menu\n\n\nsliderInput()\nRange/slider\n\n\nsubmitButton()\nSubmission button\n\n\ntextInput()\nText box\n\n\ncheckboxInput()\nSingle checkbox\n\n\ndateInput()\nDate selector\n\n\nfileInput()\nUpload a file\n\n\nhelpText()\nDescribe input field"
  },
  {
    "objectID": "lecture05.html#output-controls-renderers",
    "href": "lecture05.html#output-controls-renderers",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Output controls & renderers",
    "text": "Output controls & renderers\n\nOutputs create placeholders; render functions fill them.\nAccess in server as output$outputId.\n\n\n\n\nOutput\nRender\nDescription\n\n\n\n\nplotOutput()\nrenderPlot()\nPlots\n\n\ntableOutput()\nrenderTable()\nSimple tables\n\n\ntextOutput()\nrenderText()\nText\n\n\nuiOutput() / htmlOutput()\nrenderUI()\nHTML / dynamic UI\n\n\nverbatimTextOutput()\nrenderPrint()\nConsole-like text\n\n\nimageOutput()\nrenderImage()\nImages"
  },
  {
    "objectID": "lecture05.html#ui-example-histogram-app",
    "href": "lecture05.html#ui-example-histogram-app",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "UI example: histogram app",
    "text": "UI example: histogram app\n\n\n\n# Define UI for application that draws a histogram\nui &lt;- fluidPage(\n  titlePanel(\"Old Faithful Geyser Data\"),\n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\n        inputId = \"cells\",\n        label   = \"Number of cells:\",\n        min = 1, max = 50, value = 30\n      ),\n      textInput(inputId = \"label_x\", label = \"X-axis label:\"),\n      textInput(inputId = \"title\",   label = \"Plot title:\")\n    ),\n    mainPanel(\n      plotOutput(outputId = \"distPlot\")\n    )\n  )\n)"
  },
  {
    "objectID": "lecture05.html#step-3-implementing-the-back-end",
    "href": "lecture05.html#step-3-implementing-the-back-end",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Step 3: Implementing the back-end",
    "text": "Step 3: Implementing the back-end\n\nThe server reacts to user actions (reactive programming).\nPrototype: server &lt;- function(input, output, session) { ‚Ä¶ }.\ninput/output are list-like and reactive.\n\n\nui &lt;- fluidPage(\n  sliderInput(inputId = \"cells\",   label = \"Cells\", min = 1, max = 50, value = 30),\n  textInput (inputId = \"label_x\", label = \"X-axis label\"),\n  textInput (inputId = \"title\",   label = \"Plot title\"),\n  plotOutput(outputId = \"distPlot\")\n)\n\nserver &lt;- function(input, output, session) {\n  output$distPlot &lt;- renderPlot({\n    x      &lt;- faithful[, 2]\n    breaks &lt;- seq(min(x), max(x), length.out = input$cells + 1)\n    hist(x, breaks = breaks, col = 'darkgray', border = 'white',\n         xlab = input$label_x, main = input$title)\n  })\n}"
  },
  {
    "objectID": "lecture05.html#declarative-reactive-graph",
    "href": "lecture05.html#declarative-reactive-graph",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Declarative & reactive graph",
    "text": "Declarative & reactive graph\n\nShiny is declarative: you state dependencies; Shiny figures out when to run code.\nExecution follows the reactive graph, not line order."
  },
  {
    "objectID": "lecture05.html#reactive-expressions",
    "href": "lecture05.html#reactive-expressions",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Reactive expressions",
    "text": "Reactive expressions\n\nIn the previous app, changing any input recomputed x and breaks.\nUse reactive expressions so values are recomputed only when their inputs change.\n\n\nserver &lt;- function(input, output, session) {\n  x      &lt;- reactive(faithful[, 2])                  # &lt;- cached\n  breaks &lt;- reactive(seq(min(x()), max(x()),        \n                         length.out = input$cells + 1))\n  output$distPlot &lt;- renderPlot({\n    hist(x(), breaks = breaks(), col = 'darkgray', border = 'white',\n         xlab = input$label_x, main = input$title)\n  })\n}\n\n\n\n\n\n\n\nNote\n\n\nOrder of reactive expressions in the file does not matter (dependencies determine execution), but readability does."
  },
  {
    "objectID": "lecture05.html#reactive-graph-after-refactor",
    "href": "lecture05.html#reactive-graph-after-refactor",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Reactive graph (after refactor)",
    "text": "Reactive graph (after refactor)\n\n\nbreaks() updates only when cells (or x()) changes."
  },
  {
    "objectID": "lecture05.html#reactive-context-matters",
    "href": "lecture05.html#reactive-context-matters",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Reactive context matters",
    "text": "Reactive context matters\n\nInput values cannot be accessed outside a reactive context.\n\n\nserver &lt;- function(input, output, session) {\n  # Not reactive: evaluated once at session start\n  breaks &lt;- seq(min(x), max(x), length.out = input$cells + 1)\n  output$distPlot &lt;- renderPlot({...})\n}\n\n\nA function wrapper will recompute every time:\n\n\nserver &lt;- function(input, output, session) {\n  breaks &lt;- function() seq(min(x), max(x), length.out = input$cells + 1)\n}\n\n\nPrefer reactive() to recompute only when needed."
  },
  {
    "objectID": "lecture05.html#control-evaluation-time",
    "href": "lecture05.html#control-evaluation-time",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Control evaluation time",
    "text": "Control evaluation time\n\nFor heavy computations, let the user trigger updates with an actionButton.\nUse eventReactive() or bindEvent() to react only on button clicks.\n\nUI ‚Äî add a button\n\nui &lt;- fluidPage(\n  ...,\n  actionButton(inputId = \"make_graph\", label = \"Make the plot!\",\n               icon = icon(\"drafting-compass\"))\n)\n\nServer ‚Äî use eventReactive()\n\nserver &lt;- function(input, output, session) {\n  x      &lt;- reactive(faithful[, 2])\n  breaks &lt;- eventReactive(input$make_graph, {\n    seq(min(x()), max(x()), length.out = input$cells + 1)\n  })\n  xlab   &lt;- eventReactive(input$make_graph, input$label_x)\n  title  &lt;- eventReactive(input$make_graph, input$title)\n  output$distPlot &lt;- renderPlot({\n    hist(x(), breaks = breaks(), col = 'darkgray', border = 'white',\n         xlab = xlab(), main = title())\n  })\n}"
  },
  {
    "objectID": "lecture05.html#alternative-bindevent-shiny-1.6.0",
    "href": "lecture05.html#alternative-bindevent-shiny-1.6.0",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Alternative: bindEvent() (Shiny ‚â• 1.6.0)",
    "text": "Alternative: bindEvent() (Shiny ‚â• 1.6.0)\n\nlibrary(magrittr)\nserver &lt;- function(input, output, session) {\n  x      &lt;- reactive(faithful[, 2])\n  breaks &lt;- reactive(seq(min(x()), max(x()), length.out = input$cells + 1)) %&gt;%\n              bindEvent(input$make_graph)\n  xlab   &lt;- reactive(input$label_x) %&gt;% bindEvent(input$make_graph)\n  title  &lt;- reactive(input$title)   %&gt;% bindEvent(input$make_graph)\n  output$distPlot &lt;- renderPlot({\n    hist(x(), breaks = breaks(), col = 'darkgray', border = 'white',\n         xlab = xlab(), main = title())\n  })\n}"
  },
  {
    "objectID": "lecture05.html#what-users-see-with-eventreactive",
    "href": "lecture05.html#what-users-see-with-eventreactive",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "What users see with eventReactive",
    "text": "What users see with eventReactive"
  },
  {
    "objectID": "lecture05.html#what-users-see-with-eventreactive-1",
    "href": "lecture05.html#what-users-see-with-eventreactive-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "What users see with eventReactive",
    "text": "What users see with eventReactive"
  },
  {
    "objectID": "lecture05.html#what-users-see-with-eventreactive-2",
    "href": "lecture05.html#what-users-see-with-eventreactive-2",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "What users see with eventReactive",
    "text": "What users see with eventReactive"
  },
  {
    "objectID": "lecture05.html#observers-side-effects",
    "href": "lecture05.html#observers-side-effects",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Observers (side-effects)",
    "text": "Observers (side-effects)\n\nUse observers for side-effects (logging, DB writes, JS messages, ‚Ä¶).\nobserveEvent() works like eventReactive() but returns no value.\n\n\nserver &lt;- function(input, output, session) {\n  observeEvent(input$make_graph, message(\"Make a new graph\"))\n}"
  },
  {
    "objectID": "lecture05.html#step-4-connect-ui-and-server",
    "href": "lecture05.html#step-4-connect-ui-and-server",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Step 4: Connect UI and server",
    "text": "Step 4: Connect UI and server\n\nshinyApp(ui = ui, server = server) creates an app object and runs on print.\nAlternative: wrap in a function and runApp() it.\n\n\nmy_app &lt;- shinyApp(ui = ui, server = server)\nrunApp(my_app)"
  },
  {
    "objectID": "lecture05.html#workflow",
    "href": "lecture05.html#workflow",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Workflow",
    "text": "Workflow\n\n\n\nWrite UI & server in a single app.R.\nLaunch (Ctrl/Cmd + Shift + Enter).\nPlay with the app.\nClose and iterate.\n\n\n\n# Minimal app.R\nui &lt;- fluidPage()\nserver &lt;- function(input, output, session) {}\nshinyApp(ui, server)\n\n\nYou can choose the view you prefer."
  },
  {
    "objectID": "lecture05.html#modularizing-shiny",
    "href": "lecture05.html#modularizing-shiny",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Modularizing Shiny",
    "text": "Modularizing Shiny\n\nModules are one of the most powerful tools for building shiny applications in a maintainable and sustainable manner. Engineering Production-Grade Shiny Apps"
  },
  {
    "objectID": "lecture05.html#why-modules",
    "href": "lecture05.html#why-modules",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Why modules?",
    "text": "Why modules?\n\nDivide & conquer large apps into small, testable pieces.\nImproves readability and reuse. Rule of thumb: copy‚Äìpaste thrice? Make a function/module.\nIn Shiny, IDs are global. Modules create namespaces to avoid conflicts."
  },
  {
    "objectID": "lecture05.html#namespaces-refresher-r-packages",
    "href": "lecture05.html#namespaces-refresher-r-packages",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Namespaces refresher (R packages)",
    "text": "Namespaces refresher (R packages)\n\nNamespaces ensure packages behave consistently regardless of attach order.\nExported functions live in the package environment; internals live in the namespace.\nEach namespace has an imports env ‚Üí parent is base ‚Üí parent is global."
  },
  {
    "objectID": "lecture05.html#simple-app-before-modules",
    "href": "lecture05.html#simple-app-before-modules",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Simple app (before modules)",
    "text": "Simple app (before modules)\n\nlibrary(shiny)\nui &lt;- fluidPage(\n  selectInput(\"var\", \"Variable\", names(mtcars)),\n  numericInput(\"bins\", \"bins\", 10, min = 1),\n  plotOutput(\"hist\")\n)\nserver &lt;- function(input, output, session) {\n  data &lt;- reactive(mtcars[[input$var]])\n  output$hist &lt;- renderPlot({\n    hist(data(), breaks = input$bins, main = input$var)\n  }, res = 96)\n}\nshinyApp(ui = ui, server = server)"
  },
  {
    "objectID": "lecture05.html#ui-module",
    "href": "lecture05.html#ui-module",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "UI module",
    "text": "UI module\n\nhistogramUI &lt;- function(id) {\n  ns &lt;- NS(id)   # prefix all input/output IDs with module namespace\n  tagList(\n    selectInput(ns(\"var\"),  \"Variable\", choices = names(mtcars)),\n    numericInput(ns(\"bins\"), \"bins\", value = 10, min = 1),\n    plotOutput(ns(\"hist\"))\n  )\n}\n\n\nWrap UI in a function taking id.\nUse ns &lt;- NS(id) and ns(\"inputId\") for all IDs."
  },
  {
    "objectID": "lecture05.html#server-module",
    "href": "lecture05.html#server-module",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Server module",
    "text": "Server module\n\nhistogramServer &lt;- function(id) {\n  moduleServer(id, function(input, output, session) {\n    data &lt;- reactive(mtcars[[input$var]])\n    output$hist &lt;- renderPlot({\n      hist(data(), breaks = input$bins, main = input$var)\n    }, res = 96)\n  })\n}\n\n\nmoduleServer(id, function(input, output, session) { ... }) defines the server logic."
  },
  {
    "objectID": "lecture05.html#using-the-module-in-the-app",
    "href": "lecture05.html#using-the-module-in-the-app",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Using the module in the app",
    "text": "Using the module in the app\n\nui &lt;- fluidPage(\n  histogramUI(\"hist1\")\n)\nserver &lt;- function(input, output, session) {\n  histogramServer(\"hist1\")\n}\nshinyApp(ui, server)\n\n\nUse the same id in UI and server."
  },
  {
    "objectID": "lecture05.html#namespacing-in-shiny-modules",
    "href": "lecture05.html#namespacing-in-shiny-modules",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Namespacing in Shiny modules",
    "text": "Namespacing in Shiny modules\n\nUI: explicit (ns &lt;- NS(id); wrap IDs with ns()).\nServer: implicit ‚Äî Shiny applies the same namespace internally.\n\n\nui &lt;- fluidPage(\n  histogramUI(\"hist1\"),\n  sliderInput(\"bins\", \"Another bins:\", 0, 10, 5)\n)\nserver &lt;- function(input, output, session) {\n  histogramServer(\"hist1\")  # uses its own namespaced input$bins\n}\n\n\nThe global input$bins (from the extra slider) does not affect the module‚Äôs input$bins."
  },
  {
    "objectID": "lecture05.html#sharing-data-between-modules",
    "href": "lecture05.html#sharing-data-between-modules",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Sharing data between modules",
    "text": "Sharing data between modules\n\nReturn a reactive() from one module and pass it to another.\n\n\nhistogramServer &lt;- function(id, data, title = reactive(\"Histogram\")) {\n  stopifnot(is.reactive(data))\n  moduleServer(id, function(input, output, session) {\n    output$hist &lt;- renderPlot({\n      hist(data(), breaks = input$bins, main = title())\n    }, res = 96)\n  })\n}\n\nui &lt;- fluidPage(histogramUI(\"hist1\"))\nserver &lt;- function(input, output, session) {\n  data &lt;- reactive(mtcars$mpg)\n  histogramServer(\"hist1\", data)\n}\nshinyApp(ui, server)"
  },
  {
    "objectID": "lecture05.html#alternative-sharing-strategies",
    "href": "lecture05.html#alternative-sharing-strategies",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Alternative sharing strategies",
    "text": "Alternative sharing strategies\n\n‚ÄúPetit r‚Äù: a global reactiveValues() object passed around modules.\n‚ÄúGrand R6‚Äù: organize state & logic in R6 classes, then bridge to Shiny.\nSee also tidymodules (R6-based) for structured modular patterns."
  },
  {
    "objectID": "lecture05.html#structuring-an-application-as-a-package",
    "href": "lecture05.html#structuring-an-application-as-a-package",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Structuring an application as a package",
    "text": "Structuring an application as a package\n\nStrongly recommended for larger apps: better structure, docs, tests, CI, deployment.\nPut functions/modules in R/, assets in inst/app/, etc.\nWrap the app in a function:\n\n\n#' Run the application\n#' @title App for bacteria mobility\n#' @importFrom shiny shinyApp\n#' @export\nrun_app &lt;- function(...) {\n  shinyApp(ui = ui, server = server, ...)\n}\n\n\nMinimal example: https://github.com/ptds2024/bacteria"
  },
  {
    "objectID": "lecture05.html#to-go-further",
    "href": "lecture05.html#to-go-further",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "To go further",
    "text": "To go further\n\nBook: Mastering Shiny ‚Äî https://mastering-shiny.org/\nArticles: Shiny articles ‚Äî https://shiny.posit.co/r/articles/\nCourse notes: An Introduction to Statistical Programming Methods with R ‚Äî https://smac-group.github.io/ds/section-shiny-web-applications.html\nEngineering: Engineering Production-Grade Shiny Apps ‚Äî https://engineering-shiny.org/"
  },
  {
    "objectID": "lecture05.html#rapid-ui-prototyping-with-shinyuieditor",
    "href": "lecture05.html#rapid-ui-prototyping-with-shinyuieditor",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Rapid UI prototyping with shinyuieditor",
    "text": "Rapid UI prototyping with shinyuieditor\n\nshinyuieditor is an RStudio add-in to design Shiny UIs visually (drag & drop), then export clean UI code.\nTypical workflow:\n\nStart from a blank or template app.\nDrag inputs, outputs, and layout elements (rows, columns, tabs, etc.).\nAdjust labels, IDs, and options in the side panel.\nCopy the generated ui &lt;- fluidPage(...) code into your app and connect it to your server logic.\n\n\n\n# Install (once)\ninstall.packages(\"shinyuieditor\")\n\n# Launch the visual editor (from R console)\nshinyuieditor::launch_editor(app_loc = \"path/to/your/app\")"
  },
  {
    "objectID": "lecture05.html#generating-a-shiny-dashboard-with-chatgpt",
    "href": "lecture05.html#generating-a-shiny-dashboard-with-chatgpt",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Generating a Shiny dashboard with ChatGPT",
    "text": "Generating a Shiny dashboard with ChatGPT\n\nYou can use ChatGPT as a UI & server code generator for Shiny apps.\nTypical workflow:\n\nDescribe your goal clearly\n&gt; ‚ÄúBuild a Shiny dashboard with a sidebar, filters for year and region, and a main panel with a time-series plot and a summary table using my sales data.‚Äù\nPaste a sample of your data (or its structure with str() / glimpse()).\nAsk for complete minimal code (app.R) with ui, server, and shinyApp(ui, server).\nRun the generated app locally, then iterate:\n\n‚ÄúAdd a download button for filtered data.‚Äù\n‚ÄúColor bars by product category.‚Äù\n‚ÄúTurn this into a shinydashboard layout.‚Äù\n\n\n\n\n\n\n\n\n\nTip\n\n\nKeep ChatGPT for boilerplate & layout; you remain responsible for data logic, validation, and interpretation."
  },
  {
    "objectID": "lecture05.html#streamlit-web-app-1",
    "href": "lecture05.html#streamlit-web-app-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Streamlit web app",
    "text": "Streamlit web app\n\nPurpose: build interactive web apps for data exploration, dashboards, and prototypes ‚Äî using pure Python.\nZero front‚Äëend boilerplate: write from top to bottom; Streamlit turns widgets into UI.\nRerun model: the script re-executes top-to-bottom on any user interaction; widgets persist state.\nDeploy anywhere: Streamlit Community Cloud, on-prem, Docker, or any VM.\n\n\n\n\n\n\n\nTip\n\n\nThink of Streamlit as: Python script ‚Üí reactive UI (without callbacks unless you need them)."
  },
  {
    "objectID": "lecture05.html#example-gallery",
    "href": "lecture05.html#example-gallery",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example gallery",
    "text": "Example gallery\nYou can explore examples here:\nStreamlit App Gallery"
  },
  {
    "objectID": "lecture05.html#hello-world-1",
    "href": "lecture05.html#hello-world-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Hello, world!",
    "text": "Hello, world!\n\nimport streamlit as st\nst.title(\"Hello, Streamlit üëã\")\nst.write(\"This is a minimal app.\")\n\nRun: streamlit run app.py"
  },
  {
    "objectID": "lecture05.html#ui-building-blocks",
    "href": "lecture05.html#ui-building-blocks",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "UI building blocks",
    "text": "UI building blocks\n\nText & media: st.title, st.header, st.write, st.image, st.video\nWidgets (inputs): st.slider, st.selectbox, st.text_input, st.date_input, st.file_uploader, ‚Ä¶\nOutputs: st.table, st.dataframe, st.code, st.map, st.plotly_chart, st.pyplot, ‚Ä¶\nLayout: st.sidebar, st.columns, st.container, st.tabs, st.expander\n\n\n\n\n\n\n\nNote\n\n\nEach widget takes a key (optional) and writes to st.session_state[key]."
  },
  {
    "objectID": "lecture05.html#quick-histogram-app-parallel-to-the-shiny-demo",
    "href": "lecture05.html#quick-histogram-app-parallel-to-the-shiny-demo",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Quick histogram app (parallel to the Shiny demo)",
    "text": "Quick histogram app (parallel to the Shiny demo)\n\nimport streamlit as st\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nst.title(\"Old Faithful (demo with random data)\")\n\n# Inputs\nbins    = st.slider(\"Number of bins\", min_value=1, max_value=50, value=30, key=\"bins\")\nlabel_x = st.text_input(\"X-axis label\", value=\"Value\", key=\"label_x\")\ntitle   = st.text_input(\"Plot title\", value=\"Histogram\", key=\"title\")\n\n# Data & plot\nx = np.random.normal(size=272)\nfig, ax = plt.subplots()\nax.hist(x, bins=bins, edgecolor=\"white\")\nax.set_xlabel(label_x)\nax.set_title(title)\nst.pyplot(fig)"
  },
  {
    "objectID": "lecture05.html#rerun-model-vs.-reactive-graph",
    "href": "lecture05.html#rerun-model-vs.-reactive-graph",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Rerun model vs.¬†reactive graph",
    "text": "Rerun model vs.¬†reactive graph\n\nStreamlit: any widget change reruns the script from the top; state lives in st.session_state.\nShiny: uses a reactive graph and recomputes only dependent nodes.\n\n\n\n\n\n\n\nTip\n\n\nUse caching (@st.cache_data, @st.cache_resource) to avoid recomputing expensive work on each rerun."
  },
  {
    "objectID": "lecture05.html#caching-essentials",
    "href": "lecture05.html#caching-essentials",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Caching essentials",
    "text": "Caching essentials\n\nimport streamlit as st\nimport pandas as pd\n\n@st.cache_data(ttl=600)\ndef load_data(path: str) -&gt; pd.DataFrame:\n    return pd.read_csv(path)\n\n@st.cache_resource\ndef get_big_model():\n    # expensive initialization\n    return object()\n\n# Usage\n# df = load_data(\"data.csv\")\n# model = get_big_model()\n\n\ncache_data = memoize data/compute results; ttl/show_spinner options.\ncache_resource = memoize resources (clients, models, connections)."
  },
  {
    "objectID": "lecture05.html#control-evaluation-time-buttons-forms",
    "href": "lecture05.html#control-evaluation-time-buttons-forms",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Control evaluation time (buttons & forms)",
    "text": "Control evaluation time (buttons & forms)\n\nimport streamlit as st\nimport time\n\nwith st.form(\"params\"):\n    n = st.number_input(\"N\", min_value=1, max_value=10_000, value=1000)\n    submitted = st.form_submit_button(\"Compute\")\n\nif submitted:\n    with st.spinner(\"Crunching numbers...\"):\n        time.sleep(1)\n        st.success(f\"Done! Computed with N={n}\")\n\n\nForms group inputs and run only on submit.\nst.button, st.toggle also gate heavy work."
  },
  {
    "objectID": "lecture05.html#callbacks-session_state",
    "href": "lecture05.html#callbacks-session_state",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Callbacks & session_state",
    "text": "Callbacks & session_state\n\nimport streamlit as st\n\ndef on_bins_change():\n    st.session_state[\"title\"] = f\"Histogram (bins={st.session_state['bins']})\"\n\nst.slider(\"Bins\", 1, 50, 30, key=\"bins\", on_change=on_bins_change)\nst.text_input(\"Plot title\", key=\"title\")\nst.write(st.session_state)\n\n\nUse on_change/on_click to run callbacks.\nst.session_state stores cross‚Äërerun state."
  },
  {
    "objectID": "lecture05.html#layout-patterns",
    "href": "lecture05.html#layout-patterns",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Layout patterns",
    "text": "Layout patterns\n\nimport streamlit as st\n\nst.sidebar.success(\"Filters go here\")\n\nleft, right = st.columns([1, 2])\nwith left:\n    st.markdown(\"### Controls\")\n    _ = st.selectbox(\"Metric\", [\"RMSE\", \"MAE\", \"R^2\"])\nwith right:\n    st.markdown(\"### Chart\")\n    st.line_chart({\"y\": [1, 3, 2, 4]})\n\nwith st.expander(\"Details\"):\n    st.code(\"print('debug info')\")"
  },
  {
    "objectID": "lecture05.html#multipage-apps",
    "href": "lecture05.html#multipage-apps",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Multipage apps",
    "text": "Multipage apps\nmy_app/\n  app.py                # Home page\n  pages/\n    1_Explore.py\n    2_Model.py\n    3_Report.py\n\n# app.py\nimport streamlit as st\nst.set_page_config(page_title=\"My App\", layout=\"wide\")\nst.title(\"Home\")\nst.write(\"Welcome!\")\n\n\nPages appear automatically as a sidebar navigation.\nPrefix numbers to control ordering."
  },
  {
    "objectID": "lecture05.html#components-charts",
    "href": "lecture05.html#components-charts",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Components & charts",
    "text": "Components & charts\n\nNative charts: st.line_chart, st.bar_chart, st.scatter_chart.\nMatplotlib/Altair/Plotly: st.pyplot(fig), st.altair_chart(chart), st.plotly_chart(fig).\nCustom components: third‚Äëparty JS/TS via streamlit-components (advanced).\n\n\n# Altair example (declarative charts)\nimport altair as alt, pandas as pd, streamlit as st\n\ncars = pd.DataFrame({\"hp\": [110, 90, 120], \"mpg\": [21, 30, 18]})\nchart = alt.Chart(cars).mark_circle().encode(x=\"hp\", y=\"mpg\")\nst.altair_chart(chart, use_container_width=True)"
  },
  {
    "objectID": "lecture05.html#data-display-interactivity",
    "href": "lecture05.html#data-display-interactivity",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Data display & interactivity",
    "text": "Data display & interactivity\n\nimport streamlit as st\nimport pandas as pd\n\nst.subheader(\"Editable table\")\ndf = pd.DataFrame({\"a\": [1, 2, 3], \"b\": [4, 5, 6]})\nedited = st.dataframe(df, use_container_width=True)\n\nst.subheader(\"Download\")\nst.download_button(\"Download CSV\", df.to_csv(index=False), file_name=\"data.csv\")"
  },
  {
    "objectID": "lecture05.html#performance-tips",
    "href": "lecture05.html#performance-tips",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Performance tips",
    "text": "Performance tips\n\nCache heavy work with @st.cache_data and @st.cache_resource.\nAvoid global mutation; prefer pure functions + caching.\nUse st.experimental_fragment (if available) to isolate reruns on parts of the page.\nMinimize large st.dataframe() payloads; paginate or sample for previews.\nOffload long tasks and stream results with st.write_stream (if relevant) or background services."
  },
  {
    "objectID": "lecture05.html#testing-quality",
    "href": "lecture05.html#testing-quality",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Testing & quality",
    "text": "Testing & quality\n\nUnit-test pure Python logic with pytest.\nSnapshot/visual tests using Playwright or Selenium on the served app.\nType-check with mypy/pyright; lint with ruff.\nOrganize app code into modules (app/, components/, services/)."
  },
  {
    "objectID": "lecture05.html#packaging-project-structure-suggestion",
    "href": "lecture05.html#packaging-project-structure-suggestion",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Packaging & project structure (suggestion)",
    "text": "Packaging & project structure (suggestion)\nstreamlit_app/\n  app.py\n  pages/\n  app/__init__.py\n  app/data.py        # data loading (cached)\n  app/viz.py         # plotting utilities\n  app/layout.py      # column/tab builders\n  requirements.txt\n  pyproject.toml     # optional (poetry/pdm)\n\nKeep stateful UI thin; move logic to testable modules.\nPin dependencies for reproducibility."
  },
  {
    "objectID": "lecture05.html#deployment",
    "href": "lecture05.html#deployment",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Deployment",
    "text": "Deployment\n\nStreamlit Community Cloud: connect a Git repo, configure Python version & secrets.\nDocker: FROM python:3.12-slim ‚Üí pip install -r requirements.txt ‚Üí streamlit run app.py --server.port 8501 --server.address 0.0.0.0.\nReverse proxy: serve behind Nginx/Traefik; enable WebSocket support.\nSecrets: use st.secrets[\"key\"] for API tokens."
  },
  {
    "objectID": "lecture05.html#common-pitfalls-how-to-avoid-them",
    "href": "lecture05.html#common-pitfalls-how-to-avoid-them",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Common pitfalls & how to avoid them",
    "text": "Common pitfalls & how to avoid them\n\nForgetting key ‚Üí widgets clobber each other.\nDoing heavy work on each rerun ‚Üí add forms/buttons and cache.\nMutating global objects ‚Üí can break caching; prefer pure returns.\nLarge images/tables ‚Üí increase latency; downsample or paginate."
  },
  {
    "objectID": "lecture05.html#minimal-template-you-can-copy",
    "href": "lecture05.html#minimal-template-you-can-copy",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Minimal template you can copy",
    "text": "Minimal template you can copy\n\n# app.py\nimport streamlit as st\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\nst.set_page_config(page_title=\"Template\", layout=\"wide\")\n\nst.title(\"Project Title\")\n\nwith st.sidebar:\n    st.header(\"Controls\")\n    n = st.slider(\"N\", 10, 5000, 500)\n    run = st.button(\"Run analysis\")\n\n@st.cache_data\ndef simulate(n):\n    import numpy as np\n    x = np.random.randn(n)\n    return pd.DataFrame({\"x\": x})\n\nif run:\n    df = simulate(n)\n    st.dataframe(df.head())\n    fig, ax = plt.subplots()\n    ax.hist(df[\"x\"], bins=30, edgecolor=\"white\")\n    st.pyplot(fig)\nelse:\n    st.info(\"Adjust parameters and click **Run analysis**.\")"
  },
  {
    "objectID": "lecture05.html#to-go-further-1",
    "href": "lecture05.html#to-go-further-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "To go further",
    "text": "To go further\n\nDocs: https://docs.streamlit.io/\nGallery & tutorials: https://streamlit.io/gallery\nStreamlit Components: https://docs.streamlit.io/develop/concepts/components\nCheatsheet: search ‚ÄúStreamlit cheatsheet‚Äù for a handy reference.\n\n\n\n\n\n\n\nTip\n\n\nWant a side-by-side set of slides comparing Shiny vs Streamlit patterns for your course? I can generate a combined deck with parallel examples."
  },
  {
    "objectID": "lecture05.html#outcomes-agenda-60",
    "href": "lecture05.html#outcomes-agenda-60",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Outcomes & Agenda (60‚Äô)",
    "text": "Outcomes & Agenda (60‚Äô)\n\nOutcomes: tidy data ‚Üí 1 polished chart ‚Üí 1‚Äëpage web app (Streamlit or Shiny) + publication checklist.\nFocus: We use LLMs (ChatGPT) to scaffold, critique, and polish.\nAgenda (mins): 2 intro ‚Ä¢ 6 case & prompts ‚Ä¢ 10 tidy & validate ‚Ä¢ 12 chart ‚Ä¢ 20 app ‚Ä¢ 8 checklist & wrap.\n\n\n\n\n\n\n\nTip\n\n\nThroughout, copy/paste prompt patterns from the ‚ÄúCheatsheet‚Äù slides. Keep your schema visible when prompting."
  },
  {
    "objectID": "lecture05.html#case-study-energy-economy-brief",
    "href": "lecture05.html#case-study-energy-economy-brief",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Case Study: Energy & Economy Brief",
    "text": "Case Study: Energy & Economy Brief\n\nMetrics: monthly electricity price index (price) and inflation (cpi) for 3‚Äì4 countries, 2019‚Äì2025.\nTidy table (long): date, country, metric, value (month‚Äëend dates, units documented).\nDeliverables: one publication‚Äëready line chart + a micro‚Äëapp (country/metric selectors, KPI card, chart, download).\n\nWhere would look for these data?\nIf you don‚Äôt have data: use the synthetic fallback in the next slides (identical schema)."
  },
  {
    "objectID": "lecture05.html#synthetic-data-tests-optional",
    "href": "lecture05.html#synthetic-data-tests-optional",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Synthetic Data & Tests (optional)",
    "text": "Synthetic Data & Tests (optional)\n\nGenerates monthly data for CH, FR, DE, IT with two metrics: price (electricity price index) and cpi (inflation index).\nFeatures: trend, seasonality, 2022 energy shock with 2023 partial unwind, small stochastic noise.\nOutput: long table data/golden.parquet with columns: date, country, metric, value + sanity checks."
  },
  {
    "objectID": "lecture05.html#synthetic-data-tests-optional-1",
    "href": "lecture05.html#synthetic-data-tests-optional-1",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Synthetic Data & Tests (optional)",
    "text": "Synthetic Data & Tests (optional)\n\nPythonR\n\n\n\n# python/synth_and_tests.py\n# Reproducible, realistic synthetic monthly data (2019-01 to 2025-12)\nimport os, numpy as np, pandas as pd\n\nrng = np.random.default_rng(123)\ncountries = [\"CH\", \"FR\", \"DE\", \"IT\"]\ndates = pd.period_range(\"2019-01\", \"2025-12\", freq=\"M\").to_timestamp(\"M\")\nn = len(dates)\nt = np.arange(n)\n\ndef price_series(idx: int) -&gt; np.ndarray:\n    # Electricity price index: trend + seasonality + 2022 shock + partial 2023 unwind + mild AR-like noise\n    base = 100 + 0.8*idx\n    slope = 0.12 + 0.03*idx                     # ~0.12‚Äì0.21 index pts/month\n    season_amp = 2.0 + 0.6*idx                   # stronger seasonality for some countries\n    seasonal = season_amp * np.sin(2*np.pi*(t % 12)/12)\n\n    shock = np.zeros(n)\n    m2022 = (dates &gt;= \"2022-01-31\") & (dates &lt;= \"2022-12-31\")\n    ramp = np.linspace(0, 12 + 3*idx, m2022.sum())          # build-up through 2022\n    shock[m2022] = ramp\n    m2023 = (dates &gt;= \"2023-01-31\") & (dates &lt;= \"2023-12-31\")\n    shock_end_2022 = ramp[-1] if ramp.size else 0\n    unwind = np.linspace(shock_end_2022, 6 + 1.5*idx, m2023.sum())  # partial normalization through 2023\n    shock[m2023] = unwind\n    # 2024‚Äì2025: hold residual shock level\n\n    eps = rng.normal(0, 0.6, n)                  # small noise with persistence\n    noise = np.cumsum(eps) * 0.12\n    return base + slope*t + seasonal + shock + noise\n\ndef cpi_series(idx: int) -&gt; np.ndarray:\n    # Inflation index: gradual drift, 2022 bump, 2023 cool-down, light seasonality/noise\n    base = 100 + 0.4*idx\n    drift = np.linspace(0, 10 + 2*idx, n)        # ~+10‚Äì16 pts by 2025\n    bump = np.zeros(n)\n    m2022 = (dates &gt;= \"2022-01-31\") & (dates &lt;= \"2022-12-31\")\n    bump[m2022] = np.linspace(0, 2.8 + 0.5*idx, m2022.sum())\n    cool = np.zeros(n)\n    m2023 = (dates &gt;= \"2023-01-31\") & (dates &lt;= \"2023-12-31\")\n    cool[m2023] = -np.linspace(0, 1.2, m2023.sum())\n    seasonal = 0.5 * np.sin(2*np.pi*(t % 12)/12)\n    noise = np.cumsum(rng.normal(0, 0.15, n)) * 0.08\n    return base + drift + bump + cool + seasonal + noise\n\nrows = []\nfor idx, c in enumerate(countries):\n    p = price_series(idx)\n    cp = cpi_series(idx)\n    rows += [(d, c, \"price\", float(v)) for d, v in zip(dates, p)]\n    rows += [(d, c, \"cpi\",   float(v)) for d, v in zip(dates, cp)]\n\ndf = pd.DataFrame(rows, columns=[\"date\", \"country\", \"metric\", \"value\"]).sort_values([\"country\",\"metric\",\"date\"])\nos.makedirs(\"data\", exist_ok=True)\ndf.to_parquet(\"data/golden.parquet\", index=False)\n\n# Sanity checks\nassert set(df[\"country\"]) == set(countries)\nassert df[\"date\"].nunique() == n\nfor c in countries:\n    for m in [\"price\", \"cpi\"]:\n        sub = df[(df.country == c) & (df.metric == m)]\n        assert len(sub) == n, f\"Missing months for {c}-{m}\"\nassert np.isfinite(df[\"value\"]).all()\nprint(f\"OK: {len(df):,} rows ¬∑ {len(countries)} countries √ó 2 metrics √ó {n} months\")\n\n\n\n\n# r/synth.R\n# Reproducible, realistic synthetic monthly data (2019-01 to 2025-12)\nlibrary(dplyr); library(lubridate); library(purrr); library(arrow)\n\nset.seed(123)\ncountries &lt;- c(\"CH\",\"FR\",\"DE\",\"IT\")\ndates &lt;- seq(ymd(\"2019-01-31\"), ymd(\"2025-12-31\"), by = \"1 month\")\nn &lt;- length(dates)\nt &lt;- seq_len(n) - 1\n\nprice_series &lt;- function(idx){\n  base &lt;- 100 + 0.8*idx\n  slope &lt;- 0.12 + 0.03*idx                    # ~0.12‚Äì0.21 per month\n  season_amp &lt;- 2.0 + 0.6*idx\n  seasonal &lt;- season_amp * sin(2*pi*((t) %% 12)/12)\n\n  shock &lt;- rep(0, n)\n  m2022 &lt;- dates &gt;= ymd(\"2022-01-31\") & dates &lt;= ymd(\"2022-12-31\")\n  ramp &lt;- seq(0, 12 + 3*idx, length.out = sum(m2022))\n  shock[m2022] &lt;- ramp\n  m2023 &lt;- dates &gt;= ymd(\"2023-01-31\") & dates &lt;= ymd(\"2023-12-31\")\n  shock_end_2022 &lt;- if (length(ramp)) tail(ramp, 1) else 0\n  unwind &lt;- seq(shock_end_2022, 6 + 1.5*idx, length.out = sum(m2023))\n  shock[m2023] &lt;- unwind\n  eps &lt;- cumsum(rnorm(n, 0, 0.6)) * 0.12        # mild persistence\n  base + slope*t + seasonal + shock + eps\n}\n\ncpi_series &lt;- function(idx){\n  base &lt;- 100 + 0.4*idx\n  drift &lt;- seq(0, 10 + 2*idx, length.out = n)   # ~+10‚Äì16 by 2025\n  bump &lt;- rep(0, n)\n  m2022 &lt;- dates &gt;= ymd(\"2022-01-31\") & dates &lt;= ymd(\"2022-12-31\")\n  bump[m2022] &lt;- seq(0, 2.8 + 0.5*idx, length.out = sum(m2022))\n  cool &lt;- rep(0, n)\n  m2023 &lt;- dates &gt;= ymd(\"2023-01-31\") & dates &lt;= ymd(\"2023-12-31\")\n  cool[m2023] &lt;- -seq(0, 1.2, length.out = sum(m2023))\n  seasonal &lt;- 0.5 * sin(2*pi*((t) %% 12)/12)\n  noise &lt;- cumsum(rnorm(n, 0, 0.15)) * 0.08\n  base + drift + bump + cool + seasonal + noise\n}\n\ndf &lt;- map2_dfr(countries, seq_along(countries) - 1, function(c, idx){\n  tibble(\n    date = rep(dates, 2),\n    country = c,\n    metric = rep(c(\"price\",\"cpi\"), each = n),\n    value = c(price_series(idx), cpi_series(idx))\n  )\n}) %&gt;% arrange(country, metric, date)\n\ndir.create(\"data\", showWarnings = FALSE)\narrow::write_parquet(df, \"data/golden.parquet\")\n\n# Sanity checks\nstopifnot(length(unique(df$date)) == n)\nstopifnot(setequal(unique(df$country), countries))\nstopifnot(all(df %&gt;% count(country, metric) %&gt;% pull(n) == n))\nstopifnot(all(is.finite(df$value)))\nmessage(sprintf(\"OK: %s rows ¬∑ %s countries √ó 2 metrics √ó %s months\", nrow(df), length(countries), n))"
  },
  {
    "objectID": "lecture05.html#prompt-cheatsheet-12",
    "href": "lecture05.html#prompt-cheatsheet-12",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Prompt Cheatsheet (1/2)",
    "text": "Prompt Cheatsheet (1/2)\nA ‚Äî Wireframes & KPIs\n\nAct as a visualization TA. Given columns date,country,metric,value, propose 3 dashboard wireframes (KPI strip + main trend + small multiples). Output: titles, annotation ideas, and accessibility notes.\n\nB ‚Äî Tidy & Validate (already done with the synthetic data)\n\nWrite code to: (1) coerce month‚Äëend dates, (2) detect duplicates on (date,country,metric), (3) export data/golden.parquet, and (4) print a concise validation summary."
  },
  {
    "objectID": "lecture05.html#prompt-cheatsheet-22",
    "href": "lecture05.html#prompt-cheatsheet-22",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Prompt Cheatsheet (2/2)",
    "text": "Prompt Cheatsheet (2/2)\nC ‚Äî Chart Critique\n\nGiven this code + chart description, propose 3 concrete improvements (titles/scales/labels) and show the revised code.\n\nD ‚Äî App Scaffold\n\nGenerate a one‚Äëpage Streamlit/Shiny app with country & metric selectors, a KPI card (last value + YoY%), main chart, and a download button. Keep it minimal and fast.\n\nE ‚Äî Publication Audit\n\nAudit the chart/app against this checklist (titles, axes/units, color‚Äëblind safety, footnotes, last updated). Return exact fixes (code + text) and a 2‚Äësentence executive summary."
  },
  {
    "objectID": "lecture05.html#tidy-validate-python",
    "href": "lecture05.html#tidy-validate-python",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Tidy & Validate ‚Äî Python",
    "text": "Tidy & Validate ‚Äî Python\n\n# python/tidy.py\nimport pandas as pd, numpy as np, os\nos.makedirs(\"data\", exist_ok=True)\n\n# Try to load; otherwise create synthetic fallback\ntry:\n    df = pd.read_parquet(\"data/golden.parquet\")\nexcept Exception:\n    dates = pd.period_range(\"2019-01\", \"2025-06\", freq=\"M\").to_timestamp(\"M\")\n    countries = [\"CH\",\"FR\",\"DE\"]\n    rng = np.random.default_rng(0)\n    rows = []\n    for c in countries:\n        base = 100 + rng.normal(0,1)\n        price = base + np.cumsum(rng.normal(0,1,len(dates))) + 0.15*np.arange(len(dates))\n        cpi   = 100 + np.cumsum(np.clip(rng.normal(0,0.3,len(dates)), -0.2, 0.8))\n        rows += [(d,c,\"price\",p) for d,p in zip(dates,price)]\n        rows += [(d,c,\"cpi\",v) for d,v in zip(dates,cpi)]\n    df = pd.DataFrame(rows, columns=[\"date\",\"country\",\"metric\",\"value\"])\n\n# Coerce to month‚Äëend, check duplicates\ndf[\"date\"] = pd.to_datetime(df[\"date\"]).dt.to_period(\"M\").dt.to_timestamp(\"M\")\ndups = df.duplicated([\"date\",\"country\",\"metric\"]).sum()\nprint(f\"Rows: {len(df):,} ¬∑ Duplicates: {dups}\")\n\n# Save tidy table\ndf.to_parquet(\"data/golden.parquet\", index=False)"
  },
  {
    "objectID": "lecture05.html#tidy-validate-r",
    "href": "lecture05.html#tidy-validate-r",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Tidy & Validate ‚Äî R",
    "text": "Tidy & Validate ‚Äî R\n\n# r/tidy.R\nlibrary(dplyr); library(lubridate); library(arrow)\nif (!dir.exists(\"data\")) dir.create(\"data\")\n\nif (!file.exists(\"data/golden.parquet\")) {\n  dates &lt;- seq(ymd(\"2019-01-31\"), ymd(\"2025-06-30\"), by=\"1 month\")\n  mk &lt;- function(n) cumsum(rnorm(n, 0, 1))\n  make_country &lt;- function(c) {\n    tibble(date=dates, country=c, metric=\"price\", value=100 + mk(length(dates)) + 0.15*seq_along(dates)) |&gt;\n      bind_rows(tibble(date=dates, country=c, metric=\"cpi\", value=100 + cumsum(pmax(rnorm(length(dates),0,0.3),-0.2))))\n  }\n  df &lt;- bind_rows(lapply(c(\"CH\",\"FR\",\"DE\"), make_country))\n  write_parquet(df, \"data/golden.parquet\")\n}\n\ndf &lt;- read_parquet(\"data/golden.parquet\") |&gt;\n  mutate(date = ceiling_date(as.Date(date), \"month\") - days(1))\n\nsum(duplicated(df[c(\"date\",\"country\",\"metric\")]))\nwrite_parquet(df, \"data/golden.parquet\")"
  },
  {
    "objectID": "lecture05.html#publicationready-chart-python-altair",
    "href": "lecture05.html#publicationready-chart-python-altair",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Publication‚ÄëReady Chart ‚Äî Python (Altair)",
    "text": "Publication‚ÄëReady Chart ‚Äî Python (Altair)\n\n# python/chart.py\nimport altair as alt, pandas as pd\nalt.data_transformers.disable_max_rows()\n\ndf = pd.read_parquet(\"data/golden.parquet\")\nprice = df.query(\"metric=='price'\")\n\nchart = (alt.Chart(price)\n    .mark_line()\n    .encode(\n        x=alt.X(\"date:T\", title=None),\n        y=alt.Y(\"value:Q\", title=\"Electricity price index (2019-12=100)\"),\n        color=alt.Color(\"country:N\", legend=alt.Legend(orient=\"bottom\"))\n    )\n    .properties(width=760, height=340, title=\"Electricity price index by country\")\n)\n\nchart.save(\"figs/price_trend.svg\")\n\n\n\n\n\n\n\nNote\n\n\nAsk ChatGPT for title/subtitle copy, annotation ideas, and accessibility tweaks (line styles, label size, legend placement)."
  },
  {
    "objectID": "lecture05.html#publicationready-chart-r-ggplot2",
    "href": "lecture05.html#publicationready-chart-r-ggplot2",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Publication‚ÄëReady Chart ‚Äî R (ggplot2)",
    "text": "Publication‚ÄëReady Chart ‚Äî R (ggplot2)\n\n# r/chart.R\nlibrary(ggplot2); library(dplyr); library(arrow)\ndf &lt;- read_parquet(\"data/golden.parquet\") |&gt; filter(metric==\"price\")\n\nggplot(df, aes(date, value, color=country)) +\n  geom_line(linewidth=.9) +\n  labs(title=\"Electricity price index by country\",\n       subtitle=\"Monthly, 2019‚Äì2025; baseline 2019-12=100\",\n       x=NULL, y=\"Index (2019-12=100)\") +\n  theme_minimal(base_size = 13) +\n  theme(legend.position=\"bottom\")\n\nggsave(\"figs/price_trend.svg\", width=8.5, height=4.2, dpi=300)"
  },
  {
    "objectID": "lecture05.html#microapp-python-streamlit",
    "href": "lecture05.html#microapp-python-streamlit",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Micro‚ÄëApp ‚Äî Python (Streamlit)",
    "text": "Micro‚ÄëApp ‚Äî Python (Streamlit)\n\n# app.py\nimport streamlit as st, pandas as pd, altair as alt\n@st.cache_data\ndef load(): return pd.read_parquet(\"data/golden.parquet\")\n\ndf = load()\nst.title(\"Energy & Economy Brief\")\ncountry = st.selectbox(\"Country\", sorted(df[\"country\"].unique()))\nmetric  = st.selectbox(\"Metric\",  sorted(df[\"metric\"].unique()))\nsub = df[(df.country==country) & (df.metric==metric)].sort_values(\"date\")\nlast = sub.value.iloc[-1]\nyoy  = None\nif len(sub) &gt; 12:\n    yoy = (sub.value.iloc[-1]/sub.value.iloc[-13]-1)*100\nst.metric(\"Last value\", f\"{last:.1f}\", f\"{yoy:+.1f}% YoY\" if yoy is not None else None)\nst.altair_chart(alt.Chart(sub).mark_line().encode(x=\"date:T\", y=\"value:Q\"), use_container_width=True)\nst.download_button(\"Download CSV\", sub.to_csv(index=False).encode(), file_name=f\"{country}_{metric}.csv\")\n# run: streamlit run app.py"
  },
  {
    "objectID": "lecture05.html#microapp-r-shiny",
    "href": "lecture05.html#microapp-r-shiny",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Micro‚ÄëApp ‚Äî R (Shiny)",
    "text": "Micro‚ÄëApp ‚Äî R (Shiny)\n\n# app.R\nlibrary(shiny); library(dplyr); library(ggplot2); library(arrow)\ndf &lt;- read_parquet(\"data/golden.parquet\")\nui &lt;- fluidPage(\n  titlePanel(\"Energy & Economy Brief\"),\n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"country\",\"Country\", choices = sort(unique(df$country))),\n      selectInput(\"metric\",\"Metric\", choices = sort(unique(df$metric)))\n    ),\n    mainPanel(\n      uiOutput(\"kpi\"), plotOutput(\"main\"), downloadButton(\"dl\",\"Download CSV\")\n    )\n  )\n)\nserver &lt;- function(input, output, session){\n  dat &lt;- reactive(df |&gt; filter(country==input$country, metric==input$metric) |&gt; arrange(date))\n  output$kpi &lt;- renderUI({\n    d &lt;- dat(); if(nrow(d)&lt;1) return(NULL)\n    last &lt;- tail(d$value,1); yoy &lt;- if(nrow(d)&gt;12) round((last/d$value[nrow(d)-12]-1)*100,1) else NA\n    tagList(h4(sprintf(\"Last: %.1f\", last)), if(!is.na(yoy)) h5(sprintf(\"YoY: %.1f%%\", yoy)))\n  })\n  output$main &lt;- renderPlot({ ggplot(dat(), aes(date,value)) + geom_line(linewidth=.9) + theme_minimal(13) })\n  output$dl &lt;- downloadHandler(\n    filename = function() paste0(input$country,\"_\",input$metric,\".csv\"),\n    content  = function(file) write.csv(dat(), file, row.names = FALSE)\n  )\n}\nshinyApp(ui, server)"
  },
  {
    "objectID": "lecture05.html#publicationready-checklist",
    "href": "lecture05.html#publicationready-checklist",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Publication‚ÄëReady Checklist",
    "text": "Publication‚ÄëReady Checklist\n\nClarity: informative title + scope; labeled axes; units & baselines.\nAccuracy: correct YoY and rolling logic (if any); aligned monthly periods.\nAccessibility: color‚Äëblind‚Äësafe palette; readable labels; no dual axes.\nContext: source + last updated; footnotes for methods; export SVG/PNG.\nReproducibility: requirements.txt / {renv} lock; decisions in README.\n\nPrompt: Audit the app & chart against this checklist and output exact fixes with revised code blocks."
  },
  {
    "objectID": "lecture05.html#repo-skeleton-quick-start",
    "href": "lecture05.html#repo-skeleton-quick-start",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Repo Skeleton & Quick Start",
    "text": "Repo Skeleton & Quick Start\nworkshop/\n‚îú‚îÄ data/               # golden.parquet lives here\n‚îú‚îÄ python/             # tidy.py, chart.py\n‚îú‚îÄ r/                  # tidy.R, chart.R\n‚îú‚îÄ figs/\n‚îú‚îÄ app.py              # Streamlit app (or app.R for Shiny)\n‚îú‚îÄ README.md\n‚îú‚îÄ requirements.txt    # pandas, altair, streamlit, pyarrow\n‚îî‚îÄ renv.lock           # if using R\nRun (Python): python python/tidy.py ‚Üí python python/chart.py ‚Üí streamlit run app.py Run (R): Rscript r/tidy.R ‚Üí Rscript r/chart.R ‚Üí Rscript app.R"
  },
  {
    "objectID": "lecture05.html#closing-next-steps",
    "href": "lecture05.html#closing-next-steps",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Closing & Next Steps",
    "text": "Closing & Next Steps\n\nWhere did LLM help most? scaffolding ‚Ä¢ critique ‚Ä¢ copywriting ‚Ä¢ QA.\nExtensions: small multiples; annotation layers; scenario slider; auto‚Äëreport (Quarto) bundling top charts + narrative."
  },
  {
    "objectID": "lecture05.html#dashboards-quick-design-recap",
    "href": "lecture05.html#dashboards-quick-design-recap",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Dashboards: quick design recap",
    "text": "Dashboards: quick design recap\n\nDashboards are visual displays of the most important information to reach one or more objectives, shown on a single screen for at-a-glance monitoring.\nStrongly influenced by Stephen Few (Show Me the Numbers, Information Dashboard Design).\nCore principles:\n\nPrefer bars/lines over pies and gauges.\nAvoid clutter and unnecessary decoration.\nHighlight what matters; give enough context, not too much detail."
  },
  {
    "objectID": "lecture05.html#when-to-use-power-bi-vs-shiny-vs-streamlit",
    "href": "lecture05.html#when-to-use-power-bi-vs-shiny-vs-streamlit",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "When to use Power BI vs Shiny vs Streamlit",
    "text": "When to use Power BI vs Shiny vs Streamlit\n\n\n\n\n\n\n\n\n\nQuestion\nPower BI\nShiny\nStreamlit\n\n\n\n\nTarget users\nBusiness users, managers\nStatisticians, R users\nData scientists, Python users\n\n\nMain strength\nSelf-service BI, data models\nStatistical workflows in R\nML & prototyping in Python\n\n\nGovernance & sharing\nVery strong (Power BI Service)\nNeeds server / Shiny Server\nNeeds server / Streamlit Cloud\n\n\nLevel of coding\nLow/medium (M, DAX, some R/Py)\nMedium/high (R)\nMedium/high (Python)\n\n\nBest for\nKPI dashboards, corporate views\nCustom modelling tools\nQuick interactive experiments\n\n\n\n\nIn practice, you often combine them:\n\nPower BI for standard dashboards.\nShiny/Streamlit for exploratory tools and niche analytics."
  },
  {
    "objectID": "lecture05.html#power-bi-building-blocks",
    "href": "lecture05.html#power-bi-building-blocks",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Power BI building blocks",
    "text": "Power BI building blocks\n\nPower BI Desktop (what we use in class):\n\nConnect to data sources.\nClean and transform with Power Query.\nModel data (relations, star schema).\nAdd DAX measures.\nBuild visuals & dashboards.\n\nPower BI Service / Fabric (online):\n\nPublish and share.\nRefresh data.\nManage access & governance.\n\n\nWe will focus on Desktop + Power Query and show where R / Python fit."
  },
  {
    "objectID": "lecture05.html#power-query-dax-two-languages",
    "href": "lecture05.html#power-query-dax-two-languages",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Power Query & DAX: two languages",
    "text": "Power Query & DAX: two languages\n\nPower Query (M language)\n\nETL / data wrangling: imports, column types, joins, filters, pivots, etc.\nCode is generated by clicking, but is traceable and reproducible.\n\nDAX (Data Analysis Expressions)\n\nCalculated columns & measures on the semantic model.\nDynamic aggregations depending on filters (visual context).\n\nAnalogy:\n\nPower Query M ‚âà dplyr / data.table / pandas.\nDAX ‚âà group_by + summarise but evaluated on-the-fly in visuals."
  },
  {
    "objectID": "lecture05.html#strengths-of-power-bi",
    "href": "lecture05.html#strengths-of-power-bi",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Strengths of Power BI",
    "text": "Strengths of Power BI\n\n#1 or #2 tool in many large companies for dashboards and self-service BI.\nStrong visualization engine, good defaults.\nConnects to many data sources; handles large volumes.\nPower Query gives a structured, stepwise, and documented data pipeline.\nIntegrates with R and Python for advanced analytics and exports."
  },
  {
    "objectID": "lecture05.html#typical-data-analytics-workflow-power-bi-view",
    "href": "lecture05.html#typical-data-analytics-workflow-power-bi-view",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Typical data analytics workflow (Power BI view)",
    "text": "Typical data analytics workflow (Power BI view)\nIn many DA projects you will:\n\nImport data (Excel, CSV, SQL, SAP extracts, folders of files, ‚Ä¶).\nClean & transform:\n\nChange column types, rename, filter.\nAdd new columns (custom formulas).\nGroup & summarize.\nAppend / merge tables.\n\nModel the data (relations, star schemas).\nVisualize with charts and tables.\nExport / reuse the prepared data (Power BI visuals, CSVs, R/Python).\n\nPower BI + Power Query cover steps 1‚Äì4, and we can integrate R/Python in 2, 4 & 5."
  },
  {
    "objectID": "lecture05.html#getting-data-into-power-bi",
    "href": "lecture05.html#getting-data-into-power-bi",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Getting data into Power BI",
    "text": "Getting data into Power BI\n\nUse Home ‚Üí Get data.\nCommon sources in this course:\n\nExcel workbooks (multiple sheets = multiple tables).\nCSV / text files (delimiters: ,, ;, tab, ‚Ä¶).\nFolders of files (for monthly SAP extracts, etc.).\n\nAfter import you can:\n\nLoad directly to the model; or\nClick Transform data to open Power Query."
  },
  {
    "objectID": "lecture05.html#power-query-basics",
    "href": "lecture05.html#power-query-basics",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Power Query basics",
    "text": "Power Query basics\nThe Power Query editor shows:\n\nQueries pane: list of tables (queries).\nData preview: sample rows.\nApplied Steps: ordered list of transformations.\nFormula bar: M code for the current step.\n\nKey ideas:\n\nEvery transformation adds a step and corresponding M expression.\nYou can rename, reorder, delete steps.\nThis gives full traceability for your data pipeline."
  },
  {
    "objectID": "lecture05.html#column-types-distribution-profiles",
    "href": "lecture05.html#column-types-distribution-profiles",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Column types, distribution & profiles",
    "text": "Column types, distribution & profiles\n\nEach column has a type (text, number, date, ‚Ä¶).\nUse the Column quality / distribution / profile options to:\n\nSee missing values, distinct values.\nCheck minimum, maximum, mean, etc.\n\nFix suspicious types early (e.g.¬†IDs imported as numbers instead of text).\n\nThis is the Power BI counterpart of doing str() / summary() / skim() in R or df.info() / df.describe() in Python."
  },
  {
    "objectID": "lecture05.html#append-files-stacking-data",
    "href": "lecture05.html#append-files-stacking-data",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Append files (stacking data)",
    "text": "Append files (stacking data)\nUse this when you have multiple files with the same structure:\n\nGet data ‚Üí Folder and select the folder with files.\nIn Power Query, click Combine ‚Üí Combine & Transform.\nChoose the worksheet / table to import.\nInspect the generated steps.\n\nWatch out:\n\nAll files must have identical columns (names + types).\nIf Power Query infers wrong types in the last step, delete or edit that step."
  },
  {
    "objectID": "lecture05.html#merge-join-tables",
    "href": "lecture05.html#merge-join-tables",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Merge / join tables",
    "text": "Merge / join tables\n\nHome ‚Üí Merge queries to join tables.\nTypical use case: add master data (e.g.¬†customers, products) to a transaction table.\nChoose:\n\nPrimary table.\nLookup table.\nJoin keys (can be multiple columns).\nJoin type (left, inner, full, ‚Ä¶).\n\nThen expand the resulting column and select the fields you need.\n\nEquivalent to left_join, inner_join, etc. in dplyr or merge in pandas."
  },
  {
    "objectID": "lecture05.html#grouping-and-summarizing",
    "href": "lecture05.html#grouping-and-summarizing",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Grouping and summarizing",
    "text": "Grouping and summarizing\nTwo main options:\n\nIn Power Query:\n\nTransform ‚Üí Group by (switch to Advanced).\nChoose grouping keys and aggregation (sum, count, min, max, ‚Ä¶).\nCreates a new summarized table.\n\nIn Power BI visuals:\n\nAdd fields to a Table or Matrix visualization.\nAggregations computed on the fly (using implicit or explicit DAX measures).\n\n\nPower Query summaries are static (pre-computed), DAX summaries are dynamic (reactive to filters)."
  },
  {
    "objectID": "lecture05.html#pivot-wide-pivot-long",
    "href": "lecture05.html#pivot-wide-pivot-long",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Pivot wide / pivot long",
    "text": "Pivot wide / pivot long\n\nPivot columns (wide): turn values in a column into separate columns.\n\nE.g. movement types 101/102 become separate date columns.\nThen compute differences between dates.\n\nUnpivot columns (long): turn multiple columns into key‚Äìvalue pairs.\n\nUseful for time series, measures in columns, etc.\n\n\nThese operations mirror pivot_wider / pivot_longer in tidyr or melt/pivot in pandas."
  },
  {
    "objectID": "lecture05.html#exporting-data-from-power-bi",
    "href": "lecture05.html#exporting-data-from-power-bi",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Exporting data from Power BI",
    "text": "Exporting data from Power BI\nOptions:\n\nExport from a visual (up to ~30k rows):\n\nUse a Table visual, click ‚Ä¶ ‚Üí Export data.\nExports to CSV.\n\nUse R or Python in Power Query to write larger tables out:\n\nAdd a reference to the table query.\nTransform ‚Üí Run R script or Transform ‚Üí Run Python script.\nWrite to CSV or Excel in a controlled folder.\n\n\nWe will use this to bridge from Power BI to external R/Python analyses."
  },
  {
    "objectID": "lecture05.html#export-30k-rows-with-r-example",
    "href": "lecture05.html#export-30k-rows-with-r-example",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Export > 30k rows with R (example)",
    "text": "Export &gt; 30k rows with R (example)\nIn Power Query, on a referenced query, add Run R script and use:\n\n# 'dataset' holds the input data for this script\nlocal_packages &lt;- installed.packages()[, 1]\n\nif (!\"writexl\" %in% local_packages) {\n  install.packages(\"writexl\")\n}\n\nif (nrow(dataset) &lt;= 500000) {\n  writexl::write_xlsx(dataset, \"C:/temp/data.xlsx\")\n} else {\n  write.table(dataset, \"C:/temp/data.csv\", row.names = FALSE, sep = \",\")\n}\n\n\nMake sure the folder (e.g.¬†C:/temp/) exists and is writable.\nPower BI will pass the current table as dataset."
  },
  {
    "objectID": "lecture05.html#export-30k-rows-with-python-example",
    "href": "lecture05.html#export-30k-rows-with-python-example",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Export > 30k rows with Python (example)",
    "text": "Export &gt; 30k rows with Python (example)\nSimilarly, using Run Python script in Power Query:\n\n# 'dataset' holds the input data for this script\nimport os\nimport pandas as pd\n\nos.makedirs(\"C:/temp\", exist_ok=True)\n\nif len(dataset) &lt;= 500_000:\n    out_path = \"C:/temp/data.xlsx\"\n    dataset.to_excel(out_path, index=False)\nelse:\n    out_path = \"C:/temp/data.csv\"\n    dataset.to_csv(out_path, index=False)\n\n\nPower BI provides a pandas DataFrame named dataset.\nThis is a convenient way to extract large, cleaned datasets."
  },
  {
    "objectID": "lecture05.html#r-python-in-power-bi-overview",
    "href": "lecture05.html#r-python-in-power-bi-overview",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "R & Python in Power BI: overview",
    "text": "R & Python in Power BI: overview\nYou can integrate R and Python in Power BI in three main ways:\n\nAs data sources (Get data ‚Üí R script / Python script).\nAs transformation steps in Power Query (Run R script / Run Python script).\nAs visuals (R visual / Python visual) on the report canvas.\n\nThis allows you to:\n\nReuse existing R / Python code.\nBuild advanced plots with ggplot2, matplotlib, seaborn, altair, ‚Ä¶\nRun niche models and show their results in Power BI."
  },
  {
    "objectID": "lecture05.html#configuring-r-python-in-power-bi-desktop",
    "href": "lecture05.html#configuring-r-python-in-power-bi-desktop",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Configuring R & Python in Power BI Desktop",
    "text": "Configuring R & Python in Power BI Desktop\nBefore you start:\n\nInstall R (e.g.¬†from CRAN) and / or Python (e.g.¬†from Anaconda or python.org).\nIn File ‚Üí Options and settings ‚Üí Options:\n\nGo to R scripting and set the R home directory.\nGo to Python scripting and set the Python executable.\n\n(Optional) Set up a dedicated virtual environment for Power BI.\n\nLimitations:\n\nSome packages may not work in the Power BI Service.\nR/Python visuals are rendered as images (no interactive HTML widgets)."
  },
  {
    "objectID": "lecture05.html#using-r-script-as-a-data-source",
    "href": "lecture05.html#using-r-script-as-a-data-source",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Using R script as a data source",
    "text": "Using R script as a data source\n\nHome ‚Üí Get data ‚Üí More‚Ä¶ ‚Üí Other ‚Üí R script.\nEnter R code that returns a data frame.\n\nExample:\n\n# Example R script as data source\nlibrary(readr)\n\nsales &lt;- read_csv(\"C:/data/sales.csv\")\ncustomers &lt;- read_csv(\"C:/data/customers.csv\")\n\n# join before importing in Power BI\nlibrary(dplyr)\nresult &lt;- sales %&gt;%\n  inner_join(customers, by = \"customer_id\")\n\nresult\n\n\nPower BI will detect data frames and let you select which tables to load."
  },
  {
    "objectID": "lecture05.html#using-python-script-as-a-data-source",
    "href": "lecture05.html#using-python-script-as-a-data-source",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Using Python script as a data source",
    "text": "Using Python script as a data source\n\nHome ‚Üí Get data ‚Üí More‚Ä¶ ‚Üí Other ‚Üí Python script.\nEnter Python code that creates pandas DataFrames.\n\n\n# Example Python script as data source\nimport pandas as pd\n\nsales = pd.read_csv(\"C:/data/sales.csv\")\ncustomers = pd.read_csv(\"C:/data/customers.csv\")\n\nresult = sales.merge(customers, on=\"customer_id\", how=\"inner\")\n\nresult\n\n\nAll variables that are DataFrames will be offered as tables."
  },
  {
    "objectID": "lecture05.html#r-python-scripts-in-power-query",
    "href": "lecture05.html#r-python-scripts-in-power-query",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "R / Python scripts in Power Query",
    "text": "R / Python scripts in Power Query\n\nIn Power Query: Transform ‚Üí Run R script or Transform ‚Üí Run Python script.\nPower BI passes the current table as:\n\ndataset (R): a data frame.\ndataset (Python): a pandas DataFrame.\n\n\nPattern:\n\n# R in Power Query\n# 'dataset' is provided\nlibrary(dplyr)\noutput &lt;- dataset %&gt;%\n  mutate(flag_large = Net_Value &gt; 100000)\n\n\n# Python in Power Query\n# 'dataset' is provided\nimport pandas as pd\n\noutput = dataset.copy()\noutput[\"flag_large\"] = output[\"Net_Value\"] &gt; 100_000\n\n\nThe object output is then used as the next step."
  },
  {
    "objectID": "lecture05.html#example-using-r-to-detect-duplicates",
    "href": "lecture05.html#example-using-r-to-detect-duplicates",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: using R to detect duplicates",
    "text": "Example: using R to detect duplicates\nEquivalent to the VMD duplicate bank account example:\n\n# 'dataset' contains vendor master data with BANKS, BANKL, BANKN\nlibrary(dplyr)\n\n# count rows per bank account\ncounts &lt;- dataset %&gt;%\n  group_by(BANKS, BANKL, BANKN) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  filter(n &gt; 1)\n\n# join back to keep only vendors with duplicated accounts\noutput &lt;- dataset %&gt;%\n  inner_join(counts, by = c(\"BANKS\", \"BANKL\", \"BANKN\")) %&gt;%\n  arrange(BANKN, BANKL, BANKS)\n\nThis reproduces the Power Query steps using R code."
  },
  {
    "objectID": "lecture05.html#example-using-python-to-detect-duplicates",
    "href": "lecture05.html#example-using-python-to-detect-duplicates",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: using Python to detect duplicates",
    "text": "Example: using Python to detect duplicates\n\n# 'dataset' contains vendor master data with BANKS, BANKL, BANKN\nimport pandas as pd\n\ncounts = (\n    dataset\n    .groupby([\"BANKS\", \"BANKL\", \"BANKN\"], as_index=False)\n    .size()\n    .rename(columns={\"size\": \"n\"})\n)\n\ncounts = counts[counts[\"n\"] &gt; 1]\n\noutput = (\n    dataset.merge(counts, on=[\"BANKS\", \"BANKL\", \"BANKN\"], how=\"inner\")\n    .sort_values([\"BANKN\", \"BANKL\", \"BANKS\"])\n)\n\nAgain, output becomes the next Power Query step."
  },
  {
    "objectID": "lecture05.html#r-and-python-visuals",
    "href": "lecture05.html#r-and-python-visuals",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "R and Python visuals",
    "text": "R and Python visuals\nOn the report canvas you can:\n\nAdd an R visual (blue R icon) or Python visual (yellow Py icon).\nDrag fields into the Values well.\nWrite R / Python code that uses the provided dataset (data frame / DataFrame).\n\nUse this to:\n\nCreate advanced charts (ggplot2, seaborn, altair, ‚Ä¶).\nDo small model fits and display predictions.\n\nNote: visuals are rendered as static images; interactive HTML widgets are not supported."
  },
  {
    "objectID": "lecture05.html#example-ggplot2-r-visual",
    "href": "lecture05.html#example-ggplot2-r-visual",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: ggplot2 R visual",
    "text": "Example: ggplot2 R visual\n\n# 'dataset' contains columns: hp, mpg, cyl\nlibrary(ggplot2)\n\nggplot(dataset, aes(x = hp, y = mpg, colour = factor(cyl))) +\n  geom_point(alpha = 0.7) +\n  theme_minimal() +\n  labs(x = \"Horsepower\", y = \"Miles per gallon\", colour = \"Cylinders\")\n\nThis is very similar to doing a scatter plot in a Shiny app, but embedded directly in Power BI."
  },
  {
    "objectID": "lecture05.html#example-python-matplotlib-visual",
    "href": "lecture05.html#example-python-matplotlib-visual",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Example: Python / matplotlib visual",
    "text": "Example: Python / matplotlib visual\n\n# 'dataset' contains columns: Date, Sales\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\nfig, ax = plt.subplots()\n\n# Ensure Date is datetime and sorted\ndata = dataset.copy()\ndata[\"Date\"] = pd.to_datetime(data[\"Date\"])\ndata = data.sort_values(\"Date\")\n\nax.plot(data[\"Date\"], data[\"Sales\"])\nax.set_xlabel(\"Date\")\nax.set_ylabel(\"Sales\")\nax.set_title(\"Sales over time\")\nfig.autofmt_xdate()\n\nplt.show()\n\nThis mirrors a basic Streamlit time series plot."
  },
  {
    "objectID": "lecture05.html#combining-power-bi-with-shiny-streamlit",
    "href": "lecture05.html#combining-power-bi-with-shiny-streamlit",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Combining Power BI with Shiny / Streamlit",
    "text": "Combining Power BI with Shiny / Streamlit\nA realistic project might look like:\n\nExploration & modelling:\n\nUse R / Python in RStudio / VS Code.\nBuild prototypes in Shiny or Streamlit.\n\nIndustrialization:\n\nMove core data wrangling into Power Query.\nImplement key KPIs with DAX.\nUse small R/Python snippets for special logic or exports.\n\nDashboarding:\n\nPublish the Power BI report to your organisation.\nKeep Shiny / Streamlit apps for more technical audiences."
  },
  {
    "objectID": "lecture05.html#good-practices-for-r-python-in-power-bi",
    "href": "lecture05.html#good-practices-for-r-python-in-power-bi",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Good practices for R & Python in Power BI",
    "text": "Good practices for R & Python in Power BI\n\nKeep R / Python scripts short and focused.\nPrefer Power Query / DAX for standard transformations and aggregations.\nStore R / Python code in version control (Git) and paste into Power BI.\nAvoid writing to arbitrary locations; agree on a small set of export folders.\nDocument dependencies (packages, versions) so others can reproduce.\nTest DAX measures and R/Python results thoroughly (especially KPIs)."
  },
  {
    "objectID": "lecture05.html#template-for-course-projects",
    "href": "lecture05.html#template-for-course-projects",
    "title": "Lecture 5 ‚Äî Modern Tools: BI & LLMs",
    "section": "Template for course projects",
    "text": "Template for course projects\nFor a Power BI + R/Python project you can follow this template:\n\nCreate a .pbix file with:\n\nData import + Power Query transformations.\nA small set of DAX measures for KPIs.\n\nAdd one or two R/Python visuals for:\n\nAdvanced chart(s) or model output.\n\nOptionally, add a Power Query R/Python step to export a cleaned dataset.\nDocument:\n\nData sources.\nAll R/Python scripts used.\nThe main DAX measures.\n\n\nThis chapter complements the Shiny and Streamlit chapters by showing how to operate within a corporate BI tool while still leveraging your R and Python skills."
  },
  {
    "objectID": "lecture03.html#learning-goals",
    "href": "lecture03.html#learning-goals",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Learning goals",
    "text": "Learning goals\n\nUnderstand relational models: tables, rows, columns, keys, constraints\nWrite SQL: SELECT, WHERE, ORDER BY, LIMIT, GROUP BY, HAVING, JOIN\nConnect to SQL from R (DBI) and Python (sqlite3 / SQLAlchemy / pandas)\nUnderstand HTTP and the request/response cycle\nKnow when to use APIs vs web scraping\nParse HTML using CSS selectors (R rvest, Python BeautifulSoup)\nPeek at dynamic sites\nUse regex for cleaning and extraction (R & Python)"
  },
  {
    "objectID": "lecture03.html#typical-data-for-a-project",
    "href": "lecture03.html#typical-data-for-a-project",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Typical Data for a Project",
    "text": "Typical Data for a Project\n\n\n\nType\nDescription\n\n\n\n\nTransactional\nYour data\n\n\nBehavioral\nYour data\n\n\nPublic Data\nOpen datasets\n\n\nPremium Data\nPaid datasets"
  },
  {
    "objectID": "lecture03.html#typical-data-for-a-project-1",
    "href": "lecture03.html#typical-data-for-a-project-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Typical Data for a Project",
    "text": "Typical Data for a Project\n\n\nüí≥ Transactional (records of exchanges) - What it looks like: order lines, invoices, payments\n- Typical fields: order_id, customer_id, sku, qty, price, timestamp\n- Example dataset: UCI Online Retail II (real e-commerce transactions)\nhttps://archive.ics.uci.edu/datasets?search=Online+Retail\nüë£ Behavioral (events & interactions) - What it looks like: page views, clicks, scrolls, add-to-cart\n- Typical fields: user_id, session_id, event_name, event_params, ts\n- Example datasets/docs: GA BigQuery sample (web/app) and Snowplow events model\nhttps://developers.google.com/analytics/bigquery/web-ecommerce-demo-dataset/ ‚Ä¢ https://docs.snowplow.io/docs/fundamentals/events/\n\nüèõÔ∏è Public Data (open gov & orgs) - What it looks like: macro indicators, demographics, prices, geo\n- Where to find: opendata.swiss, World Bank WDI, Eurostat\nhttps://www.bfs.admin.ch/bfs/en/home/services/ogd/portal.html ‚Ä¢ https://data.worldbank.org/indicator ‚Ä¢ https://ec.europa.eu/eurostat/data\nüíº Premium Data (licensed/commercial) - What it looks like: real-time market data, fundamentals, consumer panels\n- Providers (examples): Bloomberg Terminal, S&P Global Market Intelligence\nhttps://www.bloomberg.com/professional/products/bloomberg-terminal/ ‚Ä¢ https://www.spglobal.com/market-intelligence/en"
  },
  {
    "objectID": "lecture03.html#data-warehouse",
    "href": "lecture03.html#data-warehouse",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Data Warehouse",
    "text": "Data Warehouse\nIn an organization, data is typically stored in:\n\nSeveral computers: operational databases\nA central place for analysis: a data warehouse for analytical data."
  },
  {
    "objectID": "lecture03.html#flow-of-data-processing",
    "href": "lecture03.html#flow-of-data-processing",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Flow of Data Processing",
    "text": "Flow of Data Processing\n\nFormulate business questions\nSelect DB/NoSQL and set it up\nETL (Extract - Transform - Load)\nQuery Data/Create predictive models\nPresent/Visualize Data"
  },
  {
    "objectID": "lecture03.html#tools-for-big-data-analysis",
    "href": "lecture03.html#tools-for-big-data-analysis",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Tools for Big Data Analysis",
    "text": "Tools for Big Data Analysis\n\n\nThere exist many tools for Big Data analysis. Some of them are:\n\nDatabases (SQL)\n\nNoSQL platforms\n\nCloud storage options (AWS, Google Cloud, etc.)\n\nThe easiest one of all (and the oldest!) is a database."
  },
  {
    "objectID": "lecture03.html#data-management-on",
    "href": "lecture03.html#data-management-on",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Data Management on‚Ä¶",
    "text": "Data Management on‚Ä¶\nMost common data management platforms:\n\nRelational Databases (RDBMS) ‚Äì Structure-based, SQL support.\nNoSQL ‚Äì Flexible schema, good for unstructured data.\n\nOn-Premises or Cloud-Based"
  },
  {
    "objectID": "lecture03.html#sql-nosql",
    "href": "lecture03.html#sql-nosql",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "SQL / NoSQL",
    "text": "SQL / NoSQL\n\n\nSQL Databases (relational databases)\n\nStructured query language\nSuited for structured data\nRelationships and tables\n\nNoSQL Databases (non-relational databases)\n\nDynamic schema for unstructured data\nFlexible for creating unique structures\nUnstructured or semi-structured data\nDocument, graph, column, KeyValue structures"
  },
  {
    "objectID": "lecture03.html#relational-systems",
    "href": "lecture03.html#relational-systems",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Relational Systems",
    "text": "Relational Systems\n\n\nAdvantages of Relational Systems:\n\nMature technology:\n\nWell-defined interfaces (SQL)\nStructured and organized\nProvides meta-data in the form of a schema\n\nBuilt-in multi-user synchronization for data integrity\nGood at basic statistics and reporting\nBuilt-in query processing engines"
  },
  {
    "objectID": "lecture03.html#object-relational-mapping",
    "href": "lecture03.html#object-relational-mapping",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Object-relational mapping",
    "text": "Object-relational mapping"
  },
  {
    "objectID": "lecture03.html#sql-structured-query-language",
    "href": "lecture03.html#sql-structured-query-language",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "SQL = Structured Query Language",
    "text": "SQL = Structured Query Language\n\nIt is a compact language to express complex questions. For example:\n\nSELECT country, pollutant, particles\nFROM `air_quality`\nWHERE country = 'India' AND pollutant = 'NO2' AND particles &gt; 100\n\nYou don‚Äôt need to specify the steps for accomplishing this task (this is an example of declarative programming).\nThe SQL runtime decomposes the query into subroutines and picks the best way to execute it (i.e., which subroutine to do first, which second, etc)."
  },
  {
    "objectID": "lecture03.html#section",
    "href": "lecture03.html#section",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "",
    "text": "SELECT country, pollutant, particles\nFROM `air_quality`\nWHERE country = 'India' AND pollutant = 'NO2' AND particles &gt; 100\nSuppose that:\n\ncountry = {India, ‚Ä¶} is of length 1,000,\npollutant = {NO2, ‚Ä¶} is of length 100,\nparticles = {100, 90, ‚Ä¶} is of length 10,000.\n\nWhich filter in the WHERE clause would you run first?\nThe query scheduler takes care of it, we don‚Äòt have to worry about this.\n\n\n\n\nCountry\nPollutant\nParticles\n\n\n\n\nUSA\nNO2\n90\n\n\nUSA\nCO2\n100\n\n\n‚Ä¶\n‚Ä¶\n‚Ä¶\n\n\nIndia\nNO2\n200\n\n\nIndia\nNO2\n210\n\n\nIndia\nCO2\n110\n\n\n‚Ä¶\n‚Ä¶\n‚Ä¶\n\n\nSwitzerland\nCO2\n20\n\n\nSwitzerland\nCO2\n20\n\n\n‚Ä¶\n‚Ä¶\n‚Ä¶"
  },
  {
    "objectID": "lecture03.html#sql-recap-using-bigquery",
    "href": "lecture03.html#sql-recap-using-bigquery",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "SQL recap using BigQuery",
    "text": "SQL recap using BigQuery"
  },
  {
    "objectID": "lecture03.html#select-from-where",
    "href": "lecture03.html#select-from-where",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Select, From, Where",
    "text": "Select, From, Where\n\n\nSELECT city  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'CH'\nAsked ChatGPT for comment on SQL query:\n\nSELECT city: Specifies that we want to retrieve only the values in the city column.\nFROM 'bigquery-public-data.openaq.global_air_quality': Indicates the source table where the data is stored. In this case, it‚Äôs the global_air_quality table, which is part of the openaq dataset within bigquery-public-data on Google BigQuery.\nWHERE country = 'CH': This is a filter condition that limits the results to only those rows where the country column has the value ‚ÄòCH‚Äô (the country code for Switzerland)."
  },
  {
    "objectID": "lecture03.html#select-from-where-with-distinct",
    "href": "lecture03.html#select-from-where-with-distinct",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Select, From, Where with Distinct",
    "text": "Select, From, Where with Distinct\n\n\nSELECT DISTINCT city, country  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'CH'\nNote: Capitalization is not required for SQL commands but it is a common convention to make SQL keywords stand out. It is considered best practice."
  },
  {
    "objectID": "lecture03.html#filtering-with-conditions",
    "href": "lecture03.html#filtering-with-conditions",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Filtering with Conditions",
    "text": "Filtering with Conditions\n\nQuery: Records in India with no2 value more than 100.\n\nSELECT city, country, pollutant, value  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2' AND value &gt; 100"
  },
  {
    "objectID": "lecture03.html#limit-the-number-of-results",
    "href": "lecture03.html#limit-the-number-of-results",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "LIMIT the Number of Results",
    "text": "LIMIT the Number of Results"
  },
  {
    "objectID": "lecture03.html#select-all-columns-with",
    "href": "lecture03.html#select-all-columns-with",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Select all columns with *",
    "text": "Select all columns with *"
  },
  {
    "objectID": "lecture03.html#counting-records-with-count",
    "href": "lecture03.html#counting-records-with-count",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Counting Records with COUNT()",
    "text": "Counting Records with COUNT()\nSELECT COUNT(*)  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2' AND value &gt; 100"
  },
  {
    "objectID": "lecture03.html#aggregate-functions-min-max-sum-avg",
    "href": "lecture03.html#aggregate-functions-min-max-sum-avg",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Aggregate Functions: MIN(), MAX(), SUM(), AVG()",
    "text": "Aggregate Functions: MIN(), MAX(), SUM(), AVG()\n\nQuery: What is the average no2 pollutant value in US? In India?\n\n\n\nSELECT AVG(value) AS avg_no2  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'US' AND pollutant = 'no2'\n\n\nSELECT AVG(value) AS avg_no2  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2'\n\n\nWhat about Switzerland? What about the max?"
  },
  {
    "objectID": "lecture03.html#with-clause",
    "href": "lecture03.html#with-clause",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "WITH Clause",
    "text": "WITH Clause\n\nQuery: Number of bitcoin transactions per date, sorted by date."
  },
  {
    "objectID": "lecture03.html#limiting-results-with-limit",
    "href": "lecture03.html#limiting-results-with-limit",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Limiting Results with LIMIT",
    "text": "Limiting Results with LIMIT\n\nSometimes you want to return only part of the results. This can be useful for instance when you run queries on the cloud and you want to preview the results before downloading the entire dataset. LIMIT is used for this purpose. It avoids you pay money for bringing back all the results."
  },
  {
    "objectID": "lecture03.html#group-by-operations-by-category",
    "href": "lecture03.html#group-by-operations-by-category",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "GROUP BY ‚Äì Operations by Category",
    "text": "GROUP BY ‚Äì Operations by Category\n\nQuery: What is the average no2 pollutant for each city in the US?\n\n\n\nSELECT city, AVG(value) AS avg_value  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'US' AND pollutant = 'no2'  \nGROUP BY city\nGROUP BY city:\n\nThis groups the results by city. For each unique city in the dataset, the query calculates the average NO2 pollutant value based on the rows that belong to that city.\nWithout GROUP BY, the AVG() function would calculate the average across all rows in the dataset, rather than for each individual city."
  },
  {
    "objectID": "lecture03.html#filtering-categories-with-group-by-and-having",
    "href": "lecture03.html#filtering-categories-with-group-by-and-having",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Filtering Categories with GROUP BY and HAVING",
    "text": "Filtering Categories with GROUP BY and HAVING\n\nQuery: Which cities in India have an average no2 pollutant &gt; 50?\n\n\n\nSELECT city, AVG(value) AS avg_value  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2'  \nGROUP BY city\nHAVING avg_value &gt; 50"
  },
  {
    "objectID": "lecture03.html#practice-query",
    "href": "lecture03.html#practice-query",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Practice Query",
    "text": "Practice Query\n\nQuery: What is the average time rent per station of bike share program in San Franciso?\n\n(Look for the San Francisco Bikeshare dataset)\n\nQuery: Which day of the week has the most fatal motor accidents in 2020?\n\n(Look for the NHTSA Traffic Fatalities dataset)"
  },
  {
    "objectID": "lecture03.html#practice-query---answer-from-chatgpt",
    "href": "lecture03.html#practice-query---answer-from-chatgpt",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Practice Query - Answer from ChatGPT",
    "text": "Practice Query - Answer from ChatGPT\n\nQuery: What is the average time rent per station of bike share program in San Franciso?\n\n\n\nSELECT stations.name AS station_name, \n       AVG(trips.duration_sec / 60) AS avg_rent_time_minutes\nFROM `bigquery-public-data.san_francisco.bikeshare_trips` AS trips\nJOIN `bigquery-public-data.san_francisco.bikeshare_stations` AS stations\nON trips.start_station_id = stations.station_id\nGROUP BY station_name\nORDER BY avg_rent_time_minutes DESC\n\nIt uses the JOIN operation to merge the two tables (we will see JOIN in the next slides). We could simply return the station_id instead.\nIt uses the bigquery-public-data.san_francisco instead of bigquery-public-data.san_francisco_bikeshare dataset."
  },
  {
    "objectID": "lecture03.html#practice-query---answer-from-chatgpt-1",
    "href": "lecture03.html#practice-query---answer-from-chatgpt-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Practice Query - Answer from ChatGPT",
    "text": "Practice Query - Answer from ChatGPT\n\nQuery: Which day of the week has the most fatal motor accidents in 2020?\n\n\n\nSELECT FORMAT_TIMESTAMP('%A', TIMESTAMP(timestamp_of_crash)) AS day_of_week,\n       COUNT(*) AS total_fatalities\nFROM `bigquery-public-data.nhtsa_traffic_fatalities.accident_2020`\nWHERE EXTRACT(YEAR FROM TIMESTAMP(timestamp_of_crash)) = 2020\nGROUP BY day_of_week\nORDER BY total_fatalities DESC\nLIMIT 1\n\nError in the dataset. ChatGPT is not able to type the correct dataset name (even after trying to correct the prompt).\nNo need to extract for the year, as the dataset is already filtered for 2020.\nIt imposes a limit of 1, but it is not necessary.\n\n\n\n\nIt uses more advanced SQL commands such as FORMAT_TIMESTAMP, TIMESTAMP and EXTRACT. These might not always be available in all SQL databases."
  },
  {
    "objectID": "lecture03.html#sql-joins",
    "href": "lecture03.html#sql-joins",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "SQL Joins",
    "text": "SQL Joins\nJoins allow merging results from different tables. It is required to specify the ‚Äúkey‚Äù linking the tables."
  },
  {
    "objectID": "lecture03.html#types-of-joins",
    "href": "lecture03.html#types-of-joins",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Types of Joins",
    "text": "Types of Joins\n\n(INNER) JOIN: Returns records that have matching values in both tables.\nLEFT/RIGHT (OUTER) JOIN: Returns all records from the left/right table and the matched records from the right/left table.\nFULL (OUTER) JOIN: Returns all records when there is a match in either left or right table."
  },
  {
    "objectID": "lecture03.html#example-inner-join",
    "href": "lecture03.html#example-inner-join",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example INNER JOIN",
    "text": "Example INNER JOIN\n\nQuery: Find the top 5 longest bike rides in Austin, including informations about stations.\n\n\nWhich field name should we use to join the two tables?"
  },
  {
    "objectID": "lecture03.html#example-inner-join---option-1",
    "href": "lecture03.html#example-inner-join---option-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example INNER JOIN - option 1",
    "text": "Example INNER JOIN - option 1\nSELECT *\nFROM `bigquery-public-data.austin_bikeshare.bikeshare_trips` AS A\nINNER JOIN `bigquery-public-data.austin_bikeshare.bikeshare_stations` AS B  \nON A.start_station_id = B.station_id  \nORDER BY duration_minutes DESC  \nLIMIT 5\n\nYou can simplify the query by using the following syntax:\nJOIN `bigquery-public-data.austin_bikeshare.bikeshare_stations` AS B"
  },
  {
    "objectID": "lecture03.html#example-inner-join---option-2",
    "href": "lecture03.html#example-inner-join---option-2",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example INNER JOIN - option 2",
    "text": "Example INNER JOIN - option 2\nSELECT *  \nFROM `bigquery-public-data.austin_bikeshare.bikeshare_trips` AS A,\n     `bigquery-public-data.austin_bikeshare.bikeshare_stations` AS B\nWHERE A.start_station_id = B.station_id  \nORDER BY duration_sec DESC  \nLIMIT 5"
  },
  {
    "objectID": "lecture03.html#mini-exercise",
    "href": "lecture03.html#mini-exercise",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Mini-exercise",
    "text": "Mini-exercise\n\nQuery: Which bike start station has the longest duration rides?\n\n\nQuery: How many bikes were reported as stolen?"
  },
  {
    "objectID": "lecture03.html#additional-sql-resources",
    "href": "lecture03.html#additional-sql-resources",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Additional SQL Resources",
    "text": "Additional SQL Resources\n\nSQL Tutorial (W3Schools)\nIntro to SQL (Kaggle)\nAdvanced SQL (Kaggle)"
  },
  {
    "objectID": "lecture03.html#connecting-r-to-bigquery",
    "href": "lecture03.html#connecting-r-to-bigquery",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Connecting R to BigQuery",
    "text": "Connecting R to BigQuery\nTo connect R to BigQuery, use the bigrquery package:\n# Install the bigrquery package\ninstall.packages(\"bigrquery\")\n\n# Load the library and authenticate\nlibrary(bigrquery)\nbq_auth()\n\n# Run a query\nquery &lt;- \"SELECT country, pollutant, value \n          FROM `bigquery-public-data.openaq.global_air_quality` \n          WHERE country = 'US'\n          LIMIT 5\"\nresult &lt;- bq_project_query(\"your-project-id\", query)\ndata &lt;- bq_table_download(result)\nhead(data)\n\n\n  country pollutant       value\n1      US        no 0.007021218\n2      US        bc 0.410000000\n3      US        bc 0.500000000\n4      US        bc 2.100000000\n5      US        bc 0.160000000"
  },
  {
    "objectID": "lecture03.html#example---number-of-bitcoin-transactions-over-time",
    "href": "lecture03.html#example---number-of-bitcoin-transactions-over-time",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example - Number of Bitcoin Transactions Over time",
    "text": "Example - Number of Bitcoin Transactions Over time\n\n\nquery &lt;- \"WITH time AS (  \n    SELECT DATE(block_timestamp) AS trans_date  \n    FROM `bigquery-public-data.crypto_bitcoin.transactions`  \n)  \nSELECT COUNT(trans_date) AS transactions, trans_date  \nFROM time  \nGROUP BY trans_date  \nORDER BY trans_date DESC\"\nresult &lt;- bq_project_query(\"your-project-id\", query)\ndata &lt;- bq_table_download(result)\n\nlibrary(ggplot2)\nlibrary(hrbrthemes)\np &lt;- ggplot(data, aes(x=trans_date, y=transactions)) +\n  geom_line( color=\"#69b3a2\") + \n  xlab(\"Time\") + ylab(\"Number of Transactions\") +\n  theme_ipsum() +\n  theme(axis.text.x=element_text(angle=60, hjust=1)) +\n  ggtitle(\"Number of Bitcoin Transactions Over Time\")\np"
  },
  {
    "objectID": "lecture03.html#connecting-python-to-bigquery",
    "href": "lecture03.html#connecting-python-to-bigquery",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Connecting Python to BigQuery",
    "text": "Connecting Python to BigQuery\nTo connect Python to BigQuery, use the google-cloud-bigquery client.\n\n# TIP: Install once in your env:  pip install google-cloud-bigquery pandas pyarrow\n# Auth options:\n#  - gcloud:  gcloud auth application-default login\n#  - or set GOOGLE_APPLICATION_CREDENTIALS to a service-account JSON\n\nfrom google.cloud import bigquery\nimport pandas as pd\n\nclient = bigquery.Client(project=\"your-project-id\")\n\n# Run a query\nquery = \"\"\"\nSELECT country, pollutant, value\nFROM `bigquery-public-data.openaq.global_air_quality`\nWHERE country = 'US'\nLIMIT 5\n\"\"\"\ndf = client.query(query).to_dataframe()\ndf.head()"
  },
  {
    "objectID": "lecture03.html#overview-of-bigquery",
    "href": "lecture03.html#overview-of-bigquery",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Overview of BigQuery",
    "text": "Overview of BigQuery\n\nBigQuery is a highly scalable data warehouse designed to store and analyze terabytes of data using SQL.\nBenefits:\n\nHigh-speed querying over large datasets.\nScalable storage and computing power.\nIntegration with public datasets for broader analysis."
  },
  {
    "objectID": "lecture03.html#key-features-of-bigquery",
    "href": "lecture03.html#key-features-of-bigquery",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Key Features of BigQuery",
    "text": "Key Features of BigQuery\n\nServerless architecture: You don‚Äôt manage infrastructure, it scales automatically.\nSQL-based queries: Standard SQL allows you to extract, transform, and analyze data.\nBuilt-in machine learning: You can train and deploy machine learning models directly within BigQuery using SQL.\nIntegration with R and Python: Use the bigrquery package to connect R with BigQuery or google-cloud-bigquery for Python."
  },
  {
    "objectID": "lecture03.html#local-sql-practice",
    "href": "lecture03.html#local-sql-practice",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Local SQL practice",
    "text": "Local SQL practice"
  },
  {
    "objectID": "lecture03.html#mini-database-sqlite",
    "href": "lecture03.html#mini-database-sqlite",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Mini database (SQLite)",
    "text": "Mini database (SQLite)\nWe will create a small customers‚Äìorders database to practice.\n\nR ‚Äî create & seedPython ‚Äî create & seed\n\n\nlibrary(DBI); library(RSQLite)\ncon &lt;- dbConnect(SQLite(), \":memory:\")\n\nDBI::dbExecute(con, \"\nCREATE TABLE customers (\n  customer_id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  country TEXT NOT NULL\n);\n\")\nDBI::dbExecute(con, \"\nCREATE TABLE orders (\n  order_id INTEGER PRIMARY KEY,\n  customer_id INTEGER NOT NULL,\n  order_date TEXT NOT NULL, -- ISO8601\n  amount REAL NOT NULL,\n  FOREIGN KEY(customer_id) REFERENCES customers(customer_id)\n);\n\")\n\nDBI::dbWriteTable(con, \"customers\",\n  data.frame(customer_id=1:5,\n             name=c(\"Ada\",\"Bruno\",\"Chlo√©\",\"Dinesh\",\"Elena\"),\n             country=c(\"CH\",\"FR\",\"CH\",\"IN\",\"US\")),\n  append=TRUE)\n\nDBI::dbWriteTable(con, \"orders\",\n  data.frame(order_id=1:10,\n             customer_id=c(1,1,2,3,3,3,4,4,5,5),\n             order_date=as.character(as.Date(\"2025-09-20\") + c(0,1,0,2,5,6,1,7,3,9)),\n             amount=c(120,75,300,42,88,150,60,500,20,220)),\n  append=TRUE)\n\nDBI::dbListTables(con)\n\n\nimport sqlite3, pandas as pd, datetime as dt\ncon = sqlite3.connect(\":memory:\")\ncur = con.cursor()\ncur.execute(\"\"\"\nCREATE TABLE customers (\n  customer_id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  country TEXT NOT NULL\n);\n\"\"\")\ncur.execute(\"\"\"\nCREATE TABLE orders (\n  order_id INTEGER PRIMARY KEY,\n  customer_id INTEGER NOT NULL,\n  order_date TEXT NOT NULL,\n  amount REAL NOT NULL,\n  FOREIGN KEY(customer_id) REFERENCES customers(customer_id)\n);\n\"\"\")\n\ncustomers = pd.DataFrame({\n  \"customer_id\": [1,2,3,4,5],\n  \"name\": [\"Ada\",\"Bruno\",\"Chlo√©\",\"Dinesh\",\"Elena\"],\n  \"country\": [\"CH\",\"FR\",\"CH\",\"IN\",\"US\"]\n})\norders = pd.DataFrame({\n  \"order_id\": range(1,11),\n  \"customer_id\": [1,1,2,3,3,3,4,4,5,5],\n  \"order_date\": [(dt.date(2025,9,20)+dt.timedelta(days=d)).isoformat() for d in [0,1,0,2,5,6,1,7,3,9]],\n  \"amount\": [120,75,300,42,88,150,60,500,20,220]\n})\ncustomers.to_sql(\"customers\", con, if_exists=\"append\", index=False)\norders.to_sql(\"orders\", con, if_exists=\"append\", index=False)\ncon.execute(\"SELECT name FROM sqlite_master WHERE type='table'\").fetchall()"
  },
  {
    "objectID": "lecture03.html#sql-basics-1",
    "href": "lecture03.html#sql-basics-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "SQL basics",
    "text": "SQL basics\nSELECT specific columns ‚Üí WHERE to filter ‚Üí ORDER BY to sort ‚Üí LIMIT to preview.\nSELECT name, country\nFROM customers\nWHERE country = 'CH'\nORDER BY name ASC\nLIMIT 5;\n\nTip: Start with SELECT * ... LIMIT 5 to inspect shape without scanning the full table."
  },
  {
    "objectID": "lecture03.html#aggregation-group-by-having",
    "href": "lecture03.html#aggregation-group-by-having",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Aggregation: GROUP BY & HAVING",
    "text": "Aggregation: GROUP BY & HAVING\n-- Average order amount per country\nSELECT c.country, ROUND(AVG(o.amount),2) AS avg_amount, COUNT(*) AS n_orders\nFROM orders o\nJOIN customers c ON o.customer_id = c.customer_id\nGROUP BY c.country\nHAVING COUNT(*) &gt;= 2\nORDER BY avg_amount DESC;\nRules: every selected non-aggregated column must appear in GROUP BY. Use HAVING to filter groups."
  },
  {
    "objectID": "lecture03.html#joins-visual-intuition",
    "href": "lecture03.html#joins-visual-intuition",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "JOINS (visual intuition)",
    "text": "JOINS (visual intuition)\n\nINNER JOIN: only matching rows\nLEFT JOIN: all left + matches from right\nFULL OUTER JOIN: all rows from both (not in SQLite; emulate with UNION)\nJOIN keys should be indexed in larger DBs; ensure uniqueness/NOT NULL on IDs\n\n-- List each order with its customer name (INNER JOIN)\nSELECT o.order_id, o.order_date, o.amount, c.name\nFROM orders o\nINNER JOIN customers c ON o.customer_id = c.customer_id\nORDER BY o.order_id;\n-- Customers without orders (LEFT JOIN + NULL check)\nSELECT c.customer_id, c.name\nFROM customers c\nLEFT JOIN orders o ON o.customer_id = c.customer_id\nWHERE o.order_id IS NULL;"
  },
  {
    "objectID": "lecture03.html#accessing-sql-from-r",
    "href": "lecture03.html#accessing-sql-from-r",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Accessing SQL from R",
    "text": "Accessing SQL from R\n\nDBI + dplyrRaw SQL + dbGetQuery\n\n\nlibrary(DBI); library(dplyr)\n# con from previous slide\ntbl(con, \"orders\") |&gt;\n  inner_join(tbl(con, \"customers\"), by = join_by(customer_id)) |&gt;\n  group_by(country) |&gt;\n  summarise(n = n(), total = sum(amount), .groups=\"drop\") |&gt;\n  arrange(desc(total)) |&gt;\n  collect()\n\n\nDBI::dbGetQuery(con, \"SELECT COUNT(*) AS n FROM orders WHERE amount &gt; 100;\")"
  },
  {
    "objectID": "lecture03.html#accessing-sql-from-python",
    "href": "lecture03.html#accessing-sql-from-python",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Accessing SQL from Python",
    "text": "Accessing SQL from Python\n\npandas + SQLSQLAlchemy engine (optional)\n\n\nimport pandas as pd\nq = \"\"\"\nSELECT c.country, COUNT(*) AS n, SUM(o.amount) AS total\nFROM orders o JOIN customers c ON o.customer_id=c.customer_id\nGROUP BY c.country ORDER BY total DESC\n\"\"\"\npd.read_sql_query(q, con)\n\n\nfrom sqlalchemy import create_engine\nengine = create_engine(\"sqlite+pysqlite:///:memory:\", echo=False, future=True)\n# (Recreate and load tables as above, then use engine.connect())"
  },
  {
    "objectID": "lecture03.html#inclass-miniexercises",
    "href": "lecture03.html#inclass-miniexercises",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "In‚Äëclass mini‚Äëexercises",
    "text": "In‚Äëclass mini‚Äëexercises\n\nWarm‚Äëup: Write a query to list CH customers ordered by name. Add LIMIT 3.\nAggregation: Average order amount per customer; return top 3 customers.\nJoin logic: Find customers with no orders using a LEFT JOIN."
  },
  {
    "objectID": "lecture03.html#cheatsheet",
    "href": "lecture03.html#cheatsheet",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Cheat‚Äësheet",
    "text": "Cheat‚Äësheet\n\nSELECT col1, col2 FROM t WHERE cond ORDER BY col1 DESC LIMIT n;\nJOIN: A JOIN B ON A.key = B.key ¬∑ left join keeps all of A\nAggregation: GROUP BY cols + HAVING to filter groups\nR: DBI::dbGetQuery(con, sql); Python: pd.read_sql_query(sql, con)"
  },
  {
    "objectID": "lecture03.html#openweathermap-current-weather",
    "href": "lecture03.html#openweathermap-current-weather",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "OpenWeatherMap (current weather)",
    "text": "OpenWeatherMap (current weather)\n\nCreate a free key (account on openweathermap.org).\nTry this URL in your browser (replace YOUR_KEY):\n\nhttps://api.openweathermap.org/data/2.5/weather?q=Lausanne&units=metric&appid=YOUR_KEY\n\nLook for fields like main.temp, weather.description, wind.speed in the JSON.\n\n\nIf the JSON is hard to read, use the browser‚Äôs built‚Äëin JSON viewer or a JSON‚Äëformatting extension."
  },
  {
    "objectID": "lecture03.html#r-openweathermap-json-to-tibble",
    "href": "lecture03.html#r-openweathermap-json-to-tibble",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "R: OpenWeatherMap ‚Üí JSON to tibble",
    "text": "R: OpenWeatherMap ‚Üí JSON to tibble\n\n# packages\nlibrary(httr2)\nlibrary(dplyr)\n\n# store your key in an env var before class: Sys.setenv(OPENWEATHERMAP_API_KEY=\"...\")\nokey &lt;- Sys.getenv(\"OPENWEATHERMAP_API_KEY\")\n\nresp &lt;- request(\"https://api.openweathermap.org/data/2.5/weather\") |&gt;\n  req_url_query(q = \"Lausanne\", units = \"metric\", appid = okey) |&gt;\n  req_perform()\n\nwx &lt;- resp_body_json(resp, simplifyVector = TRUE)\n\n# extract a compact summary row\nwx_row &lt;- tibble::tibble(\n  city        = wx$name,\n  country     = wx$sys$country,\n  temperature = wx$main$temp,\n  feels_like  = wx$main$feels_like,\n  humidity    = wx$main$humidity,\n  wind_ms     = wx$wind$speed,\n  condition   = wx$weather$description,\n  timestamp   = as.POSIXct(wx$dt, origin = \"1970-01-01\", tz = \"UTC\")\n)\nwx_row\n\n# A tibble: 1 √ó 8\n  city     country temperature feels_like humidity wind_ms condition      \n  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;    &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;          \n1 Lausanne CH             1.96      -1.67       88     3.7 overcast clouds\n# ‚Ñπ 1 more variable: timestamp &lt;dttm&gt;\n\n\n\nGlobal execute: { eval: false } prevents live HTTP calls during render. Run interactively if needed."
  },
  {
    "objectID": "lecture03.html#python-openweathermap-json-to-dataframe",
    "href": "lecture03.html#python-openweathermap-json-to-dataframe",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Python: OpenWeatherMap ‚Üí JSON to DataFrame",
    "text": "Python: OpenWeatherMap ‚Üí JSON to DataFrame\n\nimport os, requests, pandas as pd\n\nokey = os.environ.get(\"OPENWEATHERMAP_API_KEY\")\nparams = {\"q\": \"Lausanne\", \"units\": \"metric\", \"appid\": okey}\nr = requests.get(\"https://api.openweathermap.org/data/2.5/weather\", params=params)\nwx = r.json()\nrow = {\n    \"city\": wx.get(\"name\"),\n    \"country\": wx.get(\"sys\", {}).get(\"country\"),\n    \"temperature\": wx.get(\"main\", {}).get(\"temp\"),\n    \"feels_like\": wx.get(\"main\", {}).get(\"feels_like\"),\n    \"humidity\": wx.get(\"main\", {}).get(\"humidity\"),\n    \"wind_ms\": wx.get(\"wind\", {}).get(\"speed\"),\n    \"condition\": (wx.get(\"weather\", {}).get(\"description\"),\n}\npd.DataFrame([row])"
  },
  {
    "objectID": "lecture03.html#alpha-vantage-stocks",
    "href": "lecture03.html#alpha-vantage-stocks",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Alpha Vantage (stocks)",
    "text": "Alpha Vantage (stocks)\n\nUses an API key. Demo key available for specific symbols.\nPaste in your browser (works without signing up):\n\nhttps://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=MSFT&apikey=demo\n\nThe JSON contains a nested object Time Series (Daily) with open, high, low, close, volume by date.\n\n\nIf the demo key is throttled, retry after ~1 min or switch to IBM symbol."
  },
  {
    "objectID": "lecture03.html#r-alpha-vantage-tidy-daily-prices",
    "href": "lecture03.html#r-alpha-vantage-tidy-daily-prices",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "R: Alpha Vantage ‚Üí tidy daily prices",
    "text": "R: Alpha Vantage ‚Üí tidy daily prices\n\nlibrary(httr2)\nlibrary(purrr)\nlibrary(dplyr)\n\nakey &lt;- Sys.getenv(\"ALPHAVANTAGE_API_KEY\", unset = \"demo\")\nresp &lt;- request(\"https://www.alphavantage.co/query\") |&gt;\n  req_url_query(`function` = \"TIME_SERIES_DAILY\", symbol = \"MSFT\", apikey = akey) |&gt;\n  req_perform()\njs &lt;- resp_body_json(resp, simplifyVector = TRUE)\n\ndaily &lt;- js[[\"Time Series (Daily)\"]]\nprices &lt;- imap_dfr(daily, ~ tibble::tibble(\n  date   = as.Date(.y),\n  open   = as.numeric(.x[[\"1. open\"]]),\n  high   = as.numeric(.x[[\"2. high\"]]),\n  low    = as.numeric(.x[[\"3. low\"]]),\n  close  = as.numeric(.x[[\"4. close\"]]),\n  volume = as.numeric(.x[[\"5. volume\"]])\n)) |&gt;\n  arrange(date)\nprices\n\n# A tibble: 100 √ó 6\n   date        open  high   low close   volume\n   &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;\n 1 2025-07-01  496.  498.  491.  492. 19945375\n 2 2025-07-02  490.  494.  489.  491. 16319641\n 3 2025-07-03  494.  500.  493.  499. 13984829\n 4 2025-07-07  497.  499.  495.  498. 13981605\n 5 2025-07-08  497.  498.  494.  497. 11846586\n 6 2025-07-09  500.  507.  500.  504. 18659538\n 7 2025-07-10  503.  504.  498.  501. 16498740\n 8 2025-07-11  498.  505.  498.  503. 16459512\n 9 2025-07-14  502.  504.  501.  503. 12058848\n10 2025-07-15  503.  508.  503.  506. 14927202\n# ‚Ñπ 90 more rows"
  },
  {
    "objectID": "lecture03.html#python-alpha-vantage-tidy-daily-prices",
    "href": "lecture03.html#python-alpha-vantage-tidy-daily-prices",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Python: Alpha Vantage ‚Üí tidy daily prices",
    "text": "Python: Alpha Vantage ‚Üí tidy daily prices\n\nimport os, requests, pandas as pd\nakey = os.environ.get(\"ALPHAVANTAGE_API_KEY\", \"demo\")\nparams = {\"function\": \"TIME_SERIES_DAILY\", \"symbol\": \"MSFT\", \"apikey\": akey}\nr = requests.get(\"https://www.alphavantage.co/query\", params=params)\njs = r.json()\ndaily = js.get(\"Time Series (Daily)\", {})\ndf = (pd.DataFrame(daily).T\n        .rename(columns={\n            \"1. open\":\"open\",\"2. high\":\"high\",\"3. low\":\"low\",\n            \"4. close\":\"close\",\"5. volume\":\"volume\"\n        })\n        .reset_index(names=\"date\"))\ndf[\"date\"] = pd.to_datetime(df[\"date\"]).dt.date\ndf.sort_values(\"date\").head()"
  },
  {
    "objectID": "lecture03.html#omdb-movies",
    "href": "lecture03.html#omdb-movies",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "OMDb (movies)",
    "text": "OMDb (movies)\nSearch for a title + year (replace YOUR_KEY):\nhttps://www.omdbapi.com/?apikey=YOUR_KEY&s=titanic&y=1997\nThen open details by IMDb id (Titanic):\nhttps://www.omdbapi.com/?apikey=YOUR_KEY&i=tt0120338\nLook for fields like Title, Year, Genre, Director, imdbRating."
  },
  {
    "objectID": "lecture03.html#r-omdb-search-details",
    "href": "lecture03.html#r-omdb-search-details",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "R: OMDb search + details",
    "text": "R: OMDb search + details\n\nlibrary(httr2)\n\nmkey &lt;- Sys.getenv(\"OMDB_API_KEY\")\n# Search first\ns &lt;- request(\"https://www.omdbapi.com/\") |&gt;\n  req_url_query(apikey = mkey, s = \"titanic\", y = 1997) |&gt;\n  req_perform() |&gt;\n  resp_body_json(simplifyVector = TRUE)\n\nhead(s$Search)\n\n# Then fetch details by IMDb id\nmovie &lt;- request(\"https://www.omdbapi.com/\") |&gt;\n  req_url_query(apikey = mkey, i = \"tt0120338\") |&gt;\n  req_perform() |&gt;\n  resp_body_json(simplifyVector = TRUE)\n\nunlist(movie[c(\"Title\",\"Year\",\"Genre\",\"Director\",\"imdbRating\")])"
  },
  {
    "objectID": "lecture03.html#python-omdb-search-details",
    "href": "lecture03.html#python-omdb-search-details",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Python: OMDb search + details",
    "text": "Python: OMDb search + details\n\nimport os, requests, pandas as pd\nmkey = os.environ.get(\"OMDB_API_KEY\")\n\n# Search\ns = requests.get(\"https://www.omdbapi.com/\", params={\"apikey\": mkey, \"s\": \"titanic\", \"y\": 1997}).json()\npd.DataFrame(s.get(\"Search\", []))\n\n# Details\nmovie = requests.get(\"https://www.omdbapi.com/\", params={\"apikey\": mkey, \"i\": \"tt0120338\"}).json()\n{ k: movie.get(k) for k in [\"Title\",\"Year\",\"Genre\",\"Director\",\"imdbRating\"] }"
  },
  {
    "objectID": "lecture03.html#wikipedia-pageviews",
    "href": "lecture03.html#wikipedia-pageviews",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Wikipedia pageviews",
    "text": "Wikipedia pageviews\n\nRPython\n\n\n\nlibrary(pageviews)\n\ntop_articles(\"en.wikipedia\",\n             start = (Sys.Date()-1)) %&gt;%\n  dplyr::select(article, views) %&gt;%\n  dplyr::top_n(10)\n\n\n\n\nimport requests, datetime\nimport pandas as pd\n\nyesterday = (datetime.date.today() - datetime.timedelta(days=1))\nurl = (\n    f\"https://wikimedia.org/api/rest_v1/metrics/pageviews/top/\"\n    f\"en.wikipedia/all-access/{yesterday.year}/{yesterday:%m}/{yesterday:%d}\"\n)\nresp = requests.get(url)\nitems = resp.json()[\"items\"][0][\"articles\"]\n# Build DataFrame and keep top 10\n(df := pd.DataFrame(items))[['article','views']].head(10)"
  },
  {
    "objectID": "lecture03.html#translation-with-deepl",
    "href": "lecture03.html#translation-with-deepl",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Translation with Deepl",
    "text": "Translation with Deepl\n\nRPython\n\n\n\nlibrary(deeplr)\ndeeplr::translate2(\n  text = \"Mais quelle bonne traduction nom d'une pipe!\",\n  target_lang = \"EN\",\n  auth_key = my_key\n  )\n\n\n\n\nimport os\ntry:\n    import deepl\n    translator = deepl.Translator(os.environ[\"DEEPL_API_KEY\"])  # set your key in env\n    result = translator.translate_text(\n        \"Mais quelle bonne traduction nom d'une pipe!\", target_lang=\"EN-GB\"\n    )\n    result.text\nexcept Exception as e:\n    f\"DEEPL example not executed: {e}\"\n\n\n\n\nThis is what we obtain on Google translate:\n\nBut what a good translation of the name of a pipe!"
  },
  {
    "objectID": "lecture03.html#api-example-chatgpt",
    "href": "lecture03.html#api-example-chatgpt",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "API Example: ChatGPT",
    "text": "API Example: ChatGPT\n\nRPython\n\n\n\nlibrary(chatgpt)\ncat(ask_chatgpt(\"What do you think about the Data and Code Management class?\"))\n\n\n\n\n# Requires: pip install openai\nimport os\nfrom openai import OpenAI\nclient = OpenAI(api_key=os.environ.get(\"OPENAI_API_KEY\"))\nresp = client.chat.completions.create(\n    model=\"gpt-4o-mini\",\n    messages=[\n        {\"role\":\"system\",\"content\":\"You are a helpful assistant.\"},\n        {\"role\":\"user\",\"content\":\"What do you think about the Programming Tools in Data Science class in R?\"}\n    ]\n)\nprint(resp.choices[0].message.content)"
  },
  {
    "objectID": "lecture03.html#your-turn-58-minutes",
    "href": "lecture03.html#your-turn-58-minutes",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Your turn (5‚Äì8 minutes)",
    "text": "Your turn (5‚Äì8 minutes)\n\nGenerate a browser URL for a city of your choice in OpenWeatherMap.\nUse OMDb to search your favorite movie and open its details page.\n(Stretch) Replace MSFT with another symbol in Alpha Vantage and fetch the JSON.\n\n\nBonus: Copy one of the R/Python snippets, set your env var locally, and print 3 fields."
  },
  {
    "objectID": "lecture03.html#keeping-api-keys-safe-classfriendly",
    "href": "lecture03.html#keeping-api-keys-safe-classfriendly",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Keeping API keys safe (class‚Äëfriendly)",
    "text": "Keeping API keys safe (class‚Äëfriendly)\n\nNever hard‚Äëcode secrets in slides, repos, or notebooks.\nPrefer environment variables:\n\nR: ~/.Renviron ‚Üí OPENWEATHER_API_KEY=...\nPython: set in shell before launch, or use .env + python-dotenv locally.\n\nRotate / revoke keys if you accidentally leak them.\nWatch the rate limits (Alpha Vantage is strict); implement simple retries if needed."
  },
  {
    "objectID": "lecture03.html#cheatsheet-env-vars",
    "href": "lecture03.html#cheatsheet-env-vars",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Cheat‚Äësheet: env vars",
    "text": "Cheat‚Äësheet: env vars\nmacOS/Linux (bash/zsh)\nexport OPENWEATHER_API_KEY=xxxxxx\nexport ALPHAVANTAGE_API_KEY=xxxxxx\nexport OMDB_API_KEY=xxxxxx\nWindows (PowerShell)\nsetx OPENWEATHER_API_KEY \"xxxxxx\"\nsetx ALPHAVANTAGE_API_KEY \"xxxxxx\"\nsetx OMDB_API_KEY \"xxxxxx\"\nR session\nSys.getenv(\"OPENWEATHER_API_KEY\")\nPython session\nimport os\nos.environ.get(\"OPENWEATHER_API_KEY\")"
  },
  {
    "objectID": "lecture03.html#api-1",
    "href": "lecture03.html#api-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "API",
    "text": "API\n\nApplication Programming Interface are gold standard for fetching data from the web\nData is fetched by directly posing HTTP requests.\nData requests from R using library(httr) or API wrappers.\nData fetched through the API is generally more reliable."
  },
  {
    "objectID": "lecture03.html#whats-an-http-api",
    "href": "lecture03.html#whats-an-http-api",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "What‚Äôs an HTTP API",
    "text": "What‚Äôs an HTTP API\n\nA URL endpoint (e.g., https://api.example.com/resource).\nA method (GET for reading, POST for creating, ‚Ä¶).\nQuery parameters (e.g., ?q=Lausanne&units=metric).\nOften requires an API key (auth & rate limits).\nReturns JSON most of the time."
  },
  {
    "objectID": "lecture03.html#api-2",
    "href": "lecture03.html#api-2",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "API",
    "text": "API\nAPI = Application Programming Interface ‚Äî structured endpoints to request data.\n\n\nPros\n\nStable schema\nPagination, filters\nLegal & documented\nFewer scraping breakages\n\n\nCons\n\nRegistration/API key\nRate limits/quotas\nNot all data exposed"
  },
  {
    "objectID": "lecture03.html#webscraping-1",
    "href": "lecture03.html#webscraping-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Webscraping",
    "text": "Webscraping\n\nIf API is not available, e.g.¬†there is no libraries, you could try to build your own API by following for example this tutorial or that one (not covered in this class).\nInstead, we discuss webscraping, a method that is effective regardless of whether a website offers an API."
  },
  {
    "objectID": "lecture03.html#when-scraping-is-needed",
    "href": "lecture03.html#when-scraping-is-needed",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "When scraping is needed",
    "text": "When scraping is needed\nIf no API or missing fields ‚Üí parse the HTML.\n\nFetch page (respect robots & rate limits)\nParse DOM\nSelect nodes (CSS selectors)\nExtract text/attributes"
  },
  {
    "objectID": "lecture03.html#webscraping---a-first-example",
    "href": "lecture03.html#webscraping---a-first-example",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Webscraping - a first example",
    "text": "Webscraping - a first example\n\nRPython\n\n\n\nlibrary(rvest)\nurl &lt;- \"https://dcm.samorso.ch/en/lectures/\"\n\nread_html(url) %&gt;%\n  html_table() %&gt;%\n  .[[1]] %&gt;%\n  .[5:7,] %&gt;%\n  kableExtra::kable()\n\n\n\n\nimport pandas as pd\nurl = \"https://dcm.samorso.ch/en/lectures/\"\n# pandas can directly read HTML tables into DataFrames\ntables = pd.read_html(url)\ntables[0].iloc[4:7]"
  },
  {
    "objectID": "lecture03.html#http-requestresponse-cycle",
    "href": "lecture03.html#http-requestresponse-cycle",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "HTTP request/response cycle",
    "text": "HTTP request/response cycle"
  },
  {
    "objectID": "lecture03.html#scraping",
    "href": "lecture03.html#scraping",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Scraping?",
    "text": "Scraping?"
  },
  {
    "objectID": "lecture03.html#hypertext-markup-language",
    "href": "lecture03.html#hypertext-markup-language",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "HyperText Markup Language",
    "text": "HyperText Markup Language\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;    \n  &lt;body&gt;\n    &lt;h1 id='first'&gt;Webscraping with R&lt;/h1&gt;\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\nTry it!"
  },
  {
    "objectID": "lecture03.html#html",
    "href": "lecture03.html#html",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "HTML",
    "text": "HTML\n\nelement starts with &lt;tag&gt; and ends &lt;/tag&gt;,\nit has optional attributes (id=attribute),\ncontent is everything between two tags.\nFor example, add the attribute style=\"background-color:DodgerBlue;\" to h1 and try it."
  },
  {
    "objectID": "lecture03.html#html-elements",
    "href": "lecture03.html#html-elements",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "HTML elements",
    "text": "HTML elements\n\n\n\ntag\nmeaning\n\n\n\n\np\nParagraph\n\n\nh1\nTop-level heading\n\n\nh2, h3, ‚Ä¶\nLower level headings\n\n\nol\nOrdered list\n\n\nul\nUnorder list\n\n\nli\nList item\n\n\nimg\nImage\n\n\na\nAnchor (Hyperlink)\n\n\ndiv\nSection wrapper (block-level)\n\n\nspan\nText wrapper (in-line)\n\n\n\nFind out more tags here or here"
  },
  {
    "objectID": "lecture03.html#data-extraction",
    "href": "lecture03.html#data-extraction",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Data extraction",
    "text": "Data extraction\nCreate a minimal HTML page for experimenting\n\nRPython\n\n\n\nhtml_page &lt;- minimal_html('\n  &lt;body&gt;\n    &lt;h1&gt;Webscraping with R&lt;/h1&gt;\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;')\n\n\n\n\nfrom bs4 import BeautifulSoup\nhtml_page = BeautifulSoup('''\n  &lt;body&gt;\n    &lt;h1&gt;Webscraping with R&lt;/h1&gt;\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;''', 'html.parser')"
  },
  {
    "objectID": "lecture03.html#example-list-item-li",
    "href": "lecture03.html#example-list-item-li",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: list item (li)",
    "text": "Example: list item (li)\n\n...\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt; \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt; \n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n...\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li\")\nhtml_page %&gt;% html_nodes(\"li\") %&gt;% html_text()\n\n\n\n\n[e for e in html_page.select('li')]\n[e.get_text(strip=True) for e in html_page.select('li')]"
  },
  {
    "objectID": "lecture03.html#example-heading-of-order-2-h2",
    "href": "lecture03.html#example-heading-of-order-2-h2",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: heading of order 2 (h2)",
    "text": "Example: heading of order 2 (h2)\n\n...\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n...\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"h2\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('h2')]"
  },
  {
    "objectID": "lecture03.html#example-emphasized-text-em",
    "href": "lecture03.html#example-emphasized-text-em",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: emphasized text (em)",
    "text": "Example: emphasized text (em)\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt; \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('em')]"
  },
  {
    "objectID": "lecture03.html#cascading-style-sheets-css",
    "href": "lecture03.html#cascading-style-sheets-css",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Cascading Style Sheets (CSS)",
    "text": "Cascading Style Sheets (CSS)\n\nCSS is used to specify the style (appearance, arrangement and variations) of your web pages.\n\n\n&lt;style&gt;\nbody {\n  background-color: lightblue;\n}\nh1 {\n  color: white;\n  text-align: center;\n}\n.content {\nfont-family: monospace;\nfont-size: 1.5em;\ncolor: black;\n}\n#intro {\n  background-color: lightgrey;\n  border-style: solid;\n  border-width: 5px;\n  padding: 5px;\n  margin: 5px;\n  text-align: center;\n}\n&lt;/style&gt;"
  },
  {
    "objectID": "lecture03.html#css-selectors-cheatsheet",
    "href": "lecture03.html#css-selectors-cheatsheet",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS selectors cheat‚Äësheet",
    "text": "CSS selectors cheat‚Äësheet\n\n\n\nselector\nmeaning\n\n\n\n\ntag\nelement by tag\n\n\n.class\nby class\n\n\n#id\nby id\n\n\na[href]\nattribute present\n\n\na[href*=\"wiki\"]\nattr contains\n\n\nparent &gt; child\ndirect child\n\n\nA + B\nadjacent sibling\n\n\nA ~ B\nany following sibling\n\n\n:first-child, :nth-child(2)\nstructural pseudo‚Äëclasses\n\n\n:not(X)\nnegation\n\n\n\nCSS diner, CSS selector, W3 School"
  },
  {
    "objectID": "lecture03.html#css-selector-grouping",
    "href": "lecture03.html#css-selector-grouping",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: grouping (,)",
    "text": "CSS Selector: grouping (,)\n\nThe grouping selector selects all the HTML elements with the same style definitions.\nFor example, div, p selects all &lt;div&gt; elements and all &lt;em&gt; elements."
  },
  {
    "objectID": "lecture03.html#example-grouping-li-and-em",
    "href": "lecture03.html#example-grouping-li-and-em",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: grouping li and em",
    "text": "Example: grouping li and em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-grouping-li-and-em-1",
    "href": "lecture03.html#example-grouping-li-and-em-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: grouping li and em",
    "text": "Example: grouping li and em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt; \n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt; \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt; \n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt; #&lt;&lt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li, em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li, em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-descendant-selector-space",
    "href": "lecture03.html#css-selector-descendant-selector-space",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: descendant selector (space)",
    "text": "CSS Selector: descendant selector (space)\n\nThe descendant selector matches all elements that are descendants of a specified element.\nFor example, div p selects all &lt;p&gt; elements inside &lt;div&gt; elements."
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-descendants-of-li",
    "href": "lecture03.html#example-all-em-that-are-descendants-of-li",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all em that are descendants of li",
    "text": "Example: all em that are descendants of li\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-descendants-of-li-1",
    "href": "lecture03.html#example-all-em-that-are-descendants-of-li-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all em that are descendants of li",
    "text": "Example: all em that are descendants of li\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-child-selector",
    "href": "lecture03.html#css-selector-child-selector",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: child selector (>)",
    "text": "CSS Selector: child selector (&gt;)\n\nThe child selector selects all elements that are the children of a specified element.\nFor example, div &gt; p selects all &lt;p&gt; elements that are children of a &lt;div&gt; element."
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-children-of-p",
    "href": "lecture03.html#example-all-em-that-are-children-of-p",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all em that are children of p",
    "text": "Example: all em that are children of p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-children-of-p-1",
    "href": "lecture03.html#example-all-em-that-are-children-of-p-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all em that are children of p",
    "text": "Example: all em that are children of p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"p &gt; em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('p &gt; em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-adjacent-sibling-selector",
    "href": "lecture03.html#css-selector-adjacent-sibling-selector",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: adjacent sibling selector (+)",
    "text": "CSS Selector: adjacent sibling selector (+)\n\nThe adjacent sibling selector is used to select an element that is directly after another specific element.\nSibling elements must have the same parent element, and ‚Äúadjacent‚Äù means ‚Äúimmediately following‚Äù.\nFor example, div + p selects the first &lt;p&gt; element that is situated immediately after &lt;div&gt; elements."
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-p",
    "href": "lecture03.html#example-em-immediately-after-p",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: em immediately after p",
    "text": "Example: em immediately after p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-p-1",
    "href": "lecture03.html#example-em-immediately-after-p-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: em immediately after p",
    "text": "Example: em immediately after p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"p + em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('p + em')]\n\n\n\n\nNo em are immediately after p."
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-em",
    "href": "lecture03.html#example-em-immediately-after-em",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: em immediately after em",
    "text": "Example: em immediately after em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-em-1",
    "href": "lecture03.html#example-em-immediately-after-em-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: em immediately after em",
    "text": "Example: em immediately after em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"em + em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('em + em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-general-sibling-selector",
    "href": "lecture03.html#css-selector-general-sibling-selector",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: general sibling selector (~)",
    "text": "CSS Selector: general sibling selector (~)\n\nThe general sibling selector selects all elements that are next siblings of a specified element.\nSibling elements must have the same parent element, and ‚Äúgeneral‚Äù means ‚Äúany place‚Äù.\nFor example, div ~ p selects all &lt;p&gt; elements that are preceded by a &lt;div&gt; element."
  },
  {
    "objectID": "lecture03.html#example-em-next-sibling-of-a",
    "href": "lecture03.html#example-em-next-sibling-of-a",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: em next sibling of a",
    "text": "Example: em next sibling of a\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-em-next-sibling-of-a-1",
    "href": "lecture03.html#example-em-next-sibling-of-a-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: em next sibling of a",
    "text": "Example: em next sibling of a\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and \n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt; \n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"a ~ em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('a ~ em')]\n\n\n\n\n(Here, we would have obtained the same result with a + em)"
  },
  {
    "objectID": "lecture03.html#css-selector-first-child-selector-first-child",
    "href": "lecture03.html#css-selector-first-child-selector-first-child",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: first child selector (:first-child)",
    "text": "CSS Selector: first child selector (:first-child)\n\n:first-child selects the specified element that is the first child of another element.\nFor example, p:first-child selects all &lt;p&gt; elements that are the first child of any other element."
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-first-children",
    "href": "lecture03.html#example-all-li-that-are-first-children",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all li that are first children",
    "text": "Example: all li that are first children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-first-children-1",
    "href": "lecture03.html#example-all-li-that-are-first-children-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all li that are first children",
    "text": "Example: all li that are first children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;  \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li:first-child\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li:first-child')]"
  },
  {
    "objectID": "lecture03.html#css-selector-nth-child-selector-nth-childn",
    "href": "lecture03.html#css-selector-nth-child-selector-nth-childn",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "CSS Selector: nth child selector (:nth-child(n))",
    "text": "CSS Selector: nth child selector (:nth-child(n))\n\nRemark: :last-child is completely symmetric to :first-child.\n:nth-child(n) selects the specified element that is the nth child of another element.\nFor example, p:nth-child(2) selects all &lt;p&gt; elements that are the second child of any other element."
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-second-children",
    "href": "lecture03.html#example-all-li-that-are-second-children",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all li that are second children",
    "text": "Example: all li that are second children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-second-children-1",
    "href": "lecture03.html#example-all-li-that-are-second-children-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: all li that are second children",
    "text": "Example: all li that are second children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt; \n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li:nth-child(2)\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li:nth-child(2)')]"
  },
  {
    "objectID": "lecture03.html#html-attributes",
    "href": "lecture03.html#html-attributes",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "HTML attributes",
    "text": "HTML attributes\n\nAll HTML elements can have attributes, additional information about elements.\nAttributes are always specified in the start tag, usually in the format name=\"value\".\nFor example, &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt;, href is an attribute of a that specifies an url.\nAttributes can be accessed with html_attr command."
  },
  {
    "objectID": "lecture03.html#example-href-attributes",
    "href": "lecture03.html#example-href-attributes",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: href attributes",
    "text": "Example: href attributes\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-href-attributes-1",
    "href": "lecture03.html#example-href-attributes-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: href attributes",
    "text": "Example: href attributes\n\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and \n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"a\") %&gt;% html_attr(\"href\")\n\n\n\n\n[a.get('href') for a in html_page.select('a')]"
  },
  {
    "objectID": "lecture03.html#html-tables",
    "href": "lecture03.html#html-tables",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "HTML tables",
    "text": "HTML tables\n\n\n\ntag\nmeaning\n\n\n\n\ntable\nTable section\n\n\ntr\nTable row\n\n\ntd\nTable cell\n\n\nth\nTable header\n\n\n\n\nTables can be fetched by using the command html_table()"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table",
    "href": "lecture03.html#example-wikipedia-table",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nWe would like to fetch the table with Qualified teams of the Rugby World Cup 2023 on Wikipedia.\nA first solution: fetch all tables and select the correct one.\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_table() %&gt;% .[[4]] %&gt;% kableExtra::kable()\n\n\n\n\nimport pandas as pd\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\n# Fetch all tables, pick the 5th (0-indexed 4) like the R example\npd.read_html(url)[4]"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-1",
    "href": "lecture03.html#example-wikipedia-table-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nInspect the HTML with the developer tools."
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-2",
    "href": "lecture03.html#example-wikipedia-table-2",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nA better solution using CSS selectors: using the class selector (.).\nSelect class=\"wikitable\".\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_nodes(\".wikitable\") %&gt;% html_table() %&gt;% .[[3]] %&gt;% kableExtra::kable() # equivalently html_nodes(\"table.wikitable\")\n\n\n\n\nimport pandas as pd\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\n# read_html can filter by attrs (class)\npd.read_html(url, attrs={\"class\":\"wikitable\"})[2]"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-3",
    "href": "lecture03.html#example-wikipedia-table-3",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nA better solution using CSS selectors: using the class selector (.).\nSelect class=\"wikitable sortable\".\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_nodes(\".wikitable.sortable\") %&gt;% html_table() %&gt;%  kableExtra::kable() # equivalently html_nodes(\"table.wikitable.sortable\")\n\n\n\n\nimport pandas as pd\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\npd.read_html(url, attrs={\"class\":\"wikitable sortable\"})[0]"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-4",
    "href": "lecture03.html#example-wikipedia-table-4",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nAn alternative solution: select table immediately after four p.\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_nodes(\"p + p + p + p + table\") %&gt;% html_table() %&gt;% kableExtra::kable()\n\n\n\n\nimport requests, pandas as pd\nfrom bs4 import BeautifulSoup\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nhtml = requests.get(url).text\nsoup = BeautifulSoup(html, 'html.parser')\ntable = soup.select_one('p + p + p + p + table')\npd.read_html(str(table))[0]"
  },
  {
    "objectID": "lecture03.html#why-web-scraping-could-be-bad",
    "href": "lecture03.html#why-web-scraping-could-be-bad",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Why web scraping could be bad?",
    "text": "Why web scraping could be bad?\n\nScraping increases web traffic.\nPeople ignore and violate robots.txt and Terms of Service (ToS) of websites.\nYou should avoid those troubles by following these simple rules:\n\n\nRead ToS of the website you want to scrap.\nInspect robots.txt (see https://cran.r-project.org/robots.txt for instance).\nUse a reasonable frequency of requests (force your program to make some pauses)."
  },
  {
    "objectID": "lecture03.html#respect-robots-be-polite",
    "href": "lecture03.html#respect-robots-be-polite",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Respect robots, be polite",
    "text": "Respect robots, be polite\n\nCheck robots.txt and TOS\nIdentify yourself via User‚ÄëAgent\nAdd random delays and exponential backoff\nCache responses during development\n\n\nRPython\n\n\nlibrary(polite)\nrobotstxt::paths_allowed(\"https://en.wikipedia.org/wiki/Main_Page\")\n# caching demo\nlibrary(httr2)\nreq &lt;- request(\"https://httpbin.org/get\") |&gt;\n  req_options(useragent = \"DaCM-course/1.0\") |&gt;\n  req_perform()\n\n\nimport time, random, requests\nfrom urllib import robotparser\nfrom tenacity import retry, wait_exponential, stop_after_attempt\nimport requests_cache\n\nrp = robotparser.RobotFileParser()\nrp.set_url(\"https://en.wikipedia.org/robots.txt\"); rp.read()\nrp.can_fetch(\"DaCM-course\", \"https://en.wikipedia.org/wiki/Main_Page\")\n\nsession = requests_cache.CachedSession(\"scrape_cache\", expire_after=3600)\n@retry(wait=wait_exponential(multiplier=1, min=1, max=30), stop=stop_after_attempt(5))\ndef get(url):\n    time.sleep(random.uniform(0.5,1.5))\n    return session.get(url, headers={\"User-Agent\":\"DaCM-course/1.0\"}, timeout=20)\nresp = get(\"https://httpbin.org/get\")\nresp.json()"
  },
  {
    "objectID": "lecture03.html#dynamic-sites-advanced",
    "href": "lecture03.html#dynamic-sites-advanced",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Dynamic sites (advanced)",
    "text": "Dynamic sites (advanced)\n\nSometimes, what you see in your browser is not what is returned by read_html(). In many cases, this is due to website that employs methods for dynamic data requests.\nA solution is to simulate a browser to cope with dynamically rendered webpages.\nSelenium offers a solution. It is a project focused on automating web browsers.\nYou have access to Selenium with the RSelenium package.\nAn alternative is the chromote package (developped by Posit) that focuses on Chrome DevTools Protocol."
  },
  {
    "objectID": "lecture03.html#world-bank-data",
    "href": "lecture03.html#world-bank-data",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data"
  },
  {
    "objectID": "lecture03.html#world-bank-data-1",
    "href": "lecture03.html#world-bank-data-1",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data"
  },
  {
    "objectID": "lecture03.html#world-bank-data-2",
    "href": "lecture03.html#world-bank-data-2",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\n\nTrying to fetch the data non-dynamically using class=\"item\".\n\n\nRPython\n\n\n\nurl &lt;- \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\nurl %&gt;% read_html() %&gt;% html_nodes(\".item\") %&gt;% html_text() # or html_nodes(\"div.item\")\n\n\nOnly the header is returned.\n\n\n\n\nimport requests\nfrom bs4 import BeautifulSoup\nurl = \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\nsoup = BeautifulSoup(requests.get(url).text, 'html.parser')\n[x.get_text(strip=True) for x in soup.select('.item')][:6]\n\n# Only header-like elements typically appear; dynamic content isn't in the initial HTML."
  },
  {
    "objectID": "lecture03.html#world-bank-data-3",
    "href": "lecture03.html#world-bank-data-3",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\n\nA first dynamic solution.\n\n\nRPython\n\n\n\nlibrary(chromote)\nb &lt;- ChromoteSession$new() # open a chromote session\nurl &lt;- \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\nb$Page$navigate(url) # navigate to the url\nb$Runtime$evaluate(\"document.querySelector('html').outerHTML\")$result$value %&gt;%\n  read_html() %&gt;% html_nodes(\".item\") %&gt;% html_text() %&gt;% head()\nb$close() # close the session\n\n\n\n\n# Example with Selenium (browser automation). Requires: pip install selenium webdriver-manager\nfrom bs4 import BeautifulSoup\nfrom selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\nfrom webdriver_manager.firefox import GeckoDriverManager\n\noptions = Options()\noptions.add_argument(\"-headless\")\ndriver = webdriver.Firefox(executable_path=GeckoDriverManager().install(), options=options)\nurl = \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\ndriver.get(url)\nhtml = driver.page_source\nsoup = BeautifulSoup(html, 'html.parser')\nitems = [x.get_text(strip=True) for x in soup.select('.item')][:6]\ndriver.quit()\nitems"
  },
  {
    "objectID": "lecture03.html#world-bank-data-4",
    "href": "lecture03.html#world-bank-data-4",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\nSome comments on the chromote command:\n\nb &lt;- ChromoteSession$new() create a new ChromoteSession object assigned to b.\nb$Page$navigate(url) navigates to the provided URL.\nThe Runtime$evaluate command tells the browser to run JavaScript code.\nThe JavaScript code document.querySelector('html').outerHTML selects the\n\nelement from the current web page‚Äôs Document Object Model (DOM), and then retrieves its entire HTML content, including the element itself and everything inside it.\nEssentially, it captures the entire structure of the HTML document, from the opening\n\ntag to the closing\n\ntag, as a string.\nNotice that the browser can be viewed using b$view()\nCheck the package site for more info."
  },
  {
    "objectID": "lecture03.html#world-bank-data-5",
    "href": "lecture03.html#world-bank-data-5",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\n\nchromote is for Chrome, Chromium and the likes. Selenium is more general.\nUnfortunately, the solution using RSelenium is currently not working properly. But here is how a possible implementation would look like.\n\n\nRPython\n\n\n\nrD &lt;- rsDriver(browser=\"firefox\", port=4545L, verbose=F)\nremDr &lt;- rD[[\"client\"]]\nremDr$navigate(url)\nhtml_page &lt;- remDr$getPageSource()[[1]]\nhtml_page %&gt;% read_html() %&gt;% html_nodes(\".item\") %&gt;% html_text()\n\n\n\n\n# Selenium example shown previously; equivalent: use Chrome/Firefox drivers similarly."
  },
  {
    "objectID": "lecture03.html#dynamic-sites-overview",
    "href": "lecture03.html#dynamic-sites-overview",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Dynamic sites (overview)",
    "text": "Dynamic sites (overview)\nWhen HTML is rendered by JavaScript, read_html()/requests won‚Äôt see final content.\nOptions:\n\nR chromote (Chrome DevTools Protocol)\nPython playwright (modern) or selenium (browser automation)\n\n\nR ‚Äî chromotePython ‚Äî playwright\n\n\nlibrary(chromote)\nb &lt;- ChromoteSession$new(); b$Page$navigate(\"https://data.worldbank.org/indicator/SP.ADO.TFRT\")\nhtml &lt;- b$Runtime$evaluate(\"document.documentElement.outerHTML\")$result$value\nread_html(html) |&gt;\n  html_elements(\".some-selector\") |&gt;\n  html_text()\nb$close()\n\n\n# playwright install must have been run once\nfrom playwright.sync_api import sync_playwright\nwith sync_playwright() as p:\n    browser = p.chromium.launch(headless=True)\n    page = browser.new_page()\n    page.goto(\"https://data.worldbank.org/indicator/SP.ADO.TFRT\", wait_until=\"networkidle\")\n    html = page.content()\n    # parse with BeautifulSoup here\n    browser.close()"
  },
  {
    "objectID": "lecture03.html#regular-expressions",
    "href": "lecture03.html#regular-expressions",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Regular Expressions",
    "text": "Regular Expressions\n\nRegular expressions (regex) are patterns used to match character combinations in strings. They are particularly useful for extracting or replacing parts of text data."
  },
  {
    "objectID": "lecture03.html#using-regex-in-r",
    "href": "lecture03.html#using-regex-in-r",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Using Regex in R",
    "text": "Using Regex in R\n\nR has built-in functions to work with regular expressions:\n\ngrep(): Search for matches of a pattern in a character vector.\ngrepl(): Returns a logical vector indicating if there is a match.\nsub(), gsub(): Replace the first or all occurrences of a pattern in a string.\nregexpr(), gregexpr(): Find the position and length of matches.\nstr_extract() and str_replace() from stringr package for a tidy approach.\n\n\n\n\n\n\n\n\nTip\n\n\nPython equivalents:\n\nre.search, re.findall, re.finditer for matching.\nre.sub for replacing.\nre.compile to pre-compile patterns.\npandas.Series.str.contains / .extract / .replace for vectorized ops on Series."
  },
  {
    "objectID": "lecture03.html#basics-of-regular-expressions",
    "href": "lecture03.html#basics-of-regular-expressions",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Basics of Regular Expressions",
    "text": "Basics of Regular Expressions\n\nCommon symbols used in regular expressions:\n\n.: Any single character except newline.\n*: Zero or more repetitions of the preceding character.\n+: One or more repetitions of the preceding character.\n?: Zero or one repetition of the preceding character.\n[]: A set of characters. For example, [abc] matches ‚Äòa‚Äô, ‚Äòb‚Äô, or ‚Äòc‚Äô.\n^: In [], it inverts the match. For example, [^abc] matches everything except ‚Äòa‚Äô, ‚Äòb‚Äô, or ‚Äòc‚Äô.\n^: Matches the start of a string.\n$: Matches the end of a string.\n-: Defines a range of characters. For example, [a-z] matches any lowercase letter.\n\\\\: Escape character."
  },
  {
    "objectID": "lecture03.html#useful-pairs-of-characters",
    "href": "lecture03.html#useful-pairs-of-characters",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Useful pairs of characters",
    "text": "Useful pairs of characters\n\n\\\\d: Any digit.\n\\\\D: Any non-digit.\n\\\\w: Any word character (alphanumeric + underscore).\n\\\\W: Any non-word character.\n\\\\s: Any whitespace character.\n\\\\S: Any non-whitespace character.\n\nQuantifiers:\n\n{n}: Exactly n repetitions.\n{n,}: At least n repetitions.\n{n,m}: Between n and m repetitions."
  },
  {
    "objectID": "lecture03.html#example-extracting-data-with-regex",
    "href": "lecture03.html#example-extracting-data-with-regex",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Extracting Data with Regex",
    "text": "Example: Extracting Data with Regex\n\nRPython\n\n\n\nlibrary(stringr)\n\ntext &lt;- \"John's email is john.doe@example.com and Jane's email is jane_doe123@example.org\"\n\n# Extract all email addresses\n# chatGPT solution:\n# emails &lt;- str_extract_all(text, \"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}\")\nemails &lt;- str_extract_all(text, \"\\\\S+@\\\\S+\")\nprint(emails)\n\n\n\n\nimport re\ntext = \"John's email is john.doe@example.com and Jane's email is jane_doe123@example.org\"\n# ChatGPT-like stricter pattern (commented):\n# emails = re.findall(r\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\", text)\nemails = re.findall(r\"\\S+@\\S+\", text)\nemails"
  },
  {
    "objectID": "lecture03.html#example-cleaning-text-with-regex",
    "href": "lecture03.html#example-cleaning-text-with-regex",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Example: Cleaning Text with Regex",
    "text": "Example: Cleaning Text with Regex\n\nUse gsub() to clean text data by removing unwanted characters.\n\n\nRPython\n\n\n\n# Replace all non-alphanumeric characters with a space\n# chatGPT solution:\n# clean_text &lt;- gsub(\"[^a-zA-Z0-9\\\\s]\", \" \", \"Hello, World! Welcome to R programming.\")\nclean_text &lt;- gsub(\"\\\\W\", \" \", \"Hello, World! Welcome to R programming.\")\nprint(clean_text)\n\n\n\n\nimport re\nclean_text = re.sub(r\"\\W\", \" \", \"Hello, World! Welcome to R programming.\")\nclean_text"
  },
  {
    "objectID": "lecture03.html#miniexercises",
    "href": "lecture03.html#miniexercises",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Mini‚Äëexercises",
    "text": "Mini‚Äëexercises\n\nSelector hunt: On a Wikipedia page of your choice, find a CSS selector that returns exactly the list of section headings.\nTable picker: Extract one table from a Wikipedia article both with R and Python. Compare row counts.\nLink map: Collect the first 20 unique links from a Wikipedia page of your choice and count domain frequency (R or Python).\nRespect the robots: Check if scraping is allowed for a path of your choice."
  },
  {
    "objectID": "lecture03.html#common-pitfalls-fixes",
    "href": "lecture03.html#common-pitfalls-fixes",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "Common pitfalls & fixes",
    "text": "Common pitfalls & fixes\n\nChanged selectors? Prefer stable hooks: IDs, data-* attributes, semantic classes\nEncoding issues? Check content-type and use encoding='utf-8'\nBlocked? Reduce rate, rotate User-Agent, add referer; never bypass auth/captcha"
  },
  {
    "objectID": "lecture03.html#references-further-reading",
    "href": "lecture03.html#references-further-reading",
    "title": "Lecture 3 ‚Äî Data Management & Collection",
    "section": "References & further reading",
    "text": "References & further reading\n\nR: rvest (tidyverse.org), httr2, polite, chromote\nPython: requests, BeautifulSoup, lxml, pandas.read_html, playwright, selenium, requests-cache, tenacity\nRegex: R4DS chapters on regex; regex101.com for testing\nEthics: robotstxt.org; site Terms of Service"
  },
  {
    "objectID": "lecture01.html#welcome",
    "href": "lecture01.html#welcome",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Welcome!",
    "text": "Welcome!\n\n\n\nCourse: Data & Code Management: From Collection to Application\nTime & place: Thursdays 9:00‚Äì12:00\nCommunication: Slack (class workspace)\nMaterials: GitHub repo & website\nGrading: participation (bonus), homeworks (3 indivuals) and final project (group)\n\nAlways refer to the course website dcm.samorso.ch for the latest info!\n\n\n\n‚ÄúReproducibility is job #1 for modern data science.‚Äù\n‚Äî everyone who has ever lost a script üòâ\n\n\n\n\n\n\n\n\nNote\n\n\nToday‚Äôs goals\n1. Understand course scope & expectations\n2. See why reproducibility matters\n3. Meet the core toolchain (R, Python, SQL, GitHub, Markdown/Jupyter/Quarto)\n4. Try small, focused exercises"
  },
  {
    "objectID": "lecture01.html#agenda",
    "href": "lecture01.html#agenda",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Agenda",
    "text": "Agenda\n\nCourse overview & evaluation\n\nReproducibility in analytics\n\nCore tools & workflows\n\nQuarto refresher\nGitHub refresher\nMini‚Äëexercises\n\nTip: Slides include short activities you can try during/after class."
  },
  {
    "objectID": "lecture01.html#expectations-evaluation",
    "href": "lecture01.html#expectations-evaluation",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Expectations & Evaluation",
    "text": "Expectations & Evaluation\n\nParticipation: engaged presence (practicals), Slack questions/answers\nHomeworks: short, targeted (programming, SQL, tooling)\nProject: real‚Äëworld style, reproducible deliverable\nAcademic integrity: cite sources, no copy‚Äëpaste answers\n\nTools allowed: R, Python, SQL, Quarto, GitHub, AI copilots (with provenance & verification)."
  },
  {
    "objectID": "lecture01.html#what-are-llms",
    "href": "lecture01.html#what-are-llms",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "What are LLMs?",
    "text": "What are LLMs?\n\nDefinition: Large Language Models (LLMs) are AI models trained on vast amounts of text data to understand and generate human language.\nExamples:\n\nGPT-4, GPT-5 (OpenAI)\nGemini (Google)\nLLaMA (Meta)\nClaude (Anthropic)\n\nCapabilities:\n\nNatural language understanding and generation\nText completion, summarization, translation\nAssistance in various domains, including programming."
  },
  {
    "objectID": "lecture01.html#why-are-they-important-for-programming",
    "href": "lecture01.html#why-are-they-important-for-programming",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Why are they important for programming?",
    "text": "Why are they important for programming?\n\nLLMs can understand code as a special type of language.\n\nThey offer assistance in code generation, debugging, and improving programming productivity."
  },
  {
    "objectID": "lecture01.html#llm-for-programming---key-features",
    "href": "lecture01.html#llm-for-programming---key-features",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "LLM for Programming - Key Features",
    "text": "LLM for Programming - Key Features\n\nCode Suggestions:\n\nAutomates repetitive coding tasks.\nHelps in writing boilerplate code.\nSee for instance GitHub‚Äôs copilot.\n\nError Debugging:\n\nIdentifies and resolves bugs in code snippets.\nSuggests alternative solutions or optimizations.\n\nCode Explanation:\n\nBreaks down complex code into simple explanations.\nHelps in learning new programming concepts."
  },
  {
    "objectID": "lecture01.html#benefits-of-using-llms-like-chatgpt-in-programming",
    "href": "lecture01.html#benefits-of-using-llms-like-chatgpt-in-programming",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Benefits of Using LLMs like ChatGPT in Programming",
    "text": "Benefits of Using LLMs like ChatGPT in Programming\n1. Increased Productivity\n\nAutomates repetitive and boilerplate tasks.\nHelps explore new coding approaches faster.\n\n2. Learning and Discovery\n\nExplains code, libraries, and new languages in an intuitive manner.\nGreat for beginners and advanced users alike."
  },
  {
    "objectID": "lecture01.html#challenges-and-considerations",
    "href": "lecture01.html#challenges-and-considerations",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Challenges and Considerations",
    "text": "Challenges and Considerations\n1. Not Always Correct\n\nLLMs can suggest incorrect code, it can hallucinate, requiring human oversight.\n\n2. Context Limitations\n\nLLMs lack the full project context, so they might not understand the specific requirements.\n\n3. Ethical Concerns\n\nIntellectual property, security, and data privacy must be considered when using AI for programming.\n\n\n\n\n\n\n\nImportant\n\n\nAI policy (short)\nUse AI to brainstorm, outline, or lint code. Own the result: verify outputs, write your tests, and document AI assistance (what, why, where)."
  },
  {
    "objectID": "lecture01.html#minimal-project-structure",
    "href": "lecture01.html#minimal-project-structure",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Minimal Project Structure",
    "text": "Minimal Project Structure\nproject/\n‚îú‚îÄ data/           # raw/ and processed/ (never overwrite raw)\n‚îú‚îÄ R/ or src/      # functions, modules\n‚îú‚îÄ notebooks/      # exploratory analysis\n‚îú‚îÄ reports/        # Quarto/Markdown outputs\n‚îú‚îÄ tests/          # unit tests\n‚îú‚îÄ renv/ or .venv/ # R or Python environment\n‚îú‚îÄ .gitignore\n‚îî‚îÄ README.md"
  },
  {
    "objectID": "lecture01.html#tooling-map",
    "href": "lecture01.html#tooling-map",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Tooling Map",
    "text": "Tooling Map\n\nR (tidyverse, data.table) & Python (pandas, polars)\nSQL for data retrieval/joins/aggregations (week 5)\nGit + GitHub for versioning & collaboration\nMarkdown/Jupyter/Quarto for literate workflows\nOptional helpers: make, pre-commit, linters\n\n\n\nR snippet\n# Vectorized transform\nlibrary(dplyr)\nset.seed(42)\ndf &lt;- tibble(x = rnorm(5), y = rnorm(5))\ndf |&gt;\n  mutate(z = x + y, grp = if_else(z &gt; 0, \"pos\", \"neg\"))\n\nPython snippet\nimport pandas as pd\nimport numpy as np\nrng = np.random.default_rng(42)\ndf = pd.DataFrame({\"x\": rng.normal(size=5), \"y\": rng.normal(size=5)})\ndf.assign(z=lambda d: d.x + d.y,\n          grp=lambda d: np.where(d.z &gt; 0, \"pos\", \"neg\"))\n\n\n\n\n\n\n\nCaution\n\n\nAre these codes reproducible? Why/why not?"
  },
  {
    "objectID": "lecture01.html#what-is-quarto",
    "href": "lecture01.html#what-is-quarto",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "What is Quarto?",
    "text": "What is Quarto?\n\nQuarto: successor of RMarkdown\nmarkdown contrasts markup languages (e.g.¬†HTML) which require heavy syntax\nQuarto provides a literate programming framework for data science.\nLiterate programming: narrative + code in the same document.\nReproducible research: analyses can be reproduced the same way by someone else."
  },
  {
    "objectID": "lecture01.html#what-is-quarto-1",
    "href": "lecture01.html#what-is-quarto-1",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "What is Quarto?",
    "text": "What is Quarto?\n\nIn a nutshell, Quarto builds on Pandoc and execution engines (Knitr for R, Jupyter for Python/Julia/Observable). It allows embedding code into Markdown documents, which can be rendered into multiple formats (HTML, PDF, Word, ‚Ä¶)."
  },
  {
    "objectID": "lecture01.html#create-a-quarto-document",
    "href": "lecture01.html#create-a-quarto-document",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Create a Quarto document",
    "text": "Create a Quarto document\nIn RStudio or VSCode, click File ‚Üí New File ‚Üí Quarto Document. Or simply create a .qmd file."
  },
  {
    "objectID": "lecture01.html#important-features-of-markdown",
    "href": "lecture01.html#important-features-of-markdown",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Important features of markdown",
    "text": "Important features of markdown\n\nThree aspects:\n\nYAML metadata\nText\nCode cells/chunks"
  },
  {
    "objectID": "lecture01.html#yaml-yaml-aint-markup-language",
    "href": "lecture01.html#yaml-yaml-aint-markup-language",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "YAML (YAML Ain‚Äôt Markup Language)",
    "text": "YAML (YAML Ain‚Äôt Markup Language)\n\nHeader where options are defined.\nSurrounded by ---\nOptions include: author, date, output format, table of contents, themes, code folding, ‚Ä¶\n\nExample:\n---\ntitle: \"My Report\"\nauthor: \"Jane Doe\"\nformat: html\ntoc: true\n---"
  },
  {
    "objectID": "lecture01.html#text-in-markdown",
    "href": "lecture01.html#text-in-markdown",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Text in Markdown",
    "text": "Text in Markdown\n\nCore body, essential for explaining your analysis.\nMarkdown syntax:\n\n*italics*, **bold**, code style\nheaders (#, ##, ###)\nlists (*, -, +, 1.)\nlinks: [Quarto](https://quarto.org)\nblockquotes (&gt; ‚Ä¶)\nimages: ![](path/to/img.png)\ntables (basic Markdown or functions like knitr::kable())"
  },
  {
    "objectID": "lecture01.html#extended-text-features",
    "href": "lecture01.html#extended-text-features",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Extended text features",
    "text": "Extended text features\n\nMath: in \\(\\LaTeX\\) via $...$ inline or $$...$$ display.\nCross-references: @fig-label or @sec-label.\nCitations with .bib files ([@doe2023]).\nYou can always use HTML when needed."
  },
  {
    "objectID": "lecture01.html#code-cells-in-quarto",
    "href": "lecture01.html#code-cells-in-quarto",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Code cells in Quarto",
    "text": "Code cells in Quarto\nQuarto supports R, Python, Julia, and ObservableJS.\nCode cell delimiters:\n```r\n# R code here\n```\n\n```python\n# Python code here\n```\n\nIn Jupyter notebooks, the same concepts apply ‚Äî each code cell is language-specific."
  },
  {
    "objectID": "lecture01.html#chunk-cell-options",
    "href": "lecture01.html#chunk-cell-options",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Chunk / cell options",
    "text": "Chunk / cell options\nQuarto syntax uses YAML-like #| comments:\n```r\n#| echo: false\n#| eval: true\n#| warning: false\n#| cache: false\n1 + 1\n```\nOptions you‚Äôll use most often:\n\neval: run code?\necho: show code?\nwarning: show warnings?\ncache: reuse computations?"
  },
  {
    "objectID": "lecture01.html#figures-in-code-cells",
    "href": "lecture01.html#figures-in-code-cells",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Figures in code cells",
    "text": "Figures in code cells\nOptions for plots:\n```r\n#| fig-width: 6\n#| fig-height: 4\n#| fig-align: center\n#| fig-cap: \"A scatterplot\"\nplot(iris$Sepal.Length, iris$Sepal.Width)\n```\n\nA scatterplot"
  },
  {
    "objectID": "lecture01.html#printing-tables-with-knitrkable",
    "href": "lecture01.html#printing-tables-with-knitrkable",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Printing tables with knitr::kable()",
    "text": "Printing tables with knitr::kable()\n```r\n#| echo: true\n#| fig-height: 5\ndata(\"iris\")\nknitr::kable(iris[1:5,])\n```\n\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n\n\n\n\n\nFor enhanced tables: kableExtra."
  },
  {
    "objectID": "lecture01.html#extended-tables-with-kableextra",
    "href": "lecture01.html#extended-tables-with-kableextra",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Extended tables with kableExtra",
    "text": "Extended tables with kableExtra\n\nlibrary(kableExtra)\nmtcars[1:3, 1:8] %&gt;%\n  kbl() %&gt;%\n  kable_paper(full_width = T)\n\n\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\n\n\n\n\nMazda RX4\n21.0\n6\n160\n110\n3.90\n2.620\n16.46\n0\n\n\nMazda RX4 Wag\n21.0\n6\n160\n110\n3.90\n2.875\n17.02\n0\n\n\nDatsun 710\n22.8\n4\n108\n93\n3.85\n2.320\n18.61\n1"
  },
  {
    "objectID": "lecture01.html#mathpix-for-equations",
    "href": "lecture01.html#mathpix-for-equations",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mathpix for equations",
    "text": "Mathpix for equations\nMathpix Snip digitizes handwritten/printed math and pastes directly into Markdown/LaTeX/Word."
  },
  {
    "objectID": "lecture01.html#live-preview",
    "href": "lecture01.html#live-preview",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Live preview",
    "text": "Live preview\n\nRStudio: quarto preview\nVSCode: Quarto extension\nJupyter: live interactive editing\n\nInstant feedback without full rebuilds."
  },
  {
    "objectID": "lecture01.html#why-github",
    "href": "lecture01.html#why-github",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Why GitHub?",
    "text": "Why GitHub?\n\nWork with others on the same project without endless email exchanges\n\nAvoid ‚Äúfile_v1‚Äù, ‚Äúfile_v2‚Äù, ‚Äúfinal_version_really.R‚Äù chaos\n\nTrack who changed what and when\n\nDiscuss, review, and plan changes in one place\n\n\n\n\n\n\n\nTip\n\n\nüí° Think of GitHub as both a time machine and a teamwork hub."
  },
  {
    "objectID": "lecture01.html#why-github-for-this-course",
    "href": "lecture01.html#why-github-for-this-course",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Why GitHub for this course?",
    "text": "Why GitHub for this course?\nWe will use GitHub to:\n- Work in groups on projects\n- Submit homeworks\n- Develop programs"
  },
  {
    "objectID": "lecture01.html#what-is-git",
    "href": "lecture01.html#what-is-git",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "What is Git?",
    "text": "What is Git?\nGit is a distributed version control system:\n\nDistributed: every copy of a project has the full history\n\nVersion control: keeps track of all changes to your project\n\n\n\n\n\n\n\nImportant\n\n\nInstead of dozens of ‚Äúfinal‚Äù files, Git records every change in one clean history."
  },
  {
    "objectID": "lecture01.html#types-of-version-control-systems",
    "href": "lecture01.html#types-of-version-control-systems",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Types of Version Control Systems",
    "text": "Types of Version Control Systems\n\nLocal ‚Äì on your own computer\n\nCentralized ‚Äì one main server (risk of failure!)\n\nDistributed ‚Äì full history on every machine (Git)"
  },
  {
    "objectID": "lecture01.html#why-version-control",
    "href": "lecture01.html#why-version-control",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Why Version Control?",
    "text": "Why Version Control?\n\nCollaborate safely with others\n\nRoll back mistakes\n\nExplore new ideas with branches\n\nReduce risks of file loss or corruption"
  },
  {
    "objectID": "lecture01.html#git-github",
    "href": "lecture01.html#git-github",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Git ‚â† GitHub",
    "text": "Git ‚â† GitHub\n\nGit = software for version control\n\nGitHub = website/platform that hosts Git repositories\n\nAlternatives: GitLab, BitBucket, SourceForge"
  },
  {
    "objectID": "lecture01.html#file-states-in-git",
    "href": "lecture01.html#file-states-in-git",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "File States in Git",
    "text": "File States in Git\nA file can be:\n- Untracked ‚Äì new, not in Git yet\n- Modified ‚Äì changed, not saved in history\n- Staged ‚Äì marked for next snapshot\n- Committed ‚Äì safely stored in the repository"
  },
  {
    "objectID": "lecture01.html#ignoring-files",
    "href": "lecture01.html#ignoring-files",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Ignoring Files",
    "text": "Ignoring Files\nUse a .gitignore file to tell Git which files to skip:\n- Temporary files (.Rhistory, .DS_Store)\n- Large data files\n- Secrets or keys"
  },
  {
    "objectID": "lecture01.html#github-basic-workflow",
    "href": "lecture01.html#github-basic-workflow",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "GitHub: Basic Workflow",
    "text": "GitHub: Basic Workflow\n\nOpen your RStudio project (linked to GitHub)\n\nWork locally as usual\n\nSave often\n\nCommit snapshots of your changes\n\nPush commits to GitHub\n\nOn another computer (or from a teammate) ‚Üí Pull updates\n\n\n\n\n\n\n\nTip\n\n\nAlways pull before you push to avoid conflicts!"
  },
  {
    "objectID": "lecture01.html#commits",
    "href": "lecture01.html#commits",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Commits",
    "text": "Commits\n\nCommit = snapshot of your work\n\nGood commit messages explain why you changed something, not just what"
  },
  {
    "objectID": "lecture01.html#common-issues-fixes",
    "href": "lecture01.html#common-issues-fixes",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Common Issues & Fixes",
    "text": "Common Issues & Fixes\n\nWrong repo ‚Üí Double-check you‚Äôre in the right project\n\nLarge files (&gt;100MB) ‚Üí use another service (Dropbox, Zenodo, etc.)\n\nConflicts ‚Üí someone else changed the same file ‚Üí git pull --rebase\n\nMerge conflicts ‚Üí same lines changed ‚Üí talk to your teammate + edit manually"
  },
  {
    "objectID": "lecture01.html#new-habits-with-github",
    "href": "lecture01.html#new-habits-with-github",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "New Habits with GitHub",
    "text": "New Habits with GitHub\n\nCommit often\n\nPush regularly\n\nPull before you start working\n\nCommunicate with teammates"
  },
  {
    "objectID": "lecture01.html#collaboration-rituals",
    "href": "lecture01.html#collaboration-rituals",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Collaboration Rituals",
    "text": "Collaboration Rituals\n\nBranch ‚Üí small PR ‚Üí peer review ‚Üí merge\nUse Issues with labels (‚Äúbug‚Äù, ‚Äúenhancement‚Äù, ‚Äúquestion‚Äù)\nTemplates: PULL_REQUEST_TEMPLATE.md, ISSUE_TEMPLATE.md\nDocument decisions in CHANGELOG.md\n\n\n\n\n\n\n\nNote\n\n\nActivity (2‚Äô): In pairs, outline a PR description for adding a new utils/plot.R with one function and one test."
  },
  {
    "objectID": "lecture01.html#example-pr-description",
    "href": "lecture01.html#example-pr-description",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Example PR Description",
    "text": "Example PR Description\nPR Title\nAdd utils/plot.R with basic plotting function and test\nSummary\n- Add plot_scatter() in utils/plot.R\n- Add test in tests/testthat/test-plot.R\nDetails\n- Input validation (numeric vectors of equal length)\n- Uses ggplot2\n- Tests:\n- Error if unequal lengths\n- Output is \"ggplot\""
  },
  {
    "objectID": "lecture01.html#example-pr-description-cont.",
    "href": "lecture01.html#example-pr-description-cont.",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Example PR Description (cont.)",
    "text": "Example PR Description (cont.)\nChecklist\n- [x] Function implemented\n- [x] Tests added\n- [x] Documentation with roxygen2\n- [ ] CI checks pass\nRelated Issues\nCloses #12 (feature request: plotting utilities)"
  },
  {
    "objectID": "lecture01.html#github-in-a-nutshell",
    "href": "lecture01.html#github-in-a-nutshell",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "GitHub in a Nutshell",
    "text": "GitHub in a Nutshell\n\nGit gets easier once you get the basic idea that branches are homeomorphic endofunctors mapping submanifolds of a Hilbert space.\n‚ÄîIsaac Wolkerstorfer (joking)"
  },
  {
    "objectID": "lecture01.html#git-in-6-commands",
    "href": "lecture01.html#git-in-6-commands",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Git in 6 commands",
    "text": "Git in 6 commands\ngit status\ngit add -A\ngit commit -m \"Explain what/why, not how\"\ngit pull --rebase\ngit push\ngit switch -c feature/your-topic   # create a feature branch\n\n\n\n\n\n\nNote\n\n\nActivity (think‚Äëpair‚Äëshare):\nWhat makes a good commit message? Write one for ‚Äúfixed weird bug in script‚Äù that would help your future self."
  },
  {
    "objectID": "lecture01.html#reproducibility-why-it-matters",
    "href": "lecture01.html#reproducibility-why-it-matters",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Reproducibility: Why it matters",
    "text": "Reproducibility: Why it matters\nSymptoms of non‚Äëreproducible work (raise your hand if you‚Äôve seen these):\n- ‚ÄúIt works on my machine.‚Äù\n- ‚ÄúI changed nothing and it broke.‚Äù\n- ‚ÄúWhich file is the final_final_v3.R?‚Äù\nPrinciples\n- Deterministic environments\n- Versioned code and data contracts\n- Scripts, not clicks\n- Single‚Äësource of truth (parameters, config)\n- Literate programming (Markdown/Quarto)\n- Automated checks (CI later in course)"
  },
  {
    "objectID": "lecture01.html#is-there-a-reproducibility-crisis",
    "href": "lecture01.html#is-there-a-reproducibility-crisis",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Is there a reproducibility crisis?",
    "text": "Is there a reproducibility crisis?"
  },
  {
    "objectID": "lecture01.html#environments-determinism",
    "href": "lecture01.html#environments-determinism",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Environments (determinism)",
    "text": "Environments (determinism)\n\n\nR ‚Äî renv\ninstall.packages(\"renv\")\nrenv::init()\nrenv::snapshot()   # lock versions\nrenv::restore()    # reproduce elsewhere\n\nPython ‚Äî Conda (recommended)\n# create & activate\nconda create -n bia python=3.11 pandas scikit-learn jupyterlab -c conda-forge\nconda activate bia\n\n# share exact env\nconda env export --from-history &gt; environment.yml\n# reproduce elsewhere\nconda env create -f environment.yml\n\nPython ‚Äî Poetry (alternative)\n# once\npoetry config virtualenvs.in-project true\n# in project\npoetry init\npoetry add pandas scikit-learn jupyter\npoetry install           # recreate from poetry.lock\n\n\n\n\n\n\n\nNote\n\n\nExercise (1‚Ä≤): List one package you rely on in R and in Python. Why lock its version?"
  },
  {
    "objectID": "lecture01.html#nondeterminism-in-llm",
    "href": "lecture01.html#nondeterminism-in-llm",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Nondeterminism in LLM",
    "text": "Nondeterminism in LLM\n\nReproducibility is a bedrock of scientific progress. However, it‚Äôs remarkably difficult to get reproducible results out of large language models.\nHorace He in collaboration with others at Thinking Machines\n\n\n\n\n\n\n\nNote\n\n\nRead the full article here"
  },
  {
    "objectID": "lecture01.html#data-contracts-file-hygiene",
    "href": "lecture01.html#data-contracts-file-hygiene",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Data Contracts & File Hygiene",
    "text": "Data Contracts & File Hygiene\n\nNever overwrite raw/ data\nValidate schemas (columns, types, keys)\nRecord data provenance (source, timestamp)\nUse .gitignore to avoid committing large/secret files\n\n# data & local env\ndata/raw/*\n!.gitkeep\n.venv/\nrenv/library/\n*.sqlite\n*.parquet"
  },
  {
    "objectID": "lecture01.html#common-pitfalls-how-to-avoid-them",
    "href": "lecture01.html#common-pitfalls-how-to-avoid-them",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Common Pitfalls & How to Avoid Them",
    "text": "Common Pitfalls & How to Avoid Them\n\nUndocumented notebooks ‚Üí add titles, goals, outputs\nHidden state (globals) ‚Üí pass parameters explicitly (next lecture)\nOne giant script ‚Üí split into modules\nNo seeds ‚Üí set seeds where randomness matters\nUnpinned packages ‚Üí lock versions"
  },
  {
    "objectID": "lecture01.html#quick-wins-you-can-adopt-today",
    "href": "lecture01.html#quick-wins-you-can-adopt-today",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Quick Wins You Can Adopt Today",
    "text": "Quick Wins You Can Adopt Today\n\nCreate a project with folders from the template earlier\nInitialize Git and push to GitHub\nSet up renv or .venv or equivalent\nConvert one analysis to Quarto"
  },
  {
    "objectID": "lecture01.html#whats-next",
    "href": "lecture01.html#whats-next",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "What‚Äôs Next",
    "text": "What‚Äôs Next\n\nNext lecture: Programming foundations (R & Python)\nBefore next time: ensure you can\n\nclone a GitHub repo,\ncreate a branch & commit,\nrender a Quarto .qmd to HTML,\nset up renv or .venv.\n\n\n\n\n\n\n\n\nTip\n\n\nIf stuck: ask on Slack‚Äîshow error, steps tried, and minimal example."
  },
  {
    "objectID": "lecture01.html#mini-exercise-1-r",
    "href": "lecture01.html#mini-exercise-1-r",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (1): R",
    "text": "Mini-exercise (1): R\n\nOpen RStudio (or your preferred IDE).\n\nCreate a new R script named exercise1.R.\n\nWrite R code that:\n\nCreates a numeric vector of length 5.\n\nComputes its mean.\n\nPrints the result with a short message.\n\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: Use c() for vectors, mean() for averages, and paste() for printing messages."
  },
  {
    "objectID": "lecture01.html#mini-exercise-2-python",
    "href": "lecture01.html#mini-exercise-2-python",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (2): Python",
    "text": "Mini-exercise (2): Python\n\nCreate a new Python file named exercise2.py.\n\nWrite a script that:\n\nCreates a list of 5 numbers.\n\nComputes their average.\n\nPrints the result.\n\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: Use sum() and len() to calculate an average."
  },
  {
    "objectID": "lecture01.html#mini-exercise-3-quarto",
    "href": "lecture01.html#mini-exercise-3-quarto",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (3): Quarto",
    "text": "Mini-exercise (3): Quarto\n\nCreate a new Quarto document named exercise3.qmd.\n\nAdd:\n\nA title and author.\n\nOne R code chunk that prints \"Hello R!\".\n\nOne Python code chunk that prints \"Hello Python!\".\n\n\nRender the document to HTML.\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: Use ```{r} and ```{python} for chunks."
  },
  {
    "objectID": "lecture01.html#mini-exercise-4-github",
    "href": "lecture01.html#mini-exercise-4-github",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (4): GitHub",
    "text": "Mini-exercise (4): GitHub\n\nCreate a new GitHub repository called first-exercises.\n\nAdd the three files you created (exercise1.R, exercise2.py, exercise3.qmd).\n\nWrite a short README.md describing what each file does.\n\nCommit and push your changes.\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: Use GitHub Desktop, git on the command line, or RStudio‚Äôs Git interface."
  },
  {
    "objectID": "lecture01.html#mini-exercise-5-r-data",
    "href": "lecture01.html#mini-exercise-5-r-data",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (5): R + Data",
    "text": "Mini-exercise (5): R + Data\n\nIn R, load the built-in dataset mtcars.\n\nCompute the average miles per gallon (mpg) by the number of cylinders (cyl).\n\nMake a simple scatterplot of mpg vs hp (horsepower).\n\nSave the script as exercise5.R.\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: Look at aggregate() or dplyr::group_by() + summarise(). Use plot() for a quick scatterplot."
  },
  {
    "objectID": "lecture01.html#mini-exercise-6-python-visualization",
    "href": "lecture01.html#mini-exercise-6-python-visualization",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (6): Python + Visualization",
    "text": "Mini-exercise (6): Python + Visualization\n\nIn Python, use the pandas and matplotlib libraries.\n\nLoad the dataset iris (you can import it from sklearn.datasets).\n\nCompute the average petal length per species.\n\nMake a histogram of sepal lengths.\n\nSave the script as exercise6.py.\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: pandas.DataFrame.groupby() is useful for summaries."
  },
  {
    "objectID": "lecture01.html#mini-exercise-7-quarto-reproducibility",
    "href": "lecture01.html#mini-exercise-7-quarto-reproducibility",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (7): Quarto + Reproducibility",
    "text": "Mini-exercise (7): Quarto + Reproducibility\n\nCreate a Quarto document called exercise7.qmd.\n\nInclude:\n\nA title, author, and date.\n\nA short text section explaining what the document does.\n\nOne R chunk producing a table of summary statistics (e.g., summary(mtcars)).\n\nOne Python chunk producing a plot of the iris dataset.\n\n\nRender both HTML and PDF versions.\n\n\n\n\n\n\n\nNote\n\n\nüí° Tip: To render PDF, you may need LaTeX installed. Use quarto render exercise7.qmd --to pdf."
  },
  {
    "objectID": "lecture01.html#mini-exercise-8-all-together",
    "href": "lecture01.html#mini-exercise-8-all-together",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Mini-exercise (8): All Together üéØ",
    "text": "Mini-exercise (8): All Together üéØ\n\nCreate a new Quarto document named exercise8.qmd.\n\nInside it:\n\nAdd a short introduction paragraph.\n\nAn R chunk that computes and prints the mean of mtcars$mpg.\n\nA Python chunk that loads iris and plots sepal length vs sepal width.\n\n\nRender the document to HTML.\n\nPush the .qmd, the HTML output, and any supporting files to your GitHub repo first-exercises.\n\nUpdate your README.md to include a short description of this integrated exercise.\n\n\n\n\n\n\n\nNote\n\n\nüí° Goal: Practice combining R + Python code in Quarto, and making results reproducible via GitHub."
  },
  {
    "objectID": "lecture01.html#bonus-opportunity",
    "href": "lecture01.html#bonus-opportunity",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "üí° Bonus Opportunity",
    "text": "üí° Bonus Opportunity\n\nIf you prepare a solution to one of the mini-exercises\n\nand present it briefly during the next practical session\nüëâ You may receive a bonus point (participation credit).\n\n\n\n\n\n\n\nNote\n\n\nüåü Tip: The focus is on sharing your approach, not on having a perfect solution."
  },
  {
    "objectID": "lecture01.html#qa",
    "href": "lecture01.html#qa",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Q&A",
    "text": "Q&A\nThanks!\nOptional: After class, try converting one old analysis to Quarto and push it to GitHub with a short README."
  },
  {
    "objectID": "lecture01.html#solution-1-r",
    "href": "lecture01.html#solution-1-r",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (1): R",
    "text": "Solution (1): R\n# exercise1.R\nx &lt;- c(3, 7, 9, 2, 5)\nm &lt;- mean(x)\nmessage(paste(\"The mean is\", m))"
  },
  {
    "objectID": "lecture01.html#solution-2-python",
    "href": "lecture01.html#solution-2-python",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (2): Python",
    "text": "Solution (2): Python\n# exercise2.py\nnums = [3, 7, 9, 2, 5]\navg = sum(nums) / len(nums)\nprint(f\"The average is {avg}\")"
  },
  {
    "objectID": "lecture01.html#solution-3-quarto",
    "href": "lecture01.html#solution-3-quarto",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (3): Quarto",
    "text": "Solution (3): Quarto\n---\ntitle: \"Exercise 3\"\nauthor: \"Your Name\"\nformat: html\n---\n\n```r\n\"Hello R!\"\n```\n\n```python\nprint(\"Hello Python!\")\n```"
  },
  {
    "objectID": "lecture01.html#solution-4-github",
    "href": "lecture01.html#solution-4-github",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (4): GitHub",
    "text": "Solution (4): GitHub\n# In a fresh folder:\ngit init\ngit branch -M main\ngit remote add origin https://github.com/&lt;user&gt;/first-exercises.git\n\n# Add files\ngit add exercise1.R exercise2.py exercise3.qmd README.md\ngit commit -m \"Add first three exercises\"\ngit push -u origin main\nExample README.md:\n# first-exercises\n- `exercise1.R`: vector + mean (R)\n- `exercise2.py`: list + average (Python)\n- `exercise3.qmd`: R & Python chunks (Quarto)"
  },
  {
    "objectID": "lecture01.html#solution-5-r-data",
    "href": "lecture01.html#solution-5-r-data",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (5): R + Data",
    "text": "Solution (5): R + Data\n# exercise5.R\n# A. summary by cylinders\naggregate(mpg ~ cyl, data = mtcars, FUN = mean)\n\n# Using dplyr (optional)\n# library(dplyr)\n# mtcars |&gt;\n#   group_by(cyl) |&gt;\n#   summarise(mean_mpg = mean(mpg))\n\n# B. scatterplot mpg vs hp\nplot(mtcars$hp, mtcars$mpg,\n     xlab = \"Horsepower (hp)\", ylab = \"Miles per gallon (mpg)\",\n     main = \"mtcars: mpg vs hp\")"
  },
  {
    "objectID": "lecture01.html#solution-6-python-visualization",
    "href": "lecture01.html#solution-6-python-visualization",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (6): Python + Visualization",
    "text": "Solution (6): Python + Visualization\n# exercise6.py\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.datasets import load_iris\n\n# Load iris\niris_bunch = load_iris(as_frame=True)\ndf = iris_bunch.frame  # columns: sepal length (cm), sepal width (cm), ...\ndf[\"species\"] = df[\"target\"].map(dict(enumerate(iris_bunch.target_names)))\n\n# Average petal length per species\navg_petal = df.groupby(\"species\")[\"petal length (cm)\"].mean()\nprint(avg_petal)\n\n# Histogram of sepal lengths\nplt.figure()\ndf[\"sepal length (cm)\"].hist()\nplt.title(\"Histogram: Sepal Length\")\nplt.xlabel(\"Sepal length (cm)\")\nplt.ylabel(\"Count\")\nplt.tight_layout()\nplt.show()"
  },
  {
    "objectID": "lecture01.html#solution-7-quarto-reproducibility",
    "href": "lecture01.html#solution-7-quarto-reproducibility",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (7): Quarto + Reproducibility",
    "text": "Solution (7): Quarto + Reproducibility\n---\ntitle: \"Exercise 7\"\nauthor: \"Your Name\"\nformat:\n  html: default\n  pdf: default\n---\n\nThis document shows basic R summaries and a Python plot.\n\n```r\nsummary(mtcars)\n```\n\n```python\nimport matplotlib.pyplot as plt\nfrom sklearn.datasets import load_iris\niris = load_iris(as_frame=True).frame\nplt.figure()\nplt.scatter(iris[\"sepal length (cm)\"], iris[\"sepal width (cm)\"])\nplt.title(\"Iris: Sepal length vs width\")\nplt.xlabel(\"Sepal length (cm)\")\nplt.ylabel(\"Sepal width (cm)\")\nplt.tight_layout()\nplt.show()\n```\nRender:\nquarto render exercise7.qmd --to html\nquarto render exercise7.qmd --to pdf   # requires LaTeX"
  },
  {
    "objectID": "lecture01.html#solution-8-all-together",
    "href": "lecture01.html#solution-8-all-together",
    "title": "Lecture 1 ‚Äî Introduction & Tools",
    "section": "Solution (8): All Together üéØ",
    "text": "Solution (8): All Together üéØ\n---\ntitle: \"Exercise 8 (Capstone)\"\nauthor: \"Your Name\"\nformat: html\n---\n\nThis Quarto file combines R + Python and is tracked on GitHub.\n\n```r\nmean(mtcars$mpg)\n```\n\n```python\nfrom sklearn.datasets import load_iris\nimport matplotlib.pyplot as plt\niris = load_iris(as_frame=True).frame\nplt.figure()\nplt.scatter(iris[\"sepal length (cm)\"], iris[\"sepal width (cm)\"])\nplt.title(\"Iris: Sepal length vs width\")\nplt.xlabel(\"Sepal length (cm)\")\nplt.ylabel(\"Sepal width (cm)\")\nplt.tight_layout()\nplt.show()\n```\nPush results:\nquarto render exercise8.qmd\ngit add exercise8.qmd exercise8.html\ngit commit -m \"Add capstone exercise with R+Python\"\ngit push"
  },
  {
    "objectID": "lecture02.html#big-picture",
    "href": "lecture02.html#big-picture",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Big picture",
    "text": "Big picture\n\nLLMs (ChatGPT, Gemini, Claude, LLaMA): great for ideation, scaffolding code, refactoring; not ground truth.\nQuarto = literate programming hub: one doc, code+text+figures ‚Üí HTML/PDF/slides.\nGit/GitHub: version control + collaboration (branches, PRs, reviews).\nReproducibility: lock environments, script everything, document decisions."
  },
  {
    "objectID": "lecture02.html#llms-use-wisely",
    "href": "lecture02.html#llms-use-wisely",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "LLMs ‚Äî use wisely",
    "text": "LLMs ‚Äî use wisely\n\nStrengths: productivity, learning, boilerplate, code review.\nRisks: hallucinations, missing context, ethics/licensing.\nGood habits: give clear prompts + context, ask for tests, verify outputs."
  },
  {
    "objectID": "lecture02.html#quarto-essentials",
    "href": "lecture02.html#quarto-essentials",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Quarto essentials",
    "text": "Quarto essentials\n\nMarkdown + YAML header (title, format, options).\nCode chunks (R/Python), chunk options: echo, eval, warning, fig-*.\nFigures & tables: knitr::kable(), kableExtra; equations (Mathpix helpful).\nLive preview; keep content modular."
  },
  {
    "objectID": "lecture02.html#gitgithub-workflow",
    "href": "lecture02.html#gitgithub-workflow",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Git/GitHub workflow",
    "text": "Git/GitHub workflow\n\nSmall commits with clear messages.\nBranch ‚Üí PR ‚Üí review ‚Üí merge.\nHandle conflicts; use issues/templates.\n‚ÄúNew habits‚Äù: automate repeated steps; write READMEs."
  },
  {
    "objectID": "lecture02.html#reproducibility-kit",
    "href": "lecture02.html#reproducibility-kit",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Reproducibility kit",
    "text": "Reproducibility kit\n\nR: renv::init(); snapshot(); restore()\nPython: venv/Poetry/Conda + lockfile\nDeterminism: pin versions; set seeds; record data sources."
  },
  {
    "objectID": "lecture02.html#from-last-time-tasks",
    "href": "lecture02.html#from-last-time-tasks",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "From last time ‚Äî tasks",
    "text": "From last time ‚Äî tasks\n\nInstall: Git, GitHub account, Quarto, R (+renv), Python (venv/Conda).\nCreate a starter repo with a Quarto doc; push to GitHub.\nTry one mini-exercise (R / Python / Quarto / GitHub).\nOptional bonus: present a short solution next practical."
  },
  {
    "objectID": "lecture02.html#primary-scalar-types",
    "href": "lecture02.html#primary-scalar-types",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Primary (scalar) types",
    "text": "Primary (scalar) types\n\nRPython\n\n\n\ninteger: 2L, 12L\ndouble (real): -4, 12.4532, 6\nlogical: TRUE, FALSE (also T, F)\ncharacter: \"a\", \"Bonjour\"\n(also: complex, raw)\n\n\ntypeof(12.5); typeof(2L); typeof(TRUE); typeof(\"hi\")\n\n\n\n\nint: -4, 6\nfloat: 12.4532\nbool: True, False\nstr: 'a', \"Bonjour\"\n(also: complex, bytes)\n\n\ntype(12.5), type(2), type(True), type(\"hi\")"
  },
  {
    "objectID": "lecture02.html#reserved-special-values",
    "href": "lecture02.html#reserved-special-values",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Reserved / special values",
    "text": "Reserved / special values\n\nRPython\n\n\n\nMissing: NA, typed variants NA_real_, NA_integer_, NA_character_, ‚Ä¶\nInfinity / NaN: Inf, NaN\nNull object: NULL\nControl words: if, else, repeat, while, function, for, in, next, break\n\n\nc(NA, Inf, NaN, NULL)\n\n\n\n\nMissing: None (object), numerical missing often math.nan or numpy.nan / pandas.NA\nInfinity / NaN: math.inf, float('inf'), math.nan\nKeywords: if, else, for, while, def, in, break, continue, class, ‚Ä¶\n\n\nimport math\n[None, math.inf, math.nan]"
  },
  {
    "objectID": "lecture02.html#inspecting-and-coercing-types",
    "href": "lecture02.html#inspecting-and-coercing-types",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Inspecting and coercing types",
    "text": "Inspecting and coercing types\n\nR: typeof, is.*, as.*Python: type, isinstance, casting\n\n\n\ntypeof(2L)              # \"integer\"\nis.double(2L)           # FALSE\nas.double(2L)           # 2\n\n\n\n\ntype(2) is int          # True\nisinstance(2.0, float)  # True\nint(2.9), float(\"3.1\"), str(True)"
  },
  {
    "objectID": "lecture02.html#nondeterminism-in-llm",
    "href": "lecture02.html#nondeterminism-in-llm",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Nondeterminism in LLM",
    "text": "Nondeterminism in LLM\n\nFloating-point arithmetic in GPUs exhibits non-associativity, meaning \\((a+b)+c\\neq a+(b+c)\\) due to finite precision and rounding errors. This property directly impacts the computation of attention scores and logits in the transformer architecture, where parallel operations across multiple threads can yield different results based on execution order.\nHorace He in collaboration with others at Thinking Machines\n\n\n\n\n\n\n\nNote\n\n\nRead the full article here"
  },
  {
    "objectID": "lecture02.html#testing-floating-point-non-associativity",
    "href": "lecture02.html#testing-floating-point-non-associativity",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Testing floating-point non-associativity",
    "text": "Testing floating-point non-associativity\nWhat do you obtain if you run this in Python/R?\n\n(0.1 + 1e20) - 1e20\n0.1 + (1e20 - 1e20)\n\nIf you replace 20 by another smaller integer, do you get the same result? At which integer do you start to get the same result? Why?"
  },
  {
    "objectID": "lecture02.html#testing-floating-point-non-associativity-1",
    "href": "lecture02.html#testing-floating-point-non-associativity-1",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Testing floating-point non-associativity",
    "text": "Testing floating-point non-associativity\n\nRPython\n\n\n\noptions(digits = 22)\nf &lt;- function(n) (0.1 + 10^n) - 10^n\nc(n20 = f(20), n16 = f(16), n15 = f(15), n14 = f(14))\n0.1 + (10^20 - 10^20)\n\n\n\n\nimport math\ndef f(n): return (0.1 + 10.0**n) - 10.0**n\nprint({ 'n20': f(20), 'n16': f(16), 'n15': f(15), 'n14': f(14) })\nprint(0.1 + (10.0**20 - 10.0**20))\n\n\n\n\nKey idea: near large magnitudes, the ULP is so big that small addends vanish or round to the nearest ULP, breaking associativity."
  },
  {
    "objectID": "lecture02.html#homogeneous-vs-heterogeneous-structures",
    "href": "lecture02.html#homogeneous-vs-heterogeneous-structures",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Homogeneous vs heterogeneous structures",
    "text": "Homogeneous vs heterogeneous structures\n\n\n\n\n\n\n\n\n\n\nDimension\nR homogeneous\nR heterogeneous\nPython homogeneous\nPython heterogeneous\n\n\n\n\n1\natomic vector\nlist\nNumPy array\nlist, tuple\n\n\n2\nmatrix\ndata.frame / tibble\nNumPy ndarray (2D)\npandas DataFrame\n\n\nn\narray\n‚Äî\nNumPy ndarray (nD)\n‚Äî\n\n\n\n\nRule of thumb: R vectors are homogeneous; Python lists are heterogeneous. For homogeneous numerics in Python, use NumPy."
  },
  {
    "objectID": "lecture02.html#vectors-r-vs-lists-arrays-python",
    "href": "lecture02.html#vectors-r-vs-lists-arrays-python",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Vectors (R) vs Lists / Arrays (Python)",
    "text": "Vectors (R) vs Lists / Arrays (Python)\n\nR ‚Äî atomic vectorPython ‚Äî list (heterogeneous)Python ‚Äî NumPy array (homogeneous)\n\n\n\nx &lt;- c(1, 2, 8, 10)\nlength(x); typeof(x)\n\n\n\n\nx = [1, 2, 8, 10]\nlen(x), type(x)\n\n\n\n\nimport numpy as np\nx = np.array([1, 2, 8, 10])\nx.dtype, x.shape"
  },
  {
    "objectID": "lecture02.html#assignment",
    "href": "lecture02.html#assignment",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Assignment",
    "text": "Assignment\n\nRPython\n\n\n\ngrand_slam_win &lt;- c(16, 19, 20, 0, 0)\n\n\n\n\ngrand_slam_win = [16, 19, 20, 0, 0]"
  },
  {
    "objectID": "lecture02.html#subsetting-key-differences",
    "href": "lecture02.html#subsetting-key-differences",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Subsetting ‚Äî key differences",
    "text": "Subsetting ‚Äî key differences\n\nIndex origin: R is 1-based, Python is 0-based.\nNegative indices: R -i excludes element i; Python -i indexes from the end.\nLogical indexing: R uses logical vectors; Python uses list comprehensions / boolean masks (NumPy/pandas).\n\n\nRPython (list)Python (NumPy)\n\n\n\nx &lt;- c(10, 20, 30, 40)\nx[1]           # 10\nx[-1]          # drop first\nx[c(TRUE,FALSE,TRUE,FALSE)]  # logical mask\n\n\n\n\nx = [10, 20, 30, 40]\nx[0]           # 10\nx[-1]          # last element (40)\n# logical mask via comprehension\n[xi for i, xi in enumerate(x) if i in (0,2)]\n\n\n\n\nimport numpy as np\nx = np.array([10,20,30,40])\nx[[0,2]]\nmask = np.array([True, False, True, False])\nx[mask]"
  },
  {
    "objectID": "lecture02.html#coercion-in-homogeneous-containers",
    "href": "lecture02.html#coercion-in-homogeneous-containers",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Coercion in homogeneous containers",
    "text": "Coercion in homogeneous containers\n\nR vector coercion: logical &lt; integer &lt; double &lt; character.\nPython list: no automatic coercion.\nNumPy array: coerces to common dtype.\n\n\nRPython (list)Python (NumPy)\n\n\n\nc(TRUE, 12, 0.5)  # coerces to double\n\n\n\n\n[True, 12, 0.5]   # stays mixed types\n\n\n\n\nimport numpy as np\nnp.array([True, 12, 0.5])    # dtype: float64"
  },
  {
    "objectID": "lecture02.html#attributes-names",
    "href": "lecture02.html#attributes-names",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Attributes & names",
    "text": "Attributes & names\n\nRPython (pandas)\n\n\n\ngrand_slam_win &lt;- c(16, 19, 20, 0, 0)\nnames(grand_slam_win) &lt;- c(\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\")\nattr(grand_slam_win, \"date\") &lt;- \"2019-09-30\"\nattributes(grand_slam_win)\n\n\n\n\nimport pandas as pd\ns = pd.Series([16,19,20,0,0], index=[\n    \"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\"])\ns.attrs[\"date\"] = \"2019-09-30\"\ns.attrs"
  },
  {
    "objectID": "lecture02.html#sequences",
    "href": "lecture02.html#sequences",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Sequences",
    "text": "Sequences\n\nRPython\n\n\n\n1:3\nseq_len(3)\nseq(1, 2.8, by = 0.4)\nseq(1, 2.8, length.out = 6)\nrep(c(1,2), times = 3, each = 1)\n\n\n\n\nlist(range(1,4))\nlist(range(3,0,-1))\n\n# numpy linspace/arange\nimport numpy as np\nnp.linspace(1, 2.8, 6)\nnp.arange(1, 2.9, 0.4)\n# repetition\n[1,2]*3"
  },
  {
    "objectID": "lecture02.html#useful-vector-ops",
    "href": "lecture02.html#useful-vector-ops",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Useful vector ops",
    "text": "Useful vector ops\n\nRPython\n\n\n\nlength(grand_slam_win)\nsum(grand_slam_win)\nmean(grand_slam_win)\norder(grand_slam_win)\nsort(grand_slam_win)\n\n\n\n\nx = [16,19,20,0,0]\nlen(x), sum(x)\nsorted(x)\n\n# mean via statistics or numpy\nimport statistics as st\nst.mean(x)"
  },
  {
    "objectID": "lecture02.html#matrices-2d-arrays",
    "href": "lecture02.html#matrices-2d-arrays",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Matrices / 2D arrays",
    "text": "Matrices / 2D arrays\n\nR ‚Äî matrixPython ‚Äî numpy.ndarray\n\n\n\nM &lt;- matrix(1:12, nrow = 3, ncol = 4)\nM; is.matrix(M); dim(M); nrow(M); ncol(M)\nt(M)\n# Elementwise vs matrix mult\nM * M\nM %*% t(M)\n\n\n\n\nimport numpy as np\nM = np.arange(1,13).reshape(3,4)\nM, M.shape\nM.T\nM * M          # elementwise\nM @ M.T        # matrix mult"
  },
  {
    "objectID": "lecture02.html#lists-r-vs-dictlist-python",
    "href": "lecture02.html#lists-r-vs-dictlist-python",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Lists (R) vs dict/list (Python)",
    "text": "Lists (R) vs dict/list (Python)\n\nR ‚Äî list (heterogeneous)Python ‚Äî dict / list\n\n\n\nnum_vec &lt;- c(188, 140)\nchar_vec &lt;- c(\"Height\", \"Weight\", \"Length\")\nlogic_vec &lt;- rep(TRUE, 8)\nmy_mat &lt;- matrix(seq_len(10), nrow = 2, ncol = 5)\nmy_list &lt;- list(number = num_vec, character = char_vec, logic = logic_vec, matrix = my_mat)\ntypeof(my_list)\nmy_list[[\"matrix\"]][,3]\n\n\n\n\nmy_dict = {\n  \"number\": [188, 140],\n  \"character\": [\"Height\",\"Weight\",\"Length\"],\n  \"logic\": [True]*8,\n  \"matrix\": [[1,2,3,4,5],[6,7,8,9,10]]\n}\nmy_dict[\"matrix\"][0][2]"
  },
  {
    "objectID": "lecture02.html#data-frames-tibbles-vs-pandas-dataframe",
    "href": "lecture02.html#data-frames-tibbles-vs-pandas-dataframe",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Data frames / tibbles vs pandas DataFrame",
    "text": "Data frames / tibbles vs pandas DataFrame\n\nRPython\n\n\n\nplayers &lt;- c(\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\")\ngrand_slam_win &lt;- c(16,19,20,0,0)\ndate_of_birth &lt;- c(\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\")\n(tennis &lt;- data.frame(date_of_birth, grand_slam_win, row.names = players))\nis.data.frame(tennis)\nstr(tennis)\n\n\n\n\nimport pandas as pd\nplayers = [\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\"]\ndf = pd.DataFrame({\n    \"date_of_birth\": [\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\"],\n    \"grand_slam_win\": [16,19,20,0,0]\n}, index=players)\ndf.info()\ndf.loc[:, [\"grand_slam_win\", \"date_of_birth\"]]"
  },
  {
    "objectID": "lecture02.html#subsetting-data-frames",
    "href": "lecture02.html#subsetting-data-frames",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Subsetting data frames",
    "text": "Subsetting data frames\n\nRPython\n\n\n\n# Like a list\ntenis_cols &lt;- tennis[c(\"grand_slam_win\", \"date_of_birth\")]\n# Like a matrix\nsame_cols &lt;- tennis[, c(\"grand_slam_win\", \"date_of_birth\")]\n\n\n\n\ncols = df[[\"grand_slam_win\", \"date_of_birth\"]]  # column subset\nrowcol = df.loc[[\"Rafael Nadal\", \"Roger Federer\"], [\"grand_slam_win\"]]"
  },
  {
    "objectID": "lecture02.html#dates",
    "href": "lecture02.html#dates",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Dates",
    "text": "Dates\n\nRPython\n\n\n\nplayers_dob &lt;- as.Date(c(\"22 May 1987\",\"3 Jun 1986\",\"8 Aug 1981\",\"11 Feb 1996\",\"3 Sep 1993\"), format = \"%d %b %Y\")\nplayers_dob\n\n\n\n\nimport pandas as pd\npd.to_datetime([\"22 May 1987\",\"3 Jun 1986\",\"8 Aug 1981\",\"11 Feb 1996\",\"3 Sep 1993\"], format=\"%d %b %Y\")"
  },
  {
    "objectID": "lecture02.html#mini-exercises-quick-wins",
    "href": "lecture02.html#mini-exercises-quick-wins",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercises (quick wins)",
    "text": "Mini-exercises (quick wins)\n\nIndexing: Let x &lt;- 3 * seq_len(4) (R) / x = [3*i for i in range(1,5)] (Py). Select the 2nd element via (a) positive, (b) negative, (c) logical (or comprehension) indexing.\nSorting: Sort x in descending order using (a) indices and (b) a built-in sorter.\nCoercion: In R, evaluate c(TRUE, 2, \"3\") ‚Äî what happens? In Python, compare [True, 2, \"3\"] and np.array([True, 2, \"3\"]).\nMatrix ops: Create a 3√ó3 matrix / array and compute its transpose and A %*% A (R) / A @ A (Py).\n\n\nOptional: Show your answers in a short .qmd or notebook."
  },
  {
    "objectID": "lecture02.html#challenge-exercise-r-python",
    "href": "lecture02.html#challenge-exercise-r-python",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Challenge exercise (R & Python)",
    "text": "Challenge exercise (R & Python)\nTennis leaderboard\n\nBuild a table with players, DoB, wins.\nAdd a computed column: age in years (use as.Date(Sys.Date()) / pd.Timestamp.today()), then sort by age descending.\nPlot wins vs age.\n\nHints:\n\nR: mutate, lubridate::time_length(interval, 'years'), plot() or ggplot2.\nPython: pd.to_datetime, age via dt, df.sort_values, and matplotlib."
  },
  {
    "objectID": "lecture02.html#appendix-python-execution-in-knitr",
    "href": "lecture02.html#appendix-python-execution-in-knitr",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Appendix ‚Äî Python execution in knitr",
    "text": "Appendix ‚Äî Python execution in knitr\nIf Python chunks don‚Äôt execute:\n\nEnsure reticulate sees the right interpreter:\nreticulate::py_config()\nPoint to an environment that has numpy / pandas if used:\nreticulate::use_condaenv(\"dacm\", required = TRUE)\nOr disable execution of Python chunks during render with chunk option #| eval: false."
  },
  {
    "objectID": "lecture02.html#appendix-cheatsheet",
    "href": "lecture02.html#appendix-cheatsheet",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Appendix ‚Äî Cheatsheet",
    "text": "Appendix ‚Äî Cheatsheet\n\nIndexing: R 1-based; Python 0-based.\nNegative indices: R excludes; Python counts from end.\nHomogeneous numerics: R vectors; Python NumPy arrays.\nTabular: R data.frame/tibble; Python pandas DataFrame.\nMissing: R NA; Python None/NaN/pd.NA (context-dependent).\nMatrix mult: R %*%; Python @ (NumPy/pandas)."
  },
  {
    "objectID": "lecture02.html#mini-exercise-1-indexing",
    "href": "lecture02.html#mini-exercise-1-indexing",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 1: Indexing",
    "text": "Mini-exercise 1: Indexing\nTask: Let x &lt;- 3 * seq_len(4) (R) / x = [3*i for i in range(1,5)] (Py). Select the 2nd element via (a) positive, (b) negative, (c) logical/comprehension.\n\nRPython\n\n\n\nx &lt;- 3 * seq_len(4)   # 3 6 9 12\nx[2]                   # (a) positive\nx[-c(1,3,4)]           # (b) negative (keep only 2)\nx[c(FALSE, TRUE, FALSE, FALSE)]  # (c) logical\n\n\n\n\nx = [3*i for i in range(1,5)]   # [3,6,9,12]\nx[1]                             # (a) positive (0-based)\nx[-3]                            # (b) negative index from end -&gt; element 2\n[xi for i, xi in enumerate(x) if i == 1]  # (c) comprehension"
  },
  {
    "objectID": "lecture02.html#mini-exercise-2-sort-descending",
    "href": "lecture02.html#mini-exercise-2-sort-descending",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 2: Sort descending",
    "text": "Mini-exercise 2: Sort descending\nTask: Sort x in descending order using (a) indices and (b) a built-in sorter.\n\nRPython\n\n\n\nx &lt;- 3 * seq_len(4)\nx[order(x, decreasing = TRUE)]   # via indices\nsort(x, decreasing = TRUE)       # via sorter\n\n\n\n\nx = [3,6,9,12]\n[xi for _, xi in sorted(enumerate(x), key=lambda t: t[1], reverse=True)]  # via indices\nsorted(x, reverse=True)                                                 # via sorter"
  },
  {
    "objectID": "lecture02.html#mini-exercise-3-coercion",
    "href": "lecture02.html#mini-exercise-3-coercion",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 3: Coercion",
    "text": "Mini-exercise 3: Coercion\nTask: In R, evaluate c(TRUE, 2, \"3\") ‚Äî what happens? In Python, compare [True, 2, \"3\"] and np.array([True, 2, \"3\"]).\n\nRPython\n\n\n\nval &lt;- c(TRUE, 2, \"3\")\nval\ntypeof(val)  # \"character\"\n\n\n\n\n# Python list stays heterogeneous\nval = [True, 2, \"3\"]\nval, [type(v).__name__ for v in val]\n\n# NumPy coerces to a common dtype\n#| eval: false\nimport numpy as np\nnp.array([True, 2, \"3\"])  # dtype('&lt;U...') (string)"
  },
  {
    "objectID": "lecture02.html#mini-exercise-4-matrix-ops",
    "href": "lecture02.html#mini-exercise-4-matrix-ops",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 4: Matrix ops",
    "text": "Mini-exercise 4: Matrix ops\nTask: Create a 3√ó3 matrix / array and compute its transpose and A %*% A (R) / A @ A (Py).\n\nRPython\n\n\n\nA &lt;- matrix(1:9, 3, 3)\nA; t(A); A %*% A\n\n\n\n\nimport numpy as np\nA = np.arange(1,10).reshape(3,3)\nA, A.T, A @ A"
  },
  {
    "objectID": "lecture02.html#challenge-tennis-leaderboard",
    "href": "lecture02.html#challenge-tennis-leaderboard",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Challenge: Tennis leaderboard",
    "text": "Challenge: Tennis leaderboard\nTask: Build table (players, DoB, wins); add age (years); sort by age desc; plot wins vs age.\n\nRPython\n\n\n\nplayers &lt;- c(\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\")\ndob &lt;- as.Date(c(\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\"))\nwins &lt;- c(16,19,20,0,0)\n\ndf &lt;- data.frame(player = players, dob = dob, wins = wins, stringsAsFactors = FALSE)\nnow &lt;- Sys.Date()\ndf$age_years &lt;- as.numeric(difftime(now, df$dob, units = \"days\")) / 365.2425\n\ndf2 &lt;- df[order(-df$age_years), ]\nprint(df2)\n\nplot(df2$age_years, df2$wins, xlab = \"Age (years)\", ylab = \"Grand Slam wins\")\n\n\n\n\nimport pandas as pd\nfrom datetime import date\nplayers = [\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\"]\ndf = pd.DataFrame({\n    \"player\": players,\n    \"dob\": pd.to_datetime([\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\"]),\n    \"wins\": [16,19,20,0,0]\n})\nnow = pd.Timestamp.today().normalize()\ndf[\"age_years\"] = (now - df[\"dob\"]).dt.days / 365.2425\n\ndf2 = df.sort_values(\"age_years\", ascending=False)\nprint(df2)\n\nax = df2.plot.scatter(x=\"age_years\", y=\"wins\")\nax.set_xlabel(\"Age (years)\"); ax.set_ylabel(\"Grand Slam wins\")"
  },
  {
    "objectID": "lecture02.html#challenge-tennis-leaderboard---2nd-solution",
    "href": "lecture02.html#challenge-tennis-leaderboard---2nd-solution",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Challenge: Tennis leaderboard - 2nd solution",
    "text": "Challenge: Tennis leaderboard - 2nd solution\nTask: Build table (players, DoB, wins); add age (years); sort by age desc; plot wins vs age.\n\nR (dplyr / ggplot2)Python (pandas / matplotlib)\n\n\n\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(ggplot2)\n\nref_date &lt;- as.Date(\"2025-10-08\")\n\nrankings &lt;- tribble(\n  ~rank, ~player,             ~country, ~points, ~dob,          ~gs_titles,\n      1, \"Carlos Alcaraz\",    \"ESP\",     11540,  as.Date(\"2003-05-05\"), 6,\n      2, \"Jannik Sinner\",     \"ITA\",     10950,  as.Date(\"2001-08-16\"), 4,\n      3, \"Alexander Zverev\",  \"GER\",      5980,  as.Date(\"1997-04-20\"), 0,\n      4, \"Taylor Fritz\",      \"USA\",      4995,  as.Date(\"1997-10-28\"), 0,\n      5, \"Novak Djokovic\",    \"SRB\",      4830,  as.Date(\"1987-05-22\"), 24\n) |&gt;\n  mutate(age = floor(as.numeric(ref_date - dob) / 365.2425))\n\nrankings\n\n# Simple points bar chart\nrankings |&gt;\n  ggplot(aes(x = reorder(player, points), y = points)) +\n  geom_col() +\n  coord_flip() +\n  labs(x = NULL, y = \"Ranking points\",\n       title = \"ATP Singles ‚Äî Top 5 (week of 2025‚Äë10‚Äë06)\") +\n  theme_minimal(base_size = 12)\n\n# Optional: Grand Slam titles lollipop\nrankings |&gt;\n  ggplot(aes(x = reorder(player, gs_titles), y = gs_titles)) +\n  geom_segment(aes(xend = player, y = 0, yend = gs_titles)) +\n  geom_point(size = 3) +\n  coord_flip() +\n  labs(x = NULL, y = \"Grand Slam singles titles\",\n       title = \"Grand Slam titles (singles)\") +\n  theme_minimal(base_size = 12)\n\n\n\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom datetime import datetime\n\nref_date = datetime(2025, 10, 8)\n\ndata = {\n    \"rank\":   [1, 2, 3, 4, 5],\n    \"player\": [\"Carlos Alcaraz\",\"Jannik Sinner\",\"Alexander Zverev\",\"Taylor Fritz\",\"Novak Djokovic\"],\n    \"country\":[\"ESP\",\"ITA\",\"GER\",\"USA\",\"SRB\"],\n    \"points\": [11540, 10950, 5980, 4995, 4830],\n    \"dob\":    pd.to_datetime([\"2003-05-05\",\"2001-08-16\",\"1997-04-20\",\"1997-10-28\",\"1987-05-22\"]),\n    \"gs_titles\": [6, 4, 0, 0, 24]\n}\nrankings = pd.DataFrame(data)\nrankings[\"age\"] = (ref_date - rankings[\"dob\"]).dt.days // 365.2425\nrankings\n\n# Points bar chart (horizontal)\nax = rankings.sort_values(\"points\").plot(kind=\"barh\", x=\"player\", y=\"points\", legend=False)\nax.set_xlabel(\"Ranking points\")\nax.set_title(\"ATP Singles ‚Äî Top 5 (week of 2025‚Äë10‚Äë06)\")\nplt.tight_layout(); plt.show()\n\n# Optional: Grand Slam titles lollipop-style\nordered = rankings.sort_values(\"gs_titles\")\nplt.figure()\nfor i, (p, v) in enumerate(zip(ordered[\"player\"], ordered[\"gs_titles\"])):\n    plt.plot([0, v], [i, i])\n    plt.plot(v, i, marker=\"o\")\nplt.yticks(range(len(ordered)), ordered[\"player\"])\nplt.xlabel(\"Grand Slam singles titles\")\nplt.title(\"Grand Slam titles (singles)\")\nplt.tight_layout(); plt.show()"
  },
  {
    "objectID": "lecture02.html#two-families",
    "href": "lecture02.html#two-families",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Two families",
    "text": "Two families\n\nChoices: decide a path based on conditions.\nLoops: repeat a block of code.\n\nWe‚Äôll contrast R and Python patterns side-by-side."
  },
  {
    "objectID": "lecture02.html#logical-operators-scalars",
    "href": "lecture02.html#logical-operators-scalars",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Logical operators ‚Äî scalars",
    "text": "Logical operators ‚Äî scalars\n\nRPython\n\n\n&gt;, &lt;, &gt;=, &lt;=, ==, !=, !, &&, ||\n\n4 &gt; 3\n1 &gt;= 1\n!(2 &gt; 1)\nTRUE && TRUE\n(1 &gt; 1) || (2 &lt; 3)\n\n\n&& and || are short-circuit and only inspect the first element.\n\n\n\n&gt;, &lt;, &gt;=, &lt;=, ==, !=, not, and, or\n\n4 &gt; 3\n1 &gt;= 1\nnot (2 &gt; 1)\n(True and True), ((1 &gt; 1) or (2 &lt; 3))"
  },
  {
    "objectID": "lecture02.html#logical-operators-vectorsarrays",
    "href": "lecture02.html#logical-operators-vectorsarrays",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Logical operators ‚Äî vectors/arrays",
    "text": "Logical operators ‚Äî vectors/arrays\n\nRPython (NumPy/pandas)\n\n\nUse elementwise & and | for vectors/matrices; all(), any(), xor().\n\nc(TRUE, FALSE) | c(TRUE, TRUE)\nc(TRUE, TRUE) & c(TRUE, FALSE)\nxor(TRUE, TRUE)\nall(c(TRUE, FALSE, FALSE))\nany(c(TRUE, FALSE, FALSE))\n# Short-circuit vs elementwise\nc(TRUE, FALSE) | c(TRUE, FALSE)\n# NOTE: c(TRUE,FALSE) || c(TRUE,FALSE) uses only first element\n\n\n\nUse & and | for elementwise logic with parentheses; np.all, np.any.\n\nimport numpy as np\nA = np.array([True, False])\nB = np.array([True, True])\n(A | B), (A & B)\n\n\nIn pandas/NumPy: do not use and/or with arrays; use &/| and wrap comparisons in parentheses."
  },
  {
    "objectID": "lecture02.html#truthiness-pitfalls",
    "href": "lecture02.html#truthiness-pitfalls",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Truthiness pitfalls",
    "text": "Truthiness pitfalls\n\nR: if(c(TRUE,FALSE)) ‚Üí warning: condition length &gt; 1; only first used.\nPython (lists): any non-empty list is truthy: if [False]: ‚Üí True.\nNumPy/pandas: if np.array([True, False]) ‚Üí error (ambiguous). Use .any() / .all().\n\n\nimport numpy as np\nx = np.array([True, False])\n# if x:  # ValueError: ambiguous truth value\nif x.any():\n    print(\"has a True\")"
  },
  {
    "objectID": "lecture02.html#selection-operators",
    "href": "lecture02.html#selection-operators",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Selection operators",
    "text": "Selection operators"
  },
  {
    "objectID": "lecture02.html#if-basic",
    "href": "lecture02.html#if-basic",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "if ‚Äî basic",
    "text": "if ‚Äî basic\n\nRPython\n\n\n\nx &lt;- -4\nif (x &lt; 0) {\n  x &lt;- -x\n}\nif (x %% 2 == 0) {\n  cat(x, \"is even\\n\")\n}\n\n\n\n\nx = -4\nif x &lt; 0:\n    x = -x\nif x % 2 == 0:\n    print(f\"{x} is even\")"
  },
  {
    "objectID": "lecture02.html#if-else",
    "href": "lecture02.html#if-else",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "if / else",
    "text": "if / else\n\nRPython\n\n\n\nx &lt;- 3\nif (x %% 2 == 0) {\n  cat(\"even\\n\")\n} else {\n  cat(\"odd\\n\")\n}\n\n\n\n\nx = 3\nif x % 2 == 0:\n    print(\"even\")\nelse:\n    print(\"odd\")"
  },
  {
    "objectID": "lecture02.html#if-else-if-else",
    "href": "lecture02.html#if-else-if-else",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "if / else if / else",
    "text": "if / else if / else\n\nRPython (elif)\n\n\n\nx &lt;- 0\nif (x == 0) {\n  cat(\"zero\\n\")\n} else if (x %% 2 == 0) {\n  cat(\"even\\n\")\n} else {\n  cat(\"odd\\n\")\n}\n\n\n\n\nx = 0\nif x == 0:\n    print(\"zero\")\nelif x % 2 == 0:\n    print(\"even\")\nelse:\n    print(\"odd\")"
  },
  {
    "objectID": "lecture02.html#vectorised-conditionals",
    "href": "lecture02.html#vectorised-conditionals",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Vectorised conditionals",
    "text": "Vectorised conditionals\n\nR ‚Äî ifelsePython ‚Äî numpy.where / pandas\n\n\n\nx &lt;- 1:10\nifelse(x %% 2 == 0, \"even\", \"odd\")\n\n\n\n\nimport numpy as np, pandas as pd\nx = np.arange(1,11)\nnp.where(x % 2 == 0, \"even\", \"odd\")\n# pandas Series\ns = pd.Series(range(1,11))\ns.where(s % 2 == 0, other=\"odd\").fillna(\"even\")"
  },
  {
    "objectID": "lecture02.html#switch-r-vs-matchcase-python-3.10",
    "href": "lecture02.html#switch-r-vs-matchcase-python-3.10",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "switch (R) vs match/case (Python ‚â•3.10)",
    "text": "switch (R) vs match/case (Python ‚â•3.10)\n\nR ‚Äî switchPython ‚Äî matchPython (pre-3.10) ‚Äî dict dispatch\n\n\n\noperator &lt;- \"+\"\nswitch(operator,\n  \"+\" = 20 + 5,\n  \"-\" = 20 - 5,\n  \"*\" = 20 * 5,\n  \"/\" = 20 / 5,\n  stop(\"Unknown operator\")\n)\n\n\n\n\noperator = \"+\"\nmatch operator:\n    case \"+\":\n        20 + 5\n    case \"-\":\n        20 - 5\n    case \"*\":\n        20 * 5\n    case \"/\":\n        20 / 5\n    case _:\n        raise ValueError(\"Unknown operator\")\n\n\n\n\nops = {\n    \"+\": lambda a,b: a+b,\n    \"-\": lambda a,b: a-b,\n    \"*\": lambda a,b: a*b,\n    \"/\": lambda a,b: a/b\n}\nops.get(\"+\", lambda a,b: None)(20,5)"
  },
  {
    "objectID": "lecture02.html#loops-overview",
    "href": "lecture02.html#loops-overview",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Loops ‚Äî overview",
    "text": "Loops ‚Äî overview\n\nR: for, while, repeat, with break, next.\nPython: for (over iterables), while, with break, continue, and the lesser-known for ‚Ä¶ else / while ‚Ä¶ else."
  },
  {
    "objectID": "lecture02.html#for-loops",
    "href": "lecture02.html#for-loops",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "for loops",
    "text": "for loops\n\nRPython\n\n\n\nfor (number in 1:6) {\n  print(number)\n}\nfor (i in 1:10) {\n  if (i %% 2 == 0) next\n  print(i)\n}\n\n\n\n\nfor number in range(1,7):\n    print(number)\nfor i in range(1,11):\n    if i % 2 == 0:\n        continue\n    print(i)"
  },
  {
    "objectID": "lecture02.html#while-loops",
    "href": "lecture02.html#while-loops",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "while loops",
    "text": "while loops\n\nRPython\n\n\n\ni &lt;- 1\nwhile (i &lt;= 6) {\n  print(i)\n  i &lt;- i + 1\n}\n\n\n\n\ni = 1\nwhile i &lt;= 6:\n    print(i)\n    i += 1"
  },
  {
    "objectID": "lecture02.html#infinite-loops-safety",
    "href": "lecture02.html#infinite-loops-safety",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Infinite loops & safety",
    "text": "Infinite loops & safety\n\nEasy to create by mistake.\nPrefer clear termination; add guards and break.\n\n\nR ‚Äî repeatPython ‚Äî guarded while\n\n\n\ncounter &lt;- 0\nrepeat {\n  counter &lt;- counter + 1\n  if (counter &gt;= 3) break\n}\n\n\n\n\ncounter = 0\nwhile True:\n    counter += 1\n    if counter &gt;= 3:\n        break"
  },
  {
    "objectID": "lecture02.html#pythons-for-else",
    "href": "lecture02.html#pythons-for-else",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Python‚Äôs for ‚Ä¶ else",
    "text": "Python‚Äôs for ‚Ä¶ else\nThe else runs only if the loop did not break.\n\nfor n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            break\n    else:\n        print(n, \"is prime\")"
  },
  {
    "objectID": "lecture02.html#vectorisation-apply-family",
    "href": "lecture02.html#vectorisation-apply-family",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Vectorisation & apply-family",
    "text": "Vectorisation & apply-family\n\nRPython\n\n\n\nPrefer vectorised ops / builtins (rowMeans, colSums, ‚Ä¶).\napply(X, MARGIN, FUN, ‚Ä¶) for arrays; lapply/sapply for lists; or purrr::map*.\n\n\nset.seed(321)\nA &lt;- matrix(rexp(30), ncol = 3, nrow = 10)\ncolMeans(A)\napply(A, 2, mean)\n\n\n\n\nPrefer NumPy vectorisation; in pandas use column-wise ops; DataFrame.apply as last resort.\n\n\nimport numpy as np, pandas as pd\nA = np.random.exponential(size=(10,3))\nA.mean(axis=0)         # column means"
  },
  {
    "objectID": "lecture02.html#performance-sketch",
    "href": "lecture02.html#performance-sketch",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Performance sketch",
    "text": "Performance sketch\n\nRPython\n\n\n\n# install.packages(\"microbenchmark\")  # if needed\n# microbenchmark::microbenchmark(\n#   for(i in 1:ncol(A)){},\n#   apply(A, 2, mean),\n#   colMeans(A)\n# )\n\n\nRule: prefer builtins and vectorised code.\n\n\n\n\n# import timeit\n# timeit.timeit(\"sum(range(1000))\", number=10000)\n\n\nRule: prefer vectorised NumPy/pandas ops over Python-level loops."
  },
  {
    "objectID": "lecture02.html#miniexercises-quick",
    "href": "lecture02.html#miniexercises-quick",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini‚Äëexercises (quick)",
    "text": "Mini‚Äëexercises (quick)\n\nShort‚Äëcircuit: What do these return? In R: c(T,F) | c(T,F) vs c(T,F) || c(T,F). In Python/NumPy: (A | B) vs (A or B) with boolean arrays.\nFizzBuzz: Print numbers 1‚Äì20; for multiples of 3 print Fizz, of 5 Buzz, of both FizzBuzz.\nMasking: Given x &lt;- 1:10 / x = np.arange(1,11), replace odds by NA/np.nan using vectorised tools.\nSwitch/match: Implement a tiny calculator using R switch and Python match."
  },
  {
    "objectID": "lecture02.html#challenge-find-the-first-even-square-1000",
    "href": "lecture02.html#challenge-find-the-first-even-square-1000",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Challenge ‚Äî Find the first even square > 1000",
    "text": "Challenge ‚Äî Find the first even square &gt; 1000\nWrite two versions (R & Python):\n\nA loop-based solution with a break when found.\nA vectorised solution.\n\nStretch: benchmark both approaches."
  },
  {
    "objectID": "lecture02.html#cheatsheet",
    "href": "lecture02.html#cheatsheet",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Cheatsheet",
    "text": "Cheatsheet\n\nR elementwise: &, |; short-circuit: &&, || (first element only).\nPython booleans: and, or, not; elementwise with NumPy/pandas: &, | (+ parentheses!).\nif/elif/else (Py) ~ if/else if/else (R).\nVectorised conditionals: ifelse (R), np.where/Series.where (Py).\nMulti-way: switch (R), match/case or dict dispatch (Py).\nLoops: for, while, repeat (R); for, while, for ‚Ä¶ else (Py)."
  },
  {
    "objectID": "lecture02.html#mini-exercise-1-shortcircuit-vs-elementwise",
    "href": "lecture02.html#mini-exercise-1-shortcircuit-vs-elementwise",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 1: Short‚Äëcircuit vs elementwise",
    "text": "Mini-exercise 1: Short‚Äëcircuit vs elementwise\nTask: What do these return? In R: c(T,F) | c(T,F) vs c(T,F) || c(T,F). In Python/NumPy: (A | B) vs (A or B) with boolean arrays.\n\nRPython / NumPy\n\n\n\nc(T,F) | c(T,F)        # elementwise OR -&gt; TRUE FALSE\nc(T,F) || c(T,F)       # an error with recent R; previously used only first element -&gt; TRUE\n\n\n\n\n# Python lists\n[True, False] or [True, False]\n\n# Elementwise with NumPy\n#| eval: false\nimport numpy as np\nA = np.array([True, False]); B = np.array([True, False])\nA | B, A & B"
  },
  {
    "objectID": "lecture02.html#mini-exercise-2-fizzbuzz-120",
    "href": "lecture02.html#mini-exercise-2-fizzbuzz-120",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 2: FizzBuzz (1‚Äì20)",
    "text": "Mini-exercise 2: FizzBuzz (1‚Äì20)\nTask: Print numbers 1‚Äì20; for multiples of 3 print Fizz, of 5 Buzz, of both FizzBuzz.\n\nRPython\n\n\n\nfor (i in 1:20) {\n  if (i %% 15 == 0) cat(\"FizzBuzz\\n\")\n  else if (i %% 3 == 0) cat(\"Fizz\\n\")\n  else if (i %% 5 == 0) cat(\"Buzz\\n\")\n  else cat(i, \"\\n\")\n}\n\n\n\n\nfor i in range(1, 21):\n    if i % 15 == 0: print(\"FizzBuzz\")\n    elif i % 3 == 0: print(\"Fizz\")\n    elif i % 5 == 0: print(\"Buzz\")\n    else: print(i)"
  },
  {
    "objectID": "lecture02.html#mini-exercise-3-masking-odds-to-nanan",
    "href": "lecture02.html#mini-exercise-3-masking-odds-to-nanan",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 3: Masking odds to NA/NaN",
    "text": "Mini-exercise 3: Masking odds to NA/NaN\nTask: Given x &lt;- 1:10 / x = np.arange(1,11), replace odds by NA/np.nan using vectorised tools.\n\nRPython\n\n\n\nx &lt;- 1:10\nx[x %% 2 == 1] &lt;- NA_integer_\nx\n\n\n\n\nimport numpy as np\nx = np.arange(1,11, dtype=float)\nx[x % 2 == 1] = np.nan\nx"
  },
  {
    "objectID": "lecture02.html#mini-exercise-4-tiny-calculator-switchmatch",
    "href": "lecture02.html#mini-exercise-4-tiny-calculator-switchmatch",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 4: Tiny calculator (switch/match)",
    "text": "Mini-exercise 4: Tiny calculator (switch/match)\nTask: Implement a tiny calculator using R switch and Python match.\n\nRPython\n\n\n\ncalc &lt;- function(a, b, op) switch(op,\n  \"+\" = a + b,\n  \"-\" = a - b,\n  \"*\" = a * b,\n  \"/\" = a / b,\n  stop(\"unknown op\")\n)\ncalc(20,5,\"+\")\n\n\n\n\n# Python 3.10+\nimport sys\nif sys.version_info &gt;= (3,10):\n    def calc(a,b,op):\n        match op:\n            case \"+\": return a + b\n            case \"-\": return a - b\n            case \"*\": return a * b\n            case \"/\": return a / b\n            case _: raise ValueError(\"unknown op\")\n    calc(20,5,\"+\")\nelse:\n    ops = {\"+\": lambda a,b: a+b, \"-\": lambda a,b: a-b, \"*\": lambda a,b: a*b, \"/\": lambda a,b: a/b}\n    ops[\"+\"](20,5)"
  },
  {
    "objectID": "lecture02.html#challenge-first-even-square-1000",
    "href": "lecture02.html#challenge-first-even-square-1000",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Challenge: First even square > 1000",
    "text": "Challenge: First even square &gt; 1000\nTask: Write two versions (R & Python):\n\nA loop-based solution with a break when found.\nA vectorised solution.\n\n\nRPython\n\n\n\n# Loop solution\nn &lt;- 1\nrepeat {\n  s &lt;- n^2\n  if (s &gt; 1000 && s %% 2 == 0) { ans &lt;- list(n=n, s=s); break }\n  n &lt;- n + 1\n}\nans\n\n# Vectorised solution\nn &lt;- seq_len(100)\nsq &lt;- n^2\ncbind(n, sq)[which(sq &gt; 1000 & sq %% 2 == 0)[1], ]\n\n\n\n\n# Loop solution\nn = 1\nwhile True:\n    s = n*n\n    if s &gt; 1000 and s % 2 == 0:\n        ans = {\"n\": n, \"s\": s}\n        break\n    n += 1\nans\n\n# Vectorised (NumPy)\n#| eval: false\nimport numpy as np\nn = np.arange(1, 101)\nsq = n**2\nidx = np.where((sq &gt; 1000) & (sq % 2 == 0))[0][0]\nint(n[idx]), int(sq[idx])"
  },
  {
    "objectID": "lecture02.html#everything-is-a-function-call-and-a-firstclass-object",
    "href": "lecture02.html#everything-is-a-function-call-and-a-firstclass-object",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "‚ÄúEverything is a function call‚Äù (and a first‚Äëclass object)",
    "text": "‚ÄúEverything is a function call‚Äù (and a first‚Äëclass object)\n\nRPython\n\n\n\nEvaluate a constant:\n\n\n18.10\n\n\nNames / quoted names:\n\n\nsqrt\n`+`\n\n\nFunction call:\n\n\n1.1 + 2.1\n`+`(1.1, 2.1)\n\n\n\n\nEvaluate a constant, names, and call:\n\n\n18.10\nabs\n(1.1).__add__(2.1)\n\n\nOperators are methods/functions under the hood (see operator module), and functions are first‚Äëclass values."
  },
  {
    "objectID": "lecture02.html#function-components",
    "href": "lecture02.html#function-components",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Function components",
    "text": "Function components\n\nRPython\n\n\n\nArguments, body, environment.\n\n\nmy_div &lt;- function(numerator, denominator) {\n  div &lt;- numerator / denominator\n  return(div)\n}\nformals(my_div)\nbody(my_div)\nenvironment(my_div)\n\n\n\n\nParameters, body, globals/closure.\n\n\ndef my_div(numerator, denominator):\n    div = numerator / denominator\n    return div\nmy_div.__code__.co_varnames, my_div.__defaults__, my_div.__closure__"
  },
  {
    "objectID": "lecture02.html#returns",
    "href": "lecture02.html#returns",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Returns",
    "text": "Returns\n\nRPython\n\n\nLast expression is returned if return() omitted.\n\nf &lt;- function(x) { x + 1 }\nf(2)\n\n\n\nMust return explicitly (else returns None).\n\ndef f(x):\n    x + 1\nprint(f(2))  # None"
  },
  {
    "objectID": "lecture02.html#passing-arguments",
    "href": "lecture02.html#passing-arguments",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Passing arguments",
    "text": "Passing arguments\n\nR ‚Äî matching rulesPython ‚Äî calling conventions\n\n\n\nPositional, exact by name, partial (prefix) matching.\n\n\nmy_div(1, 2)\nmy_div(numerator = 1, denominator = 2)\nmy_div(n = 1, d = 2)  # partial match (works but discouraged)\n\n\n\n\nPositional, keyword, defaults, *args, **kwargs.\nKeyword‚Äëonly params (after *), positional‚Äëonly (before /).\n\n\ndef g(a, b=1, *args, scale=1, **kw):\n    return (a + b) * scale\n\ng(1, 2, scale=3)\n\ndef h(x, /, y, *, z=0):  # pos‚Äëonly x; keyword‚Äëonly z\n    return x + y + z\nh(1, 2, z=3)"
  },
  {
    "objectID": "lecture02.html#assignment-vs-argument-binding-in-r",
    "href": "lecture02.html#assignment-vs-argument-binding-in-r",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Assignment vs argument binding in R",
    "text": "Assignment vs argument binding in R\n\nBoth = and &lt;- assign values, but inside calls = binds arguments.\n\n\nmy_div(numerator = 2, denominator = 1)\nnumerator             # error: object 'numerator' not found\nmy_div(numerator &lt;- 2, denominator = 1)  # assigns globally first\nnumerator             # now exists in workspace"
  },
  {
    "objectID": "lecture02.html#type-checks-friendly-failures",
    "href": "lecture02.html#type-checks-friendly-failures",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Type checks & friendly failures",
    "text": "Type checks & friendly failures\n\nRPython\n\n\n\nmy_div &lt;- function(numerator, denominator) {\n  if (any(!is.numeric(numerator), !is.numeric(denominator))) {\n    stop(\"`numerator` and `denominator` must be numeric\")\n  }\n  numerator / denominator\n}\nmy_div(\"numerator\", \"denominator\")\n\n\n\n\nclass NotNumericError(TypeError):\n    pass\n\ndef my_div(numerator, denominator):\n    from numbers import Number\n    if not isinstance(numerator, Number) or not isinstance(denominator, Number):\n        raise NotNumericError(\"numerator and denominator must be numeric\")\n    return numerator / denominator\n# my_div(\"numerator\", \"denominator\")  # raises"
  },
  {
    "objectID": "lecture02.html#warnings-messages-vs-warnings-logging",
    "href": "lecture02.html#warnings-messages-vs-warnings-logging",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Warnings / messages vs warnings / logging",
    "text": "Warnings / messages vs warnings / logging\n\nRPython\n\n\n\nwarning(\"Size mismatch; recycling may occur\")\nmessage(\"Starting the division‚Ä¶\")\n\n\n\n\nimport warnings, logging\nwarnings.warn(\"Size mismatch; check inputs\")\nlogging.basicConfig(level=logging.INFO)\nlogging.info(\"Starting the division‚Ä¶\")"
  },
  {
    "objectID": "lecture02.html#dimensions-vectorisation",
    "href": "lecture02.html#dimensions-vectorisation",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Dimensions & vectorisation",
    "text": "Dimensions & vectorisation\n\nRPython (NumPy)\n\n\n\nA &lt;- matrix(1:9, ncol = 3)\nB &lt;- matrix(10:18, ncol = 3)\nA / B  # vectorised elementwise\n\n\n\n\nimport numpy as np\nA = np.arange(1,10).reshape(3,3)\nB = np.arange(10,19).reshape(3,3)\nA / B  # elementwise"
  },
  {
    "objectID": "lecture02.html#robust-my_div-shape-checks",
    "href": "lecture02.html#robust-my_div-shape-checks",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Robust my_div (shape checks)",
    "text": "Robust my_div (shape checks)\n\nRPython (NumPy)\n\n\n\nmy_div &lt;- function(numerator, denominator) {\n  if (any(!is.numeric(numerator), !is.numeric(denominator))) {\n    stop(\"`numerator` and `denominator` must be numeric\")\n  }\n  if (!identical(dim(numerator), dim(denominator))) {\n    # fall back to length check for vectors\n    if (is.null(dim(numerator)) && is.null(dim(denominator))) {\n      if (length(numerator) != length(denominator))\n        stop(\"Lengths must match for vectors\")\n    } else {\n      stop(\"Dimensions must match for arrays/matrices\")\n    }\n  }\n  numerator / denominator\n}\n\n\n\n\nimport numpy as np\n\ndef my_div(numerator, denominator):\n    a = np.asarray(numerator)\n    b = np.asarray(denominator)\n    if a.shape != b.shape:\n        raise ValueError(\"Shapes must match\")\n    return a / b"
  },
  {
    "objectID": "lecture02.html#scope-r-environments-vs-python-legb",
    "href": "lecture02.html#scope-r-environments-vs-python-legb",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Scope: R environments vs Python LEGB",
    "text": "Scope: R environments vs Python LEGB\n\nR ‚Äî lexical scopingPython ‚Äî LEGB & global/nonlocal\n\n\n\nDynamic lookup: names resolved when function runs.\nName masking: inner names shadow outer names.\n\n\nf &lt;- function() x * x\nf()            # error, x not found\nx &lt;- 10\nf()            # now 100\n\n\nx &lt;- 10\nf &lt;- function(){ x &lt;- 1; x * x }\nf()            # 1\n\n\nInspect environments:\n\n\nenvironment()\nglobalenv()\nemptyenv()\n\n\n\n\nx = 10\n\ndef f():\n    x = 1   # local shadows global\n    return x * x\nf()\n\ny = 0\n\ndef bump():\n    global y\n    y += 1\nbump(); y\n\n\ndef make_adder(k):\n    def add(x):\n        return x + k  # closes over k (enclosing)\n    return add\nadd5 = make_adder(5)\nadd5(3)"
  },
  {
    "objectID": "lecture02.html#closures-higherorder-functions",
    "href": "lecture02.html#closures-higherorder-functions",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Closures & higher‚Äëorder functions",
    "text": "Closures & higher‚Äëorder functions\n\nRPython\n\n\n\nmake_adder &lt;- function(k) {\n  function(x) x + k\n}\nadd5 &lt;- make_adder(5)\nadd5(3)\n# Map over a vector\nlapply(1:5, add5)\n\n\n\n\nfrom functools import partial\n\ndef add(x, y):\n    return x + y\nadd5 = partial(add, 5)\nlist(map(add5, range(1,6)))"
  },
  {
    "objectID": "lecture02.html#composition-piping",
    "href": "lecture02.html#composition-piping",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Composition & piping",
    "text": "Composition & piping\n\nRPython\n\n\n\nBase pipe |&gt; and magrittr %&gt;%.\n\n\n`%big%` &lt;- function(x, y) 10 * x * y  # custom infix\n1 %big% 2\n\n# composition via nesting / piping\nsqrt(log1p(9))\n9 |&gt;\n  log1p() |&gt;\n  sqrt()\n\n\n\n\nNest calls or write a tiny compose.\n\n\nfrom math import sqrt, log1p\n\ndef compose(f, g):\n    return lambda x: f(g(x))\n\nh = compose(sqrt, log1p)\nh(9)"
  },
  {
    "objectID": "lecture02.html#documentation",
    "href": "lecture02.html#documentation",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Documentation",
    "text": "Documentation\n\nR ‚Äî roxygen2 style (snippet)Python ‚Äî docstring + type hints\n\n\n#' Divide two numbers\n#'\n#' @param numerator,denominator Numeric scalars or vectors.\n#' @return Numeric result.\n#' @examples\n#' my_div(4, 2)\nmy_div &lt;- function(numerator, denominator) numerator / denominator\n\n\n\nfrom typing import Union\nNumber = Union[int, float]\n\ndef my_div(numerator: Number, denominator: Number) -&gt; float:\n    \"\"\"Divide two numbers.\n\n    Args:\n        numerator: dividend\n        denominator: divisor\n    Returns:\n        The quotient as float.\n    \"\"\"\n    return numerator / denominator"
  },
  {
    "objectID": "lecture02.html#testing-unit-tests",
    "href": "lecture02.html#testing-unit-tests",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Testing (unit tests)",
    "text": "Testing (unit tests)\n\nR ‚Äî testthat (minimal)Python ‚Äî pytest (minimal)\n\n\n# install.packages(\"testthat\")\n# test_that(\"my_div works\", {\n#   expect_equal(my_div(4,2), 2)\n#   expect_error(my_div(\"a\", 2))\n# })\n\n\n# def test_my_div():\n#     assert my_div(4,2) == 2\n#     import pytest\n#     with pytest.raises(Exception):\n#         my_div(\"a\", 2)"
  },
  {
    "objectID": "lecture02.html#miniexercises-quick-1",
    "href": "lecture02.html#miniexercises-quick-1",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini‚Äëexercises (quick)",
    "text": "Mini‚Äëexercises (quick)\n\nSafe divide: Write safe_div in R & Python that returns NA/math.nan when denominator is 0 and emits a warning.\nPrefix matching: In R, define f &lt;- function(numerator, denominator) {...} and call it via partial names. Why is this risky? Rewrite to avoid it."
  },
  {
    "objectID": "lecture02.html#appendix-python-in-this-deck-pitfalls",
    "href": "lecture02.html#appendix-python-in-this-deck-pitfalls",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Appendix ‚Äî Python in this deck & pitfalls",
    "text": "Appendix ‚Äî Python in this deck & pitfalls\nRender with R/knitr + reticulate and point to your env:\n\ninstall.packages(\"reticulate\")\nreticulate::use_condaenv(\"dacm\", required = TRUE)\nreticulate::py_config()\n\nPython gotcha ‚Äî mutable defaults:\n\n# Bad\n# def append_item(x, lst=[]):\n#     lst.append(x); return lst\n# Good\n# def append_item(x, lst=None):\n#     if lst is None: lst = []\n#     lst.append(x); return lst\n\nR note ‚Äî lazy defaults: evaluated when first used, not at definition."
  },
  {
    "objectID": "lecture02.html#cheatsheet-1",
    "href": "lecture02.html#cheatsheet-1",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Cheatsheet",
    "text": "Cheatsheet\n\nR returns last expr; Python needs return.\nR: positional/exact/partial arg matching; Python: positional/keyword, *args/**kwargs, / & * markers.\nR errors/warnings/messages vs Python exceptions/warnings/logging.\nR lexical scoping & environments vs Python LEGB with global/nonlocal.\nVectorise: R builtins; Python use NumPy/pandas.\nComposition: R |&gt;/%&gt;% & custom %op%; Python nesting/compose/method chaining."
  },
  {
    "objectID": "lecture02.html#mini-exercise-1-safe-divide",
    "href": "lecture02.html#mini-exercise-1-safe-divide",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 1: Safe divide",
    "text": "Mini-exercise 1: Safe divide\nTask: Write safe_div in R & Python that returns NA/math.nan when denominator is 0 and emits a warning.\n\nRPython\n\n\n\nsafe_div &lt;- function(a, b) {\n  ifelse(b == 0, {\n    warning(\"denominator is 0; returning NA\")\n    NA_real_\n  }, a / b)\n}\nsafe_div(c(1,2,3), c(1,0,2))\n\n\n# alternatively\nsafe_div &lt;- function(a, b) {\n  if(any(b == 0)) {\n    warning(\"denominator is 0; returning NA\")\n  }\n  \n  x &lt;- rep(NA_real_, length(a))\n  x[b != 0] &lt;- a[b != 0] / b[b != 0]\n  \n  return(x)\n}\n\n\n\n\nimport math, warnings\n\ndef safe_div(a, b):\n    try:\n        return a / b\n    except ZeroDivisionError:\n        warnings.warn(\"denominator is 0; returning NaN\")\n        return math.nan\n\nprint(safe_div(1,1))\nprint(safe_div(2,0))"
  },
  {
    "objectID": "lecture02.html#mini-exercise-2-prefix-matching-r-safer-calls",
    "href": "lecture02.html#mini-exercise-2-prefix-matching-r-safer-calls",
    "title": "Lecture 2 ‚Äî Programming Foundations",
    "section": "Mini-exercise 2: Prefix matching (R) & safer calls",
    "text": "Mini-exercise 2: Prefix matching (R) & safer calls\nTask: In R, define f &lt;- function(numerator, denominator) {...} and call it via partial names. Why is this risky? Rewrite to avoid it.\n\nRPython\n\n\n\nf &lt;- function(numerator, denominator) numerator / denominator\nf(n = 1, d = 2)              # works via partial matching (risky)\n\n# Make it safer:\noptions(warnPartialMatchArgs = TRUE)  # warn on partial matching\nf(numerator = 1, denominator = 2)     # explicit names\n\n\n\n\n# Not applicable (Python has no partial name matching for keywords).\npass"
  },
  {
    "objectID": "lecture04.html#why-make-an-r-package",
    "href": "lecture04.html#why-make-an-r-package",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Why make an R package?",
    "text": "Why make an R package?\n\nDistribute code to others ‚Äî packaging nudges you to write documentation.\nEnforces conventions (files, names, processes).\nIncreases stability via long-term maintenance + testing.\nImproves usability as your function zoo grows.\nClear API, versioning, and easier onboarding for collaborators."
  },
  {
    "objectID": "lecture04.html#setup",
    "href": "lecture04.html#setup",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Setup",
    "text": "Setup\nYou will need (at least) the following packages:\n\ninstall.packages(c(\"devtools\", \"knitr\", \"pkgdown\", \"roxygen2\", \"testthat\", \"usethis\"))\n\nCheck your system toolchain:\n\ndevtools::has_devel()\n\nIf not ready: https://r-pkgs.org/setup.html"
  },
  {
    "objectID": "lecture04.html#demo",
    "href": "lecture04.html#demo",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Demo",
    "text": "Demo\n(We‚Äôll live-code a tiny package: init ‚Üí a function ‚Üí docs ‚Üí tests ‚Üí pkgdown.)"
  },
  {
    "objectID": "lecture04.html#package-anatomy",
    "href": "lecture04.html#package-anatomy",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Package anatomy",
    "text": "Package anatomy\npkgtest/\n‚îú‚îÄ DESCRIPTION\n‚îú‚îÄ NAMESPACE          # auto-generated by roxygen2\n‚îú‚îÄ R/                 # your exported/internal functions\n‚îú‚îÄ man/               # *.Rd docs (generated)\n‚îú‚îÄ tests/testthat/    # unit tests\n‚îú‚îÄ vignettes/         # long-form docs (optional)\n‚îú‚îÄ data/              # .rda datasets (optional)\n‚îú‚îÄ inst/              # e.g., inst/examples/\n‚îî‚îÄ data-raw/          # raw data + scripts (ignored by build)"
  },
  {
    "objectID": "lecture04.html#description-file",
    "href": "lecture04.html#description-file",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "DESCRIPTION file",
    "text": "DESCRIPTION file\nDESCRIPTION contains package metadata (authors, description, dependencies, contact, ‚Ä¶). Example:\n\n# Plain text (DCF) ‚Äî shown here for reference\nPackage: pkgtest\nType: Package\nTitle: What the Package Does (Title Case)\nVersion: 0.1.0\nAuthors@R: person(\"John\", \"Doe\", email = \"john.doe@example.com\",\n  role = c(\"aut\", \"cre\"))\nMaintainer: John Doe &lt;john.doe@example.com&gt;\nDescription: More about what it does (maybe more than one line).\n    Use four spaces when indenting paragraphs within the Description.\nLicense: MIT + file LICENSE\nEncoding: UTF-8\nLazyData: true\nURL: https://github.com/ptds2024/pkgtest\nBugReports: https://github.com/ptds2024/pkgtest/issues\nRoxygen: list(markdown = TRUE)\nRoxygenNote: 7.3.1\nSuggests:\n    knitr,\n    rmarkdown,\n    testthat (&gt;= 3.0.0)\nConfig/testthat/edition: 3\n\nTip: usethis::use_description() can scaffold this for you."
  },
  {
    "objectID": "lecture04.html#authors-and-license",
    "href": "lecture04.html#authors-and-license",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Authors and license",
    "text": "Authors and license\nUse person() in Authors@R. Common roles:\n\n\"cre\" = maintainer (creator)\n\"aut\" = author (substantial contributions)\n\"ctb\" = contributor (smaller contributions)\n\"cph\" = copyright holder (institution/corporate)\n\nChoose a license: https://choosealicense.com/licenses/\n\nusethis::use_mit_license()\n# Alternatives: usethis::use_gpl3_license(), use_apl2_license(), ‚Ä¶"
  },
  {
    "objectID": "lecture04.html#dependencies",
    "href": "lecture04.html#dependencies",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Dependencies",
    "text": "Dependencies\nDESCRIPTION lists what your package needs.\n\nDepends: R (&gt;= 4.0.0)    # note the space!\nImports:\n    dplyr (&gt;= 1.1.4),\n    ggplot2 (&gt;= 3.5.1)\nSuggests:\n    knitr,\n    rmarkdown,\n    testthat (&gt;= 3.0.0)\n\nGuidelines:\n\nImports for fun() used in codes in R/.\nDepends for base R version requirement.\nSuggests for docs, tests, vignettes.\nNote: for selective namespace import, use roxygen tags such as: @importFrom dplyr mutate select."
  },
  {
    "objectID": "lecture04.html#documenting-your-package",
    "href": "lecture04.html#documenting-your-package",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Documenting your package",
    "text": "Documenting your package\n\nDocs live in man/ as *.Rd (generated).\nWe generate them with roxygen2 from inline comments.\nRun devtools::document() to update NAMESPACE + man/."
  },
  {
    "objectID": "lecture04.html#roxygen-basics",
    "href": "lecture04.html#roxygen-basics",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Roxygen basics",
    "text": "Roxygen basics\nPlace roxygen just above the function:\n\n#' Say hello\n#'\n#' @return Prints a friendly message.\n#' @examples\n#' hello()\n#' @export\nhello &lt;- function() {\n  print(\"Hello, world!\")\n}\n\nUseful tags: @title, @description, @details, @param, @return, @examples, @seealso, @author, @references, @import, @importFrom, @export\nDocument all user-facing functions; export some of them."
  },
  {
    "objectID": "lecture04.html#example-hello-docs-vs.-help-page",
    "href": "lecture04.html#example-hello-docs-vs.-help-page",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Example: hello() (docs vs.¬†help page)",
    "text": "Example: hello() (docs vs.¬†help page)\n\n\n\n\n\n\n\n\n\n#' @title hello world function\n#' @details A super fancy function to print Hello World!\n#' @return Prints a message.\n#' @examples\n#' hello()\n#' @export\nhello &lt;- function() {\n  print(\"Hello, world!\")\n}"
  },
  {
    "objectID": "lecture04.html#import-external-functions-explicitly",
    "href": "lecture04.html#import-external-functions-explicitly",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Import external functions explicitly",
    "text": "Import external functions explicitly\nRule: If you call functions from another package, you must import them with roxygen‚Äôs @importFrom so NAMESPACE lists them.\nIt is not sufficient to add pkg::fun() calls in your code.\nOtherwise you‚Äôll hit R CMD check NOTES like ‚Äúno visible global function definition for ‚Äòselect‚Äô‚Äù and users may get runtime errors.\nNote: Base R functions (e.g., mean(), lm()) do not need imports.\nDo (bare names + explicit imports):\n\n#' Transform helper\n#'\n#' @description Example using dplyr without pkg:: qualification.\n#' @importFrom dplyr select mutate\n#' @export\nfoo &lt;- function(df) {\n  df |&gt;\n    select(x, y) |&gt;\n    mutate(z = x + y)\n}"
  },
  {
    "objectID": "lecture04.html#adding-data-binary-.rda",
    "href": "lecture04.html#adding-data-binary-.rda",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Adding data (binary .rda)",
    "text": "Adding data (binary .rda)\n\nPlace datasets in data/ as .rda.\nUse usethis::use_data() to serialize R objects.\n\n\nsnipes &lt;- read.csv(\"data-raw/snipes.csv\")\nusethis::use_data(snipes, overwrite = TRUE)  # creates data/snipes.rda"
  },
  {
    "objectID": "lecture04.html#preserve-the-origin-story-data-raw",
    "href": "lecture04.html#preserve-the-origin-story-data-raw",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Preserve the origin story (data-raw)",
    "text": "Preserve the origin story (data-raw)\n\nKeep raw inputs + wrangling scripts under data-raw/.\nMake it reproducible with usethis::use_data_raw() (auto-adds to .Rbuildignore).\n\n\nusethis::use_data_raw(\"snipes\")\n# edit data-raw/snipes.R to read/clean/write snipes object, then use_data()\n\nReference: r-pkgs, ‚ÄúPreserve the origin story of package data‚Äù."
  },
  {
    "objectID": "lecture04.html#documenting-datasets",
    "href": "lecture04.html#documenting-datasets",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Documenting datasets",
    "text": "Documenting datasets\nTwo useful tags: @format and @source.\n\n#' Snipes price data\n#'\n#' @format A data frame with 48 rows and 3 columns:\n#' \\describe{\n#'   \\item{discount}{Discounted price of sneakers}\n#'   \\item{brand}{Brand of sneakers}\n#'   \\item{price}{Original price of sneakers}\n#' }\n#' @source &lt;https://www.snipes.ch/&gt;\n\"snipes\""
  },
  {
    "objectID": "lecture04.html#rbuildignore",
    "href": "lecture04.html#rbuildignore",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": ".Rbuildignore",
    "text": ".Rbuildignore\nLike .gitignore, but for package builds.\n\nusethis::use_build_ignore(c(\"^.*\\\\.Rproj$\", \"^\\\\.Rproj\\\\.user$\", \"^LICENSE\\\\.md$\", \"^\\\\.github$\", \"^data-raw$\"))\n\nOr maintain manually:\n^.*\\.Rproj$\n^\\.Rproj\\.user$\n^LICENSE\\.md$\n^\\.github$\n^data-raw$"
  },
  {
    "objectID": "lecture04.html#vignettes",
    "href": "lecture04.html#vignettes",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Vignettes",
    "text": "Vignettes\nLong-form docs (articles, tutorials) built with R Markdown/Quarto.\n\nusethis::use_vignette(\"getting-started\")\n# Write vignettes/getting-started.Rmd (or .qmd)\n\nRemember to list knitr and rmarkdown under Suggests."
  },
  {
    "objectID": "lecture04.html#namespaces-how-functions-are-found",
    "href": "lecture04.html#namespaces-how-functions-are-found",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Namespaces (how functions are found)",
    "text": "Namespaces (how functions are found)\n\nThe namespace controls how R looks up variables: it searches your package namespace, then imports, then base, then the regular search path.\n\n\nGenerated automatically by roxygen2.\nUse @export to expose a function; @importFrom pkg fun to bring symbols in."
  },
  {
    "objectID": "lecture04.html#a-toy-function-to-test",
    "href": "lecture04.html#a-toy-function-to-test",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "A toy function to test",
    "text": "A toy function to test\nIn R/reg_coef.R:\n\n#' Compute regression coefficients\n#'\n#' @param x Design \\code{matrix} or vector.\n#' @param y Response \\code{vector}.\n#' @details Uses \\link[stats]{lm} then \\link[stats]{coef}.\n#' @importFrom stats lm coef\n#' @seealso \\code{\\link[stats]{lm}}, \\code{\\link[stats]{coef}}\n#' @example inst/examples/eg_reg_coef.R\n#' @export\n`%r%` &lt;- function(y, x) {\n  fit &lt;- lm(y ~ x)\n  coef(fit)\n}"
  },
  {
    "objectID": "lecture04.html#testing-via-examples",
    "href": "lecture04.html#testing-via-examples",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "‚ÄúTesting‚Äù via examples",
    "text": "‚ÄúTesting‚Äù via examples\n\nExamples (in roxygen) are shown to users and run under R CMD check.\nFor bigger snippets, place files under inst/examples/ and reference them:\n\n\n#' @examples\n#' @example inst/examples/eg_reg_coef.R\n\ninst/examples/eg_reg_coef.R:\n\n## linear regression\ncars$speed %r% cars$dist"
  },
  {
    "objectID": "lecture04.html#what-happens-on-check",
    "href": "lecture04.html#what-happens-on-check",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "What happens on check?",
    "text": "What happens on check?"
  },
  {
    "objectID": "lecture04.html#intentional-mistake-to-see-failure",
    "href": "lecture04.html#intentional-mistake-to-see-failure",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Intentional mistake (to see failure)",
    "text": "Intentional mistake (to see failure)\nIf inst/examples/eg_reg_coef.R contains:\n\ncars$speed %r% cars   # wrong!\n\nYou‚Äôll get a failing check:"
  },
  {
    "objectID": "lecture04.html#testing-with-testthat",
    "href": "lecture04.html#testing-with-testthat",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Testing with testthat",
    "text": "Testing with testthat\nExamples are for users; tests are for you (broader, automated).\n\nusethis::use_testthat()\n\n\n‚ÄúWhenever you are tempted to type something into a print statement or a debugger expression, write it as a test instead.‚Äù ‚Äî Martin Fowler"
  },
  {
    "objectID": "lecture04.html#testthat-structure",
    "href": "lecture04.html#testthat-structure",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "testthat structure",
    "text": "testthat structure\n\nExpectation: a single check (expect_*()).\nTest: one or more expectations (test_that()).\nTest file: one or more tests (e.g., tests/testthat/test_reg_coef.R).\n\nExample:\n\ntest_that(\"regression coefficient input check\", {\n  expect_error(cars$speed %r% cars)\n})\n\ntest_that(\"regression coefficient output\", {\n  expect_type(cars$speed %r% cars$dist, \"double\")\n})"
  },
  {
    "objectID": "lecture04.html#continuous-integration-github-actions",
    "href": "lecture04.html#continuous-integration-github-actions",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Continuous Integration (GitHub Actions)",
    "text": "Continuous Integration (GitHub Actions)\nRun checks on multiple R versions/OS on every push/PR:\n\nusethis::use_github_action_check_standard()\n\nMore examples: https://github.com/r-lib/actions/tree/master/examples"
  },
  {
    "objectID": "lecture04.html#keep-ci-within-budget-class-org",
    "href": "lecture04.html#keep-ci-within-budget-class-org",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Keep CI within budget (class org)",
    "text": "Keep CI within budget (class org)\n\nWe have only 3000 free Actions minutes/month for the class org.\nPrefer public repos (or self-hosted runners) ‚Üí no Actions minutes used.\nFor private repos, test on your personal repo first; then fork to class org.\nTrigger CI on PRs/manual runs and use paths filters:\n\non:\n  pull_request:\n    paths:\n      - 'R/**'\n      - 'DESCRIPTION'\n      - 'NAMESPACE'\n      - '.github/workflows/**'\n  workflow_dispatch:"
  },
  {
    "objectID": "lecture04.html#keep-ci-within-budget-class-org-1",
    "href": "lecture04.html#keep-ci-within-budget-class-org-1",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Keep CI within budget (class org)",
    "text": "Keep CI within budget (class org)\n\nSkip manually CI with [skip ci]:\n\njobs:\n  check:\n    if: \"!contains(github.event.head_commit.message, '[skip ci]')\"\n\ngit add README.md\ngit commit -m \"docs: fix typos [skip ci]\"\ngit push"
  },
  {
    "objectID": "lecture04.html#code-coverage-nice-enhancement",
    "href": "lecture04.html#code-coverage-nice-enhancement",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Code coverage (nice enhancement)",
    "text": "Code coverage (nice enhancement)\nMeasure what your tests execute:\n\ninstall.packages(\"covr\")\ncovr::report()           # local HTML report\nusethis::use_coverage()  # set up Codecov (if desired)\n\nAim for high, but don‚Äôt chase 100% blindly ‚Äî test the behavior that matters."
  },
  {
    "objectID": "lecture04.html#pkgdown-package-website",
    "href": "lecture04.html#pkgdown-package-website",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "pkgdown (package website)",
    "text": "pkgdown (package website)\n\nQuickly create a website from your docs/vignettes:\n\nusethis::use_pkgdown()    # run once\npkgdown::build_site()     # build locally\nusethis::use_github_action(\"pkgdown\")  # CI deploy\n\nDocs: https://pkgdown.r-lib.org/"
  },
  {
    "objectID": "lecture04.html#example-site-preview",
    "href": "lecture04.html#example-site-preview",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Example site preview",
    "text": "Example site preview"
  },
  {
    "objectID": "lecture04.html#release-checklist-semver",
    "href": "lecture04.html#release-checklist-semver",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Release checklist (SemVer)",
    "text": "Release checklist (SemVer)\n\nUpdate NEWS.md (usethis::use_news_md()).\nBump version in DESCRIPTION (e.g., 0.1.0 ‚Üí 0.2.0 for features).\ndevtools::check() clean locally (no ERROR/WARNING/NOTE).\nAll CI green; coverage reasonable.\nRebuild site; tag the release; write a short changelog.\nConsider CRAN policies if submitting (e.g., R CMD check --as-cran)."
  },
  {
    "objectID": "lecture04.html#install-from-github-user",
    "href": "lecture04.html#install-from-github-user",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Install from GitHub (user)",
    "text": "Install from GitHub (user)\nFor users (install the released tag):\n\ninstall.packages(\"remotes\")\nremotes::install_github(\"your-org/yourpkg\", ref = \"v0.1.0\", dependencies = TRUE)\n\n# Repo with a subfolder package:\nremotes::install_github(\"your-org/your-repo\", subdir = \"yourpkg\", ref = \"v0.1.0\")\n\nNote: Building from source may require Rtools (Windows) or Xcode CLT (macOS)."
  },
  {
    "objectID": "lecture04.html#typical-workflow-big-picture",
    "href": "lecture04.html#typical-workflow-big-picture",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Typical workflow (big picture)",
    "text": "Typical workflow (big picture)\n\nusethis::create_package(\"pkgtest\")\nWrite a function in R/\nAdd roxygen docs ‚Üí devtools::document()\nAdd tests ‚Üí usethis::use_testthat() ‚Üí write tests/testthat/\nCheck ‚Üí devtools::check()\nCI ‚Üí usethis::use_github_action_check_standard()\nSite ‚Üí usethis::use_pkgdown() ‚Üí pkgdown::build_site()\nRelease checklist and version bump (SemVer)"
  },
  {
    "objectID": "lecture04.html#tips-helpers-usethis",
    "href": "lecture04.html#tips-helpers-usethis",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Tips & helpers (usethis)",
    "text": "Tips & helpers (usethis)\n\nusethis::use_readme_md()\nusethis::use_lifecycle_badge(\"maturing\")\nusethis::use_github()              # init repo + remote\nusethis::use_pipe()                # if you want |&gt; helper or magrittr\nusethis::use_tidy_description()    # sort/format DESCRIPTION"
  },
  {
    "objectID": "lecture04.html#resources",
    "href": "lecture04.html#resources",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Resources",
    "text": "Resources\n\nCode shown here: https://github.com/ptds2024/pkgtest\nR Packages (2e): https://r-pkgs.org/\nWriting R Extensions: https://cran.r-project.org/doc/manuals/r-release/R-exts.html\nBook chapter: An Introduction to Statistical Programming Methods with R ‚Äî Packages section: https://smac-group.github.io/ds/section-r-packages.html"
  },
  {
    "objectID": "lecture04.html#why-a-python-library-r-parallels",
    "href": "lecture04.html#why-a-python-library-r-parallels",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Why a Python library (R parallels)",
    "text": "Why a Python library (R parallels)\n\nDistribute code, enforce conventions, improve stability.\nR: DESCRIPTION, NAMESPACE, roxygen, testthat, pkgdown\n\nPy: setup.py/wheel, __init__.py, docstrings, pytest, MkDocs"
  },
  {
    "objectID": "lecture04.html#set-up-a-virtual-environment-vs-code",
    "href": "lecture04.html#set-up-a-virtual-environment-vs-code",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Set up a virtual environment (VS Code)",
    "text": "Set up a virtual environment (VS Code)\n\npython3 -m venv venv\nsource venv/bin/activate     # Windows: venv\\Scripts\\activate\npip install -U pip setuptools wheel pytest\ncode .\n\n\nVS Code ‚Üí ‚ÄúPython: Select Interpreter‚Äù ‚Üí pick ./venv"
  },
  {
    "objectID": "lecture04.html#minimal-structure-parallel-to-r-package-anatomy",
    "href": "lecture04.html#minimal-structure-parallel-to-r-package-anatomy",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Minimal structure (parallel to R package anatomy)",
    "text": "Minimal structure (parallel to R package anatomy)\n\npypkg/                    # ‚Üê package root (like R pkg root)\n‚îú‚îÄ setup.py               # ‚Üê like DESCRIPTION (+ build recipe)\n‚îú‚îÄ MANIFEST.in            # ‚Üê include data files (like .Rbuildignore inverse)\n‚îú‚îÄ README.md\n‚îú‚îÄ pypkg/                 # ‚Üê source (like R/ folder)\n‚îÇ  ‚îú‚îÄ __init__.py         # ‚Üê public API (like NAMESPACE role)\n‚îÇ  ‚îú‚îÄ hello.py            # ‚Üê hello()\n‚îÇ  ‚îú‚îÄ regression.py       # ‚Üê reg_coef()\n‚îÇ  ‚îú‚îÄ data.py             # ‚Üê load_snipes()\n‚îÇ  ‚îî‚îÄ data/\n‚îÇ     ‚îî‚îÄ snipes.csv       # ‚Üê packaged dataset\n‚îú‚îÄ examples/\n‚îÇ  ‚îî‚îÄ eg_reg_coef.py      # ‚Üê like inst/examples/...\n‚îú‚îÄ tests/                 # ‚Üê pytest (like tests/testthat)\n‚îÇ  ‚îú‚îÄ test_hello.py\n‚îÇ  ‚îú‚îÄ test_regression.py\n‚îÇ  ‚îî‚îÄ test_data.py\n\nWe need to create these files step-by-step."
  },
  {
    "objectID": "lecture04.html#create-your-project-directory-terminal-basics",
    "href": "lecture04.html#create-your-project-directory-terminal-basics",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Create your project directory (Terminal basics)",
    "text": "Create your project directory (Terminal basics)\nOpen your terminal (VS Code: View ‚Üí Terminal) and create a folder for your Python library.\n\n# See where you are (present working directory)\npwd\n\n# List folders/files\nls\n\n# Go to the parent location where you want the project\ncd path/to/parent\n\n# Create and enter your project folder\nmkdir mypythonlibrary\ncd mypythonlibrary\n\n# (Optional) Open the folder in VS Code\ncode ."
  },
  {
    "objectID": "lecture04.html#hello-r-the-hello-world-slide",
    "href": "lecture04.html#hello-r-the-hello-world-slide",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "hello() (R: the ‚ÄúHello, world!‚Äù slide)",
    "text": "hello() (R: the ‚ÄúHello, world!‚Äù slide)\npypkg/hello.py\n\ndef hello() -&gt; str:\n    \"\"\"Return a friendly greeting.\"\"\"\n    return \"Hello, world!\"\n\npypkg/__init__.py ‚Äî expose the public API (like exporting in NAMESPACE)\n\nfrom .hello import hello\n\n__all__ = [\"hello\"]"
  },
  {
    "objectID": "lecture04.html#build-a-wheel-r-r-cmd-build",
    "href": "lecture04.html#build-a-wheel-r-r-cmd-build",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Build a wheel (R: R CMD build)",
    "text": "Build a wheel (R: R CMD build)\nsetup.py (simple & minimal)\n\nfrom setuptools import setup, find_packages\n\nsetup(\n    name=\"pypkg\",\n    version=\"0.1.0\",\n    description=\"Tiny demo library\",\n    author=\"Your Name\",\n    packages=find_packages(include=[\"pypkg\", \"pypkg.*\"]),\n    install_requires=[\"numpy&gt;=1.26\"],\n    python_requires=\"&gt;=3.9\",\n)\n\nBuild:\n\npython setup.py bdist_wheel\nls dist/\n# pypkg-0.1.0-py3-none-any.whl\n\nInstall & try:\n\npip install dist/pypkg-0.1.0-py3-none-any.whl\npython -c \"import pypkg; print(pypkg.hello())\""
  },
  {
    "objectID": "lecture04.html#dataset-snipes-r-datasnipes.rda-data-raw",
    "href": "lecture04.html#dataset-snipes-r-datasnipes.rda-data-raw",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Dataset: snipes (R: data/snipes.rda + data-raw)",
    "text": "Dataset: snipes (R: data/snipes.rda + data-raw)\nShip the CSV and provide a loader (no pandas required).\npypkg/data.py\n\nfrom importlib import resources\nimport csv, io\nfrom typing import List, Dict\n\ndef load_snipes() -&gt; List[Dict[str, str]]:\n    \"\"\"Load the bundled 'snipes' dataset (list of dict rows).\"\"\"\n    with resources.files(\"pypkg.data\").joinpath(\"snipes.csv\").open(\"rb\") as fh:\n        text = io.TextIOWrapper(fh, encoding=\"utf-8\")\n        return list(csv.DictReader(text))\n\nMANIFEST.in ‚Äî include data in the wheel\ninclude pypkg/data/snipes.csv\n\nR parallel: use_data() writes data/*.rda; here we ship a CSV + loader."
  },
  {
    "objectID": "lecture04.html#preserve-the-origin-story-r-data-raw",
    "href": "lecture04.html#preserve-the-origin-story-r-data-raw",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Preserve the origin story (R: data-raw/)",
    "text": "Preserve the origin story (R: data-raw/)\nKeep raw files & scripts outside the wheel (tracked in Git):\ndata_raw/\n  snipes_raw.csv\n  make_snipes.py   # cleans raw ‚Üí writes pypkg/data/snipes.csv\n\nR parallel: usethis::use_data_raw() + .Rbuildignore; Py: keep data_raw/ out of MANIFEST.in."
  },
  {
    "objectID": "lecture04.html#documenting-dataset-r-format-source",
    "href": "lecture04.html#documenting-dataset-r-format-source",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Documenting dataset (R: @format, @source)",
    "text": "Documenting dataset (R: @format, @source)\nUse the loader‚Äôs docstring:\n\ndef load_snipes() -&gt; List[Dict[str, str]]:\n    \"\"\"\n    Load the bundled 'snipes' dataset.\n\n    Fields\n    ------\n    discount : str\n    brand    : str\n    price    : str\n\n    Source\n    ------\n    https://www.snipes.ch/\n    \"\"\"\n    ...\n\nMkDocs (later) will render this automatically."
  },
  {
    "objectID": "lecture04.html#regression-coefficients-r-r-with-statslm",
    "href": "lecture04.html#regression-coefficients-r-r-with-statslm",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Regression coefficients (R: %r% with stats::lm)",
    "text": "Regression coefficients (R: %r% with stats::lm)\nImplement a tiny OLS with NumPy (no heavy deps).\npypkg/regression.py\n\nfrom typing import Iterable, Tuple\nimport numpy as np\n\ndef reg_coef(y: Iterable[float], x: Iterable[float]) -&gt; Tuple[float, float]:\n    \"\"\"\n    Compute OLS coefficients for y ~ 1 + x.\n\n    Returns\n    -------\n    (intercept, slope)\n    \"\"\"\n    y = np.asarray(y, dtype=float).reshape(-1, 1)\n    x = np.asarray(x, dtype=float).reshape(-1, 1)\n    if y.shape[0] != x.shape[0]:\n        raise ValueError(\"x and y must have the same length\")\n    X = np.c_[np.ones_like(x), x]\n    beta, *_ = np.linalg.lstsq(X, y, rcond=None)\n    b0, b1 = beta.ravel().tolist()\n    return b0, b1\n\n\nR parallel: returns coef(lm(y ~ x))."
  },
  {
    "objectID": "lecture04.html#example-script-r-instexampleseg_reg_coef.r",
    "href": "lecture04.html#example-script-r-instexampleseg_reg_coef.r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Example script (R: inst/examples/eg_reg_coef.R)",
    "text": "Example script (R: inst/examples/eg_reg_coef.R)\nexamples/eg_reg_coef.py\n\nfrom pypkg import reg_coef\n\ny = [2, 4, 6, 8]\nx = [1, 2, 3, 4]\nprint(reg_coef(y, x))   # ‚Üí (intercept, slope)\n\nRun:\n\npython examples/eg_reg_coef.py"
  },
  {
    "objectID": "lecture04.html#update-public-api-r-namespace",
    "href": "lecture04.html#update-public-api-r-namespace",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Update public API (R: NAMESPACE)",
    "text": "Update public API (R: NAMESPACE)\npypkg/__init__.py ‚Äî expose the public API (like exporting in NAMESPACE)\n\nfrom .hello import hello\nfrom .regression import reg_coef\nfrom .data import load_snipes\n\n__all__ = [\"hello\", \"reg_coef\", \"load_snipes\"]"
  },
  {
    "objectID": "lecture04.html#re-build-a-wheel-r-r-cmd-build",
    "href": "lecture04.html#re-build-a-wheel-r-r-cmd-build",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Re-Build a wheel (R: R CMD build)",
    "text": "Re-Build a wheel (R: R CMD build)\nsetup.py (simple & minimal)\n\nfrom setuptools import setup, find_packages\n\nsetup(\n    name=\"pypkg\",\n    version=\"0.1.0\",\n    description=\"Tiny demo library\",\n    author=\"Your Name\",\n    packages=find_packages(include=[\"pypkg\", \"pypkg.*\"]),\n    install_requires=[\"numpy&gt;=1.26\"],\n    include_package_data=True,   # needed with MANIFEST.in\n    python_requires=\"&gt;=3.9\",\n)\n\nBuild:\n\npython setup.py bdist_wheel\nls dist/\n# pypkg-0.1.0-py3-none-any.whl\n\nInstall & try:\n\npip install dist/pypkg-0.1.0-py3-none-any.whl\npython -c \"import pypkg; print(pypkg.hello()); print(pypkg.reg_coef([2,4,6,8],[1,2,3,4]))\""
  },
  {
    "objectID": "lecture04.html#tests-r-testthat",
    "href": "lecture04.html#tests-r-testthat",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Tests (R: testthat)",
    "text": "Tests (R: testthat)\nInstall pytest (already done) and add three tests.\ntests/test_hello.py\n\nfrom pypkg import hello\ndef test_hello():\n    assert hello() == \"Hello, world!\"\n\ntests/test_regression.py\n\nimport pytest\nfrom pypkg import reg_coef\n\ndef test_reg_coef_values():\n    y, x = [2, 4, 6, 8], [1, 2, 3, 4]\n    b0, b1 = reg_coef(y, x)\n    assert round(b0, 6) == 0.0\n    assert round(b1, 6) == 2.0\n\ndef test_reg_coef_input_shape():\n    with pytest.raises(ValueError):\n        reg_coef([1, 2, 3], [1, 2])\n\nRun:\n\npytest -q"
  },
  {
    "objectID": "lecture04.html#explicit-imports-r-importfrom-rule",
    "href": "lecture04.html#explicit-imports-r-importfrom-rule",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "‚ÄúExplicit imports‚Äù (R: @importFrom rule)",
    "text": "‚ÄúExplicit imports‚Äù (R: @importFrom rule)\n\nIn R, bare names require @importFrom pkg fun.\nIn Python, prefer explicit imports at the top:\n\n\n# Good: explicit & narrow\nfrom numpy.linalg import lstsq\nimport numpy as np\n\n# Avoid: wildcard imports (hard to track & test)\nfrom numpy.linalg import *\n\n\nClear imports ‚Üí fewer undefined symbols, better tests & CI."
  },
  {
    "objectID": "lecture04.html#ci-github-actions-lite-budget-friendly",
    "href": "lecture04.html#ci-github-actions-lite-budget-friendly",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "CI (GitHub Actions) ‚Äî lite & budget-friendly",
    "text": "CI (GitHub Actions) ‚Äî lite & budget-friendly\n.github/workflows/python-ci.yml\nname: Python CI (lite)\non:\n  pull_request:\n    paths:\n      - \"pypkg/**\"\n      - \"tests/**\"\n      - \"setup.py\"\n      - \"MANIFEST.in\"\n      - \".github/workflows/**\"\n  workflow_dispatch:\n\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.ref }}\n  cancel-in-progress: true\n\njobs:\n  test:\n    if: \"!contains(github.event.head_commit.message, '[skip ci]')\"\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n        with: { python-version: \"3.11\", cache: \"pip\" }\n      - run: python -m pip install -U pip\n      - run: pip install -e . pytest\n      - run: pytest -q"
  },
  {
    "objectID": "lecture04.html#docs-r-pkgdown-optional-but-nice",
    "href": "lecture04.html#docs-r-pkgdown-optional-but-nice",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Docs (R: pkgdown) ‚Äî optional but nice",
    "text": "Docs (R: pkgdown) ‚Äî optional but nice\n1) Install: Add MkDocs later to auto-render docstrings:\n\npip install mkdocs mkdocstrings[python] mkdocs-material\nmkdocs new .\n\n2) Configure\n# mkdocs.yml\nsite_name: pypkg\ntheme: material\nplugins:\n  - mkdocstrings:\n      handlers:\n        python:\n          options: { docstring_style: numpy, show_source: false }\nnav:\n  - Home: index.md\n  - API: api.md"
  },
  {
    "objectID": "lecture04.html#docs",
    "href": "lecture04.html#docs",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Docs",
    "text": "Docs\n3) Write docs\nCreate docs/index.md (overview/quickstart) and docs/api.md for the API.\ndocs/index.md (example)\n# pypkg\n\nA tiny library with `hello()`, `reg_coef()`, and the `snipes` dataset loader.\n\n## Quickstart\n```bash\npip install -e .\npython -c \"import pypkg; print(pypkg.hello())\"\n```\ndocs/api.md (auto API from docstrings)\n# API Reference\n\n::: pypkg\n4) Preview & build\n\nmkdocs serve     # local preview\nmkdocs build     # outputs site/\nmkdocs gh-deploy # (optional) deploy to GitHub Pages"
  },
  {
    "objectID": "lecture04.html#release-semver-same-rule-as-r-slides",
    "href": "lecture04.html#release-semver-same-rule-as-r-slides",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Release & SemVer (same rule as R slides)",
    "text": "Release & SemVer (same rule as R slides)\n\n0.1.0 ‚Üí new features: MINOR; bugfix: PATCH; breaking: MAJOR.\nTag: git tag v0.1.0 && git push --tags\nBuild wheel, test in a fresh venv, then (optionally) TestPyPI ‚Üí PyPI with twine."
  },
  {
    "objectID": "lecture04.html#install-from-github",
    "href": "lecture04.html#install-from-github",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Install from GitHub",
    "text": "Install from GitHub\nFor users (install from GitHub):\n\n# Option 1: Using pip and remotes (recommended)\npip install git+https://github.com/your-org/yourpkg@v0.1.0\n\n# Option 2: Using `pip install -e .` for editable installs (locally cloned repo)\ngit clone https://github.com/your-org/yourpkg\ncd yourpkg\npip install -e ."
  },
  {
    "objectID": "lecture04.html#quick-recap-r-py",
    "href": "lecture04.html#quick-recap-r-py",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Quick recap (R ‚ÜîÔ∏é Py)",
    "text": "Quick recap (R ‚ÜîÔ∏é Py)\n\nhello() ‚Üí printed message ‚ü∑ returns/prints in Python.\nsnipes dataset ‚Üí load_snipes() with packaged CSV.\nregression coefficients ‚Üí reg_coef() via NumPy OLS.\nexamples ‚Üí examples/eg_reg_coef.py (like inst/examples).\ntests ‚Üí pytest (like testthat).\nCI ‚Üí Actions (lite).\ndocs/release ‚Üí optional MkDocs, SemVer tags + wheel upload."
  },
  {
    "objectID": "lecture04.html#when-should-you-create-a-library",
    "href": "lecture04.html#when-should-you-create-a-library",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "When should you create a library?",
    "text": "When should you create a library?\n\nRule of Three: you‚Äôve copied the same functions across ‚â• 3 projects.\nAudience &gt; you: teammates/students need to reuse your code.\nStable core idea: function names/arguments won‚Äôt change every week.\nTesting matters: you‚Äôre willing to add automated tests (testthat/pytest).\nVersioning matters: you want SemVer to communicate changes.\nDocs exist: you can write a README and minimal usage examples (vignette/doc page).\nMultiple environments: others will run it on different machines/OS."
  },
  {
    "objectID": "lecture04.html#when-not-yet",
    "href": "lecture04.html#when-not-yet",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "When not (yet)",
    "text": "When not (yet)\n\nOne-off notebook/report: no planned reuse.\nSpike/prototype: API and data shapes still change daily.\nEntangled secrets/paths: credentials or local file paths mixed with logic.\nHuge assets: gigabytes of data/binaries‚Äîship loaders, not raw assets.\nNo maintainer bandwidth: can‚Äôt commit to fixes/docs/release bumps.\n\n\nHeuristic: if you‚Äôd hesitate to fix a bug reported by someone else, don‚Äôt package yet."
  },
  {
    "objectID": "lecture04.html#why-oop",
    "href": "lecture04.html#why-oop",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Why OOP?",
    "text": "Why OOP?\n\n\n\nTame complexity. Large codebases drift into ‚Äúspaghetti code‚Äù when everything touches everything. OOP groups data + behavior into cohesive modules (classes) with clear interfaces.\nReuse & extension. Add new features by creating new classes or methods‚Äîwithout rewriting callers (polymorphism).\nSafer changes. Internals can evolve behind the interface (encapsulation), reducing ripple effects and regressions.\n\n\n\n\n\n\n\nNote\n\n\nContext: The ‚Äúspaghetti code‚Äù idea is often cited in post-mortems of complex systems (e.g., discussions around large automotive software stacks). Clear module boundaries and interfaces are a first line of defense, (see Toyota 2013 case study)"
  },
  {
    "objectID": "lecture04.html#part-i-r-functions-s3-oop",
    "href": "lecture04.html#part-i-r-functions-s3-oop",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Part I ‚Äî R Functions & S3 OOP",
    "text": "Part I ‚Äî R Functions & S3 OOP"
  },
  {
    "objectID": "lecture04.html#function",
    "href": "lecture04.html#function",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Function",
    "text": "Function"
  },
  {
    "objectID": "lecture04.html#everything-is-a-function-call",
    "href": "lecture04.html#everything-is-a-function-call",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "‚ÄúEverything is a function call‚Äù",
    "text": "‚ÄúEverything is a function call‚Äù\n\nA function has three components: arguments, a body, and an environment.\nSignalling conditions: errors (severe), warnings (mild), messages (informative).\nLexical scoping: dynamic lookup & name masking.\nEnvironments: current, global, empty, execution, package.\nComposition via nesting or piping (|&gt;).\n\n\n# A function is an object\nf &lt;- function(x) x + 1\ntypeof(f); formals(f); environment(f)"
  },
  {
    "objectID": "lecture04.html#signalling-conditions",
    "href": "lecture04.html#signalling-conditions",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Signalling conditions",
    "text": "Signalling conditions\n\n\n\nmessage(\"This is a friendly message\")\nwarning(\"This is a mild warning\")\ntry(stop(\"This is an error\"))\n\nError in try(stop(\"This is an error\")) : This is an error"
  },
  {
    "objectID": "lecture04.html#lexical-scoping",
    "href": "lecture04.html#lexical-scoping",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Lexical scoping",
    "text": "Lexical scoping\n\n\n\nx &lt;- 10\nouter &lt;- function() {\n  x &lt;- 5\n  inner &lt;- function() x\n  inner()\n}\nouter()  # 5: name masking\nx        # 10: global unchanged"
  },
  {
    "objectID": "lecture04.html#s3-oop-system",
    "href": "lecture04.html#s3-oop-system",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "S3 OOP system",
    "text": "S3 OOP system\n\nObject-oriented programming (OOP) is a popular programming paradigm.\nThe type of an object is a class and a function implemented for a specific class is a method.\nPolymorphism: function interface is separated from its implementation; behavior depends on class.\nEncapsulation: object interface is separated from its internal structure; users don‚Äôt need to worry about details. Encapsulation helps avoid spaghetti code.\nR has several OOP systems: S3, S4, R6, ‚Ä¶\nS3 is the first R OOP system; it is informal (easy to modify) and widespread."
  },
  {
    "objectID": "lecture04.html#minimal-s3-example",
    "href": "lecture04.html#minimal-s3-example",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Minimal S3 example",
    "text": "Minimal S3 example\n\n# Minimal S3 example: generic + methods\narea &lt;- function(x, ...) UseMethod(\"area\")        # generic\n\n# constructor for a 'circle'\nnew_circle &lt;- function(radius) structure(list(radius = radius), class = \"circle\")\narea.circle &lt;- function(x, ...) pi * x$radius^2\n\n# constructor for a 'rectangle'\nnew_rectangle &lt;- function(w, h) structure(list(w = w, h = h), class = \"rectangle\")\narea.rectangle &lt;- function(x, ...) x$w * x$h\n\nc1 &lt;- new_circle(2)\nr1 &lt;- new_rectangle(3, 4)\narea(c1); area(r1)"
  },
  {
    "objectID": "lecture04.html#why-oop-1",
    "href": "lecture04.html#why-oop-1",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Why OOP?",
    "text": "Why OOP?\n\n\n\nUniform interfaces: one verb (e.g., summary(), plot()) works across many data types.\nSeparation of concerns: analyses call verbs; classes handle how.\nExtensibility: you can add behavior for new data types without touching old code.\nSafer refactoring: callers don‚Äôt change; class-specific methods evolve independently.\nDiscoverability: ‚ÄúWhat happens if I call summary() on this object?‚Äù ‚Üí predictable, documented.\n\n\nIn R, this is powered by S3: a lightweight dispatch system that maps a generic (like summary) to a method (like summary.lm) based on the object‚Äôs class."
  },
  {
    "objectID": "lecture04.html#s3-oop-motivation",
    "href": "lecture04.html#s3-oop-motivation",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "S3 OOP ‚Äî Motivation",
    "text": "S3 OOP ‚Äî Motivation\n\nPolymorphism: same function name, different behavior by object class.\nLightweight encapsulation: use interfaces, not internals.\nInformal & flexible (no strict class declarations)."
  },
  {
    "objectID": "lecture04.html#polymorphism-example",
    "href": "lecture04.html#polymorphism-example",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Polymorphism example",
    "text": "Polymorphism example\n\nsummary(cars$speed)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    4.0    12.0    15.0    15.4    19.0    25.0 \n\nsummary(lm(cars$speed ~ cars$dist))\n\n\nCall:\nlm(formula = cars$speed ~ cars$dist)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-7.5293 -2.1550  0.3615  2.4377  6.4179 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  8.28391    0.87438   9.474 1.44e-12 ***\ncars$dist    0.16557    0.01749   9.464 1.49e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.156 on 48 degrees of freedom\nMultiple R-squared:  0.6511,    Adjusted R-squared:  0.6438 \nF-statistic: 89.57 on 1 and 48 DF,  p-value: 1.49e-12"
  },
  {
    "objectID": "lecture04.html#what-is-happening-dispatch",
    "href": "lecture04.html#what-is-happening-dispatch",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "What is happening? (dispatch)",
    "text": "What is happening? (dispatch)\n\nsloop::s3_dispatch(summary(cars$speed))\n\n   summary.double\n   summary.numeric\n=&gt; summary.default\n\nsloop::s3_dispatch(summary(lm(cars$speed ~ cars$dist)))\n\n=&gt; summary.lm\n * summary.default\n\nclass(cars$speed)\n\n[1] \"numeric\"\n\nclass(lm(cars$speed ~ cars$dist))\n\n[1] \"lm\"\n\n\n\n* method exists; =&gt; method selected."
  },
  {
    "objectID": "lecture04.html#peeking-at-generics-r",
    "href": "lecture04.html#peeking-at-generics-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Peeking at generics (R)",
    "text": "Peeking at generics (R)\n\nsummary\n\nfunction (object, ...) \nUseMethod(\"summary\")\n&lt;bytecode: 0x561cc01d1798&gt;\n&lt;environment: namespace:base&gt;\n\nhead(summary.default)\n\n                                                    \n1 function (object, ..., digits, quantile.type = 7) \n2 {                                                 \n3     if (is.factor(object))                        \n4         return(summary.factor(object, ...))       \n5     else if (is.matrix(object)) {                 \n6         if (missing(digits))                      \n\nhead(summary.lm)\n\n                                                               \n1 function (object, correlation = FALSE, symbolic.cor = FALSE, \n2     ...)                                                     \n3 {                                                            \n4     z &lt;- object                                              \n5     p &lt;- z$rank                                              \n6     rdf &lt;- z$df.residual"
  },
  {
    "objectID": "lecture04.html#forwarding-extra-arguments",
    "href": "lecture04.html#forwarding-extra-arguments",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "... ‚Äî forwarding extra arguments",
    "text": "... ‚Äî forwarding extra arguments\n\nf &lt;- function(...){ list(...) }\nf(a = 1, b = 2)\n\n$a\n[1] 1\n\n$b\n[1] 2\n\n\n\nUseful for generics and passing options forward."
  },
  {
    "objectID": "lecture04.html#write-a-generic-methods-r-s3",
    "href": "lecture04.html#write-a-generic-methods-r-s3",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Write a generic + methods (R, S3)",
    "text": "Write a generic + methods (R, S3)\n\nmy_new_generic &lt;- function(x, ...) {\n  UseMethod(\"my_new_generic\")\n}\n\nmy_new_generic.default &lt;- function(x, ...){\n  \"this is default method\"\n}\n\nmy_new_generic.lm &lt;- function(x, ...){\n  \"this is method for class `lm`\"\n}\n\nmy_new_generic(cars$speed)\nmy_new_generic(lm(cars$speed ~ cars$dist))"
  },
  {
    "objectID": "lecture04.html#check-the-dispatch-implicit-class",
    "href": "lecture04.html#check-the-dispatch-implicit-class",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Check the dispatch & implicit class",
    "text": "Check the dispatch & implicit class\n\nsloop::s3_dispatch(my_new_generic(cars$speed))\nsloop::s3_dispatch(my_new_generic(lm(cars$speed ~ cars$dist)))\nsloop::s3_class(cars$speed)  # implicit \"double\"\ntypeof(cars$speed)"
  },
  {
    "objectID": "lecture04.html#inheritance-multiple-classes",
    "href": "lecture04.html#inheritance-multiple-classes",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Inheritance (multiple classes)",
    "text": "Inheritance (multiple classes)\n\nclass(glm(cars$speed ~ cars$speed))\nsloop::s3_dispatch(summary(glm(cars$speed ~ cars$dist)))\nsloop::s3_dispatch(plot(glm(cars$speed ~ cars$dist)))\n\n\nIf a method isn‚Äôt found for the 1st class, R tries the next, and so on."
  },
  {
    "objectID": "lecture04.html#create-your-own-s3-class-quick-way",
    "href": "lecture04.html#create-your-own-s3-class-quick-way",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Create your own S3 class (quick way)",
    "text": "Create your own S3 class (quick way)\n\nset.seed(123)\nimage &lt;- matrix(rgamma(100, shape = 2), 10, 10)\nclass(image) &lt;- \"pixel\"\nattributes(image)"
  },
  {
    "objectID": "lecture04.html#create-your-own-s3-class-neater",
    "href": "lecture04.html#create-your-own-s3-class-neater",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Create your own S3 class (neater)",
    "text": "Create your own S3 class (neater)\n\nset.seed(123)\nimage &lt;- structure(\n  matrix(rgamma(100, shape = 2), 10, 10),\n  class = \"pixel\"\n)\n\n\nplot(image)  # No plot() method yet for class 'pixel'"
  },
  {
    "objectID": "lecture04.html#create-your-own-s3-class-with-a-constructor",
    "href": "lecture04.html#create-your-own-s3-class-with-a-constructor",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Create your own S3 class with a constructor",
    "text": "Create your own S3 class with a constructor\n\n# define a constructor for the 'pixel' class\nnew_pixel &lt;- function(mat) structure(mat, class = \"pixel\")\nset.seed(123)\nmat &lt;- matrix(rgamma(100, shape = 2), 10, 10)\nimage &lt;- new_pixel(mat)\n\n\n\n\n\n\n\nCaution\n\n\nHow can we make this constructor more robust?"
  },
  {
    "objectID": "lecture04.html#validators",
    "href": "lecture04.html#validators",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Validators",
    "text": "Validators\n\nMore complicated class require more complicated checks for validity.\nRather than making constructor complicated, we can define a validator function for the checks.\n\n\n# validator: enforce invariants\nvalidate_pixel &lt;- function(x) {\n  mat &lt;- unclass(x)\n  if(!is.matrix(mat) ||  !is.numeric(mat)) {\n    stop(\"A 'pixel' object must be a numeric matrix\", call. = FALSE)\n  }\n  x\n}"
  },
  {
    "objectID": "lecture04.html#extending-an-existing-generic-with-care",
    "href": "lecture04.html#extending-an-existing-generic-with-care",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Extending an existing generic (with care)",
    "text": "Extending an existing generic (with care)\n\nplot.pixel &lt;- function(x, ...) {\n  heatmap(x, ...)\n}\nsloop::s3_dispatch(plot(image))\n\n=&gt; plot.pixel\n * plot.default"
  },
  {
    "objectID": "lecture04.html#new-plot-for-class-pixel",
    "href": "lecture04.html#new-plot-for-class-pixel",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "New plot for class pixel",
    "text": "New plot for class pixel\n\nplot(image)"
  },
  {
    "objectID": "lecture04.html#forwarding-extra-options-with-...",
    "href": "lecture04.html#forwarding-extra-options-with-...",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Forwarding extra options with ...",
    "text": "Forwarding extra options with ...\n\nplot(image, col = cm.colors(256), xlab = \"x axis\", ylab = \"y axis\")"
  },
  {
    "objectID": "lecture04.html#to-go-further-r",
    "href": "lecture04.html#to-go-further-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "To go further (R)",
    "text": "To go further (R)\n\nAn Introduction to Statistical Programming Methods with R ‚Äî Functions.\nAdvanced R (Hadley Wickham), Ch. 6‚Äì8 (functions), 12‚Äì16 (OOP: S3, S4, R6)."
  },
  {
    "objectID": "lecture04.html#part-ii-python-oop",
    "href": "lecture04.html#part-ii-python-oop",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Part II ‚Äî Python OOP",
    "text": "Part II ‚Äî Python OOP"
  },
  {
    "objectID": "lecture04.html#why-oop-in-python",
    "href": "lecture04.html#why-oop-in-python",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Why OOP in Python?",
    "text": "Why OOP in Python?\n\n\n\nClass-based OOP: define classes (blueprints) and create instances (houses).\nEncapsulation: group data (attributes) with behavior (methods).\nInheritance: share and extend behavior (code reuse).\nPolymorphism: same method name, different behaviors across types.\nGeneric functions with @singledispatch provide an R-S3-like feel when helpful."
  },
  {
    "objectID": "lecture04.html#classes-instances",
    "href": "lecture04.html#classes-instances",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Classes & instances",
    "text": "Classes & instances\n\nclass Dog:\n    def __init__(self, name):\n        self.name = name      # attribute\n    def speak(self):          # method\n        return f\"{self.name} says woof!\"\n\nd = Dog(\"Milo\")\nd.speak()\ntype(d), isinstance(d, Dog)\n\n\nclass defines a new type.\n__init__ is the constructor (like R‚Äôs new_*()).\nself is the instance being operated on. It‚Äôs just a naming convention (not a keyword), but always the first parameter of instance methods."
  },
  {
    "objectID": "lecture04.html#encapsulation-group-data-behavior",
    "href": "lecture04.html#encapsulation-group-data-behavior",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Encapsulation (group data + behavior)",
    "text": "Encapsulation (group data + behavior)\n\n\nclass Counter:\n    def __init__(self, start=0):\n        self._value = start   # underscore = ‚Äúinternal by convention‚Äù\n    def inc(self, step=1):\n        self._value += step\n    def value(self):\n        return self._value\n\nc = Counter(); c.inc(); c.value()"
  },
  {
    "objectID": "lecture04.html#inheritance-overriding",
    "href": "lecture04.html#inheritance-overriding",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Inheritance & overriding",
    "text": "Inheritance & overriding\n\nclass Animal:\n    def speak(self): return \"...\"\n\nclass Dog(Animal):\n    def speak(self): return \"woof\"\n\nclass Cat(Animal):\n    def speak(self): return \"meow\"\n\npets = [Dog(), Cat(), Animal()]\n[s.speak() for s in pets]     # polymorphism\nDog.__mro__                   # method resolution order"
  },
  {
    "objectID": "lecture04.html#polymorphism-same-message-different-response",
    "href": "lecture04.html#polymorphism-same-message-different-response",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Polymorphism (same message, different response)",
    "text": "Polymorphism (same message, different response)\n\n\ndef make_it_speak(animal):\n    print(animal.speak())\n\nfor a in [Dog(), Cat()]:\n    make_it_speak(a)"
  },
  {
    "objectID": "lecture04.html#generic-functions-with-singledispatch",
    "href": "lecture04.html#generic-functions-with-singledispatch",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Generic functions with @singledispatch",
    "text": "Generic functions with @singledispatch\n\nfrom functools import singledispatch\nimport statistics as stats\n\n@singledispatch\ndef describe(x):\n    return f\"Generic object of type {type(x).__name__}\"\n\n@describe.register(list)\ndef _(x: list):\n    return {\"len\": len(x), \"mean\": stats.mean(x)}\n\nclass LinReg:\n    def __init__(self, coef, intercept): self.coef, self.intercept = coef, intercept\n\n@describe.register(LinReg)\ndef _(m: LinReg):\n    return {\"coef\": m.coef, \"intercept\": m.intercept}\n\ndescribe([1,2,3]), describe(LinReg([0.5], 2.0))\n\n\n\n\n\n\n\nNote\n\n\nRule of thumb in Python:\n\nUse class methods when you control the class design.\nUse @singledispatch when you want an external, pluggable generic (like S3) that different modules can extend without modifying the original class."
  },
  {
    "objectID": "lecture04.html#composition-duck-typing",
    "href": "lecture04.html#composition-duck-typing",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Composition & duck typing",
    "text": "Composition & duck typing\n\nInterfaces by behavior: ‚Äúif it quacks like a duck‚Ä¶‚Äù\nPrefer composition when inheritance isn‚Äôt needed.\n\n\nclass JsonWriter:\n    def write(self, obj): \n        import json; return json.dumps(obj)\n\nclass XmlWriter:\n    def write(self, obj):\n        return \"&lt;root&gt;...&lt;/root&gt;\"\n\ndef save(writer, obj):     # any object with .write() works\n    return writer.write(obj)\n\nsave(JsonWriter(), {\"a\":1})\nsave(XmlWriter(), {\"a\":1})\n\n\nsave doesn‚Äôt care what the writer is‚Äîonly that it has .write().\n\nYou can plug in a new writer (CSV, YAML, DB, HTTP‚Ä¶) without touching save.\n\n\nPass in behavior (composition), don‚Äôt inherit it, when all you need is a capability."
  },
  {
    "objectID": "lecture04.html#a-tiny-generic-plot-analogy-to-rs-plot",
    "href": "lecture04.html#a-tiny-generic-plot-analogy-to-rs-plot",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "A tiny ‚Äúgeneric plot‚Äù (analogy to R‚Äôs plot())",
    "text": "A tiny ‚Äúgeneric plot‚Äù (analogy to R‚Äôs plot())\n\nimport numpy as np, matplotlib.pyplot as plt\nfrom functools import singledispatch\n\nclass Pixel:\n    def __init__(self, data): self.data = np.array(data)\n\n@singledispatch\ndef plot(obj): \n    raise TypeError(f\"Don't know how to plot {type(obj).__name__}\")\n\n@plot.register\ndef _(obj: Pixel):\n    plt.imshow(obj.data); plt.title(\"Pixel\"); plt.show()\n\nrng = np.random.default_rng(123)\nimage = rng.gamma(shape=2.0, scale=1.0, size=(10,10))\npx = Pixel(image)\nplot(px)"
  },
  {
    "objectID": "lecture04.html#to-go-further-python",
    "href": "lecture04.html#to-go-further-python",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "To go further (Python)",
    "text": "To go further (Python)\n\nPython tutorial on classes (docs.python.org)\nfunctools.singledispatch for generic functions\ninspect for introspection, abc for abstract base classes"
  },
  {
    "objectID": "lecture04.html#bridges-r-s3-python-oop",
    "href": "lecture04.html#bridges-r-s3-python-oop",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Bridges ‚Äî R S3 ‚ÜîÔ∏é Python OOP",
    "text": "Bridges ‚Äî R S3 ‚ÜîÔ∏é Python OOP\n\n\nGeneric function\n\nR: summary(x) ‚Üí summary.&lt;class&gt; via S3 dispatch.\nPython: @singledispatch picks implementation by type.\n\nClass identity\n\nR S3: class(x) is an attribute; can be a vector (ordered inheritance).\nPython: type(x) is the class; inheritance via MRO chain.\n\nExtensibility\n\nR: add generic.class &lt;- function(x, ...) {} for known generics (mind ...).\nPython: @generic.register(Type) or subclass and override methods.\n\nScoping / environments vs namespaces\n\nR: function environments, lexical scoping.\nPython: LEGB (Local‚ÄìEnclosing‚ÄìGlobal‚ÄìBuiltins).\n\nVarargs\n\nR: ... ‚ÜîÔ∏é Python: *args, **kwargs."
  },
  {
    "objectID": "lecture04.html#recap",
    "href": "lecture04.html#recap",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Recap",
    "text": "Recap\n\nOOP gives you uniform verbs, decoupled implementations, and extensibility.\nIn R, S3 makes this lightweight and idiomatic (summary, plot, coef, ‚Ä¶).\nIn Python, classes + @singledispatch cover both class methods and generic functions."
  },
  {
    "objectID": "lecture04.html#case-study-r-s3-a-tiny-smoother-model",
    "href": "lecture04.html#case-study-r-s3-a-tiny-smoother-model",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Case study (R, S3): a tiny smoother model",
    "text": "Case study (R, S3): a tiny smoother model\nGoal: Create a simple ‚Äúmodel‚Äù object that computes a moving-average fit and immediately works with summary() and plot() via S3.\n\n# Tiny moving average helper (base R)\nmovavg &lt;- function(z, k = 5) {\n  stopifnot(k %% 2 == 1, k &gt;= 3)\n  n &lt;- length(z); out &lt;- rep(NA_real_, n); h &lt;- k %/% 2\n  for (i in (1 + h):(n - h)) out[i] &lt;- mean(z[(i - h):(i + h)])\n  out\n}\n\n# Constructor returning an S3 object of class \"my_smooth\"\nmy_smooth &lt;- function(x, y, k = 5) {\n  stopifnot(length(x) == length(y))\n  o &lt;- order(x); x &lt;- x[o]; y &lt;- y[o]\n  structure(\n    list(x = x, y = y, k = k, fitted = movavg(y, k), call = match.call()),\n    class = \"my_smooth\"\n  )\n}"
  },
  {
    "objectID": "lecture04.html#case-study-r-s3-methods-usage",
    "href": "lecture04.html#case-study-r-s3-methods-usage",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Case study (R, S3): methods + usage",
    "text": "Case study (R, S3): methods + usage\n\n# Summary method\nsummary.my_smooth &lt;- function(object, ...) {\n  res &lt;- object$y - object$fitted\n  c(n = length(object$y),\n    k = object$k,\n    mse = mean(res^2, na.rm = TRUE))\n}\n\n# Plot method\nplot.my_smooth &lt;- function(x, ..., col_points = \"grey40\", pch = 19) {\n  plot(x$x, x$y, col = col_points, pch = pch,\n       xlab = \"x\", ylab = \"y\", main = \"my_smooth fit\", ...)\n  lines(x$x, x$fitted, lwd = 2)\n  legend(\"topleft\", bty = \"n\", legend = paste0(\"k = \", x$k))\n}\n\n# Fit on 'cars' and use generic verbs\nm &lt;- my_smooth(cars$dist, cars$speed, k = 5)\nsummary(m)\n\n\nplot(m)"
  },
  {
    "objectID": "lecture04.html#case-study-r-s3-what-dispatch-did",
    "href": "lecture04.html#case-study-r-s3-what-dispatch-did",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Case study (R, S3): what dispatch did",
    "text": "Case study (R, S3): what dispatch did\n\nsloop::s3_dispatch(summary(m))\nsloop::s3_dispatch(plot(m))\n\nTakeaways\n\nWe created a new class (\"my_smooth\") with a tiny constructor.\nBy adding summary.my_smooth and plot.my_smooth, existing verbs just work.\nAnalyses call generic verbs; class authors decide the behavior."
  },
  {
    "objectID": "lecture04.html#case-study-python-the-same-idea-with-classes-singledispatch",
    "href": "lecture04.html#case-study-python-the-same-idea-with-classes-singledispatch",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Case study (Python): the same idea with classes + @singledispatch",
    "text": "Case study (Python): the same idea with classes + @singledispatch\nGoal: Mirror the R idea: a small smoother class, plus generic summarize() and plot() that dispatch on type.\n\nimport numpy as np\n\nclass Smooth:\n    def __init__(self, x, y, k=5):\n        assert k % 2 == 1 and k &gt;= 3\n        idx = np.argsort(x)\n        self.x = np.array(x)[idx]\n        self.y = np.array(y)[idx]\n        self.k = k\n        self.fitted = self._movavg(self.y, k)\n\n    def _movavg(self, z, k):\n        n = len(z); out = np.full(n, np.nan); h = k // 2\n        for i in range(h, n - h):\n            out[i] = np.mean(z[i - h:i + h + 1])\n        return out"
  },
  {
    "objectID": "lecture04.html#case-study-python-generic-functions-usage",
    "href": "lecture04.html#case-study-python-generic-functions-usage",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Case study (Python): generic functions + usage",
    "text": "Case study (Python): generic functions + usage\n\nfrom functools import singledispatch\nimport numpy as np, matplotlib.pyplot as plt\n\n@singledispatch\ndef summarize(obj):\n    raise TypeError(f\"No summarize() for {type(obj).__name__}\")\n\n@summarize.register\ndef _(obj: Smooth):\n    res = obj.y - obj.fitted\n    return {\"n\": len(obj.y), \"k\": obj.k, \"mse\": float(np.nanmean(res**2))}\n\n@singledispatch\ndef plot(obj):\n    raise TypeError(f\"No plot() for {type(obj).__name__}\")\n\n@plot.register\ndef _(obj: Smooth):\n    plt.scatter(obj.x, obj.y, s=15)\n    plt.plot(obj.x, obj.fitted, linewidth=2)\n    plt.title(f\"Smooth (k={obj.k})\")\n    plt.xlabel(\"x\"); plt.ylabel(\"y\"); plt.show()\n\n# Example with 'cars'-like data (replace with real arrays in class)\ndist = [d for d in range(2, 122, 2)]\nrng = np.random.default_rng(123)\nspeed = (0.3*np.array(dist) + rng.normal(0, 3, len(dist))).tolist()\n\nm = Smooth(dist, speed, k=5)\nsummarize(m), plot(m)"
  },
  {
    "objectID": "lecture04.html#case-study",
    "href": "lecture04.html#case-study",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Case study",
    "text": "Case study\n\n\n\nSame verb, different types\n\nR: summary(m) ‚Üí finds summary.my_smooth.\nPython: summarize(m) ‚Üí @singledispatch picks the Smooth implementation.\n\nExtensibility\n\nAdd another class (e.g., my_tree) and define just two methods:\n\nR: summary.my_tree(), plot.my_tree()\nPython: @summarize.register(MyTree), @plot.register(MyTree)\n\n\nSeparation of concerns\n\nAnalysts keep calling the same verbs; class authors evolve internals safely."
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-r",
    "href": "lecture04.html#oop-exercise-in-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "OOP Exercise in R",
    "text": "OOP Exercise in R\nSetup (given): you have my_smooth(x, y, k) (constructor) with\nsummary.my_smooth() and plot.my_smooth() from the case study.\nA. Create and use an object 1) Build three models with different windows: k = 3, k = 7, k = 11.\n2) Call summary() on each.\n3) In 1‚Äì2 lines: which k fits best (lower MSE) on your data?\nB. Add a tiny exporter Add an S3 method to convert your object to a simple list:\n\nas.list.my_smooth &lt;- function(x, ...) {\n  list(x = x$x, y = x$y, fitted = x$fitted, k = x$k, call = x$call)\n}\n\nThen run: d &lt;- as.list(m7); names(d) Why is exporting to a plain list handy (think: saving, APIs, tests)?"
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-r-continued",
    "href": "lecture04.html#oop-exercise-in-r-continued",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "OOP Exercise in R (continued)",
    "text": "OOP Exercise in R (continued)\nC. Make a simple prediction Add a predict() S3 method using linear interpolation along the fitted curve:\n\npredict.my_smooth &lt;- function(object, xnew, ...) {\n  approx(object$x, object$fitted, xout = xnew, rule = 2)$y\n}\n\nTry: predict(m7, c(10, 20, 30)) and print the results.\nD. Plot (optional) Plot your three models and briefly describe how increasing k changes smoothness:\n\npar(mfrow = c(1,3))\nplot(m3, main = \"k=3\");  plot(m7, main = \"k=7\");  plot(m11, main = \"k=11\")\npar(mfrow = c(1,1))"
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-python",
    "href": "lecture04.html#oop-exercise-in-python",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "OOP Exercise in Python",
    "text": "OOP Exercise in Python\nSetup (given): you have Smooth(x, y, k=5) from the case study, plus:\n\n@singledispatch\ndef summarize(obj): ...\n@summarize.register\ndef _(m: Smooth): ...\n\nA. Create and use an object\n\nMake a Smooth with k = 3, k = 7, k = 11.\nCall summarize() on each.\nIn 1‚Äì2 lines: which k fits best (lower MSE) on your data?\n\nB. Add a tiny method Add this method inside Smooth:\n\ndef to_dict(self):\n    return {\"x\": self.x.tolist(),\n            \"y\": self.y.tolist(),\n            \"fitted\": np.nan_to_num(self.fitted).tolist(),\n            \"k\": int(self.k)}\n\nThen do: d = m.to_dict() and print the keys. Why is this useful?"
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-python-continued",
    "href": "lecture04.html#oop-exercise-in-python-continued",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "OOP Exercise in Python (continued)",
    "text": "OOP Exercise in Python (continued)\nC. Make a simple prediction Add inside Smooth:\n\ndef predict(self, x_new):\n    # linear interpolation on the fitted curve\n    return np.interp(x_new, self.x, np.nan_to_num(self.fitted))\n\nTry predict([10, 20, 30]) and print the results.\nD. Plot (optional) Make a function:\ndef quick_plot(m):\n    plt.scatter(m.x, m.y, s=12)\n    plt.plot(m.x, m.fitted, linewidth=2)\n    plt.title(f\"Smooth (k={m.k})\"); plt.xlabel(\"x\"); plt.ylabel(\"y\"); plt.show()\nPlot your three models; in 1‚Äì2 lines, say how increasing k changes smoothness."
  },
  {
    "objectID": "lecture04.html#functional-programming-1",
    "href": "lecture04.html#functional-programming-1",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Functional programming",
    "text": "Functional programming\n\nA paradigm emphasizing pure functions (no side effects), immutability, and declarative style.\nBenefits: maintainable, predictable, and scalable (parallelizable) code.\nKey concepts:\n\nPure function: same output for same input; no side effects.\nFirst-class functions: can be passed, returned, stored.\nHigher-order functions: take/return functions."
  },
  {
    "objectID": "lecture04.html#pure-function",
    "href": "lecture04.html#pure-function",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Pure function",
    "text": "Pure function\n\nA pure function always produces the same output for the same input.\nIs rnorm a pure function?\n\n\nset.seed(123)\nrnorm(5)"
  },
  {
    "objectID": "lecture04.html#pure-function-continued",
    "href": "lecture04.html#pure-function-continued",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Pure function (continued)",
    "text": "Pure function (continued)\n\nset.seed(123)\nrnorm(5)\nset.seed(124)\nrnorm(5)\n\n\nSame explicit call but different internal RNG state ‚Üí rnorm is not pure."
  },
  {
    "objectID": "lecture04.html#first-class-functions-pass-as-argument",
    "href": "lecture04.html#first-class-functions-pass-as-argument",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "First-class functions ‚Äî pass as argument",
    "text": "First-class functions ‚Äî pass as argument\n\nf &lt;- function(g) g(rnorm(10))\nf(sum); f(max); f(mean)"
  },
  {
    "objectID": "lecture04.html#first-class-functions-returning-a-function",
    "href": "lecture04.html#first-class-functions-returning-a-function",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "First-class functions ‚Äî returning a function",
    "text": "First-class functions ‚Äî returning a function\n\nmakeMultiplier &lt;- function(factor) {\n  function(x) x * factor\n}\n\ntimesFive &lt;- makeMultiplier(5)\ntimesFive(10)\n\n\nSee Function factories."
  },
  {
    "objectID": "lecture04.html#function-operators-higher-order",
    "href": "lecture04.html#function-operators-higher-order",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Function operators / higher-order",
    "text": "Function operators / higher-order\n\napplyTwice &lt;- function(func) {\n  function(x) func(func(x))\n}\naddTwo &lt;- function(x) x + 2\napplyTwice(addTwo)(3)\n\n\nSee Function operators."
  },
  {
    "objectID": "lecture04.html#from-for-loops-to-functionals-squares-r",
    "href": "lecture04.html#from-for-loops-to-functionals-squares-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "From for loops to functionals ‚Äî squares (R)",
    "text": "From for loops to functionals ‚Äî squares (R)\n\n\n\n# Using a for loop to calculate squares\nn &lt;- 5\nresult &lt;- vector(\"list\", n)\nfor (i in 1:n) result[[i]] &lt;- i^2\nresult\n\n\n\n# Functional approach with purrr\nlibrary(purrr)\nmap(1:n, ~ .^2)"
  },
  {
    "objectID": "lecture04.html#from-for-loops-to-functionals-sum",
    "href": "lecture04.html#from-for-loops-to-functionals-sum",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "From for loops to functionals ‚Äî sum",
    "text": "From for loops to functionals ‚Äî sum\n\n\n\n# for loop\na &lt;- 0\nfor (i in 1:10) a &lt;- a + i\na\n\n\n\n# Reduce\nReduce(`+`, 1:10)"
  },
  {
    "objectID": "lecture04.html#purrrmap-r",
    "href": "lecture04.html#purrrmap-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "purrr::map() (R)",
    "text": "purrr::map() (R)\n\n\n\nmap(v, f) applies f to each element of v and returns a list.\n\n\nlibrary(purrr)\nmap(1:3, exp)\n# base R equivalent\nlapply(1:3, exp)"
  },
  {
    "objectID": "lecture04.html#returning-atomic-vectors",
    "href": "lecture04.html#returning-atomic-vectors",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Returning atomic vectors",
    "text": "Returning atomic vectors\n\nmap / lapply return a list; sometimes you want an atomic vector.\nUse map_lgl(), map_int(), map_dbl(), map_chr() or base sapply / vapply.\n\n\n\n\n# purrr typed maps\nmap_dbl(1:4, exp)\n\n\n\n# base R\nsapply(1:4, exp)\n# vapply needs a template\nvapply(1:4, FUN = exp, FUN.VALUE = double(1))"
  },
  {
    "objectID": "lecture04.html#inline-anonymous-functions",
    "href": "lecture04.html#inline-anonymous-functions",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Inline anonymous functions",
    "text": "Inline anonymous functions\nThere are situations where the function you want to pass does not exist yet. Use an inline anonymous function (aka lambda).\n\n\n\n# purrr formula shortcut\nmap_int(1:4, ~ if (.x %% 2 == 0) .x^2 else .x^3)\n\n\n\n# base R anonymous function\nsapply(1:4, function(x) if (x %% 2 == 0) x^2 else x^3)"
  },
  {
    "objectID": "lecture04.html#variants-to-purrrmap",
    "href": "lecture04.html#variants-to-purrrmap",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Variants to purrr::map()",
    "text": "Variants to purrr::map()\n\n\nmap2 takes two vectors v1, v2 and a function f and returns f(v1[i], v2[i]).\n\nwt &lt;- c(5,5,4,1)/15\nwtL &lt;- list(wt, wt, wt)\nx &lt;- list(c(6,4.5,5,4), c(5.5,5,4.5,6), c(6,6,4,4))\nmap2_dbl(x, wtL, weighted.mean)"
  },
  {
    "objectID": "lecture04.html#pmap-generalization-r",
    "href": "lecture04.html#pmap-generalization-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "pmap generalization (R)",
    "text": "pmap generalization (R)\n\n\n\nl1 &lt;- as.list(1:3)\nl2 &lt;- as.list(4:6)\nl3 &lt;- as.list(7:9)\ncalculate_sum &lt;- function(e1,e2,e3) e1+e2+e3\npmap(list(l1,l2,l3), calculate_sum)"
  },
  {
    "objectID": "lecture04.html#variants-to-sapply-r",
    "href": "lecture04.html#variants-to-sapply-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Variants to sapply (R)",
    "text": "Variants to sapply (R)\n\nmapply generalizes sapply to many inputs.\nMap vectorizes over all arguments (no extra non-vectorized input allowed).\n\n\n\n\n# mapply weighted means\nwt &lt;- c(5,5,4,1)/15\nwtL &lt;- list(wt, wt, wt)\nx &lt;- list(c(6,4.5,5,4), c(5.5,5,4.5,6), c(6,6,4,4))\nmapply(FUN = weighted.mean, x, wtL)\n\n\n\n# Map over all arguments\nMap(f = weighted.mean, x, wtL)"
  },
  {
    "objectID": "lecture04.html#outer-product-r",
    "href": "lecture04.html#outer-product-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "outer product (R)",
    "text": "outer product (R)\n\nouter(X = c(\"a\",\"b\",\"c\"), Y = c(\"1\",\"2\",\"3\",\"4\"), FUN = paste0)"
  },
  {
    "objectID": "lecture04.html#common-higher-order-functions-in-fp-r",
    "href": "lecture04.html#common-higher-order-functions-in-fp-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Common higher-order functions in FP (R)",
    "text": "Common higher-order functions in FP (R)\n\nHigher-order = take/return functions.\nReduce applies a binary function iteratively to elements of a vector.\n\n\n\n\nReduce(`+`, 1:10)"
  },
  {
    "objectID": "lecture04.html#rs-vectorization",
    "href": "lecture04.html#rs-vectorization",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "R‚Äôs vectorization",
    "text": "R‚Äôs vectorization\n\n\n\n# Using map/lapply\nlibrary(purrr)\nmap(1:2, exp)\nlapply(1:2, exp)\n\n\n\n# But exp is already vectorized\nexp(1:2)"
  },
  {
    "objectID": "lecture04.html#vectorizing-a-function-r-pitfall-then-fix",
    "href": "lecture04.html#vectorizing-a-function-r-pitfall-then-fix",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Vectorizing a function (R): pitfall then fix",
    "text": "Vectorizing a function (R): pitfall then fix\n\n# return square if even, cube otherwise\nf &lt;- function(x) if (x %% 2 == 0) x^2 else x^3\nf(1:4)  # error: non-scalar if"
  },
  {
    "objectID": "lecture04.html#vectorizing-a-function-r-vectorize",
    "href": "lecture04.html#vectorizing-a-function-r-vectorize",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Vectorizing a function (R): Vectorize",
    "text": "Vectorizing a function (R): Vectorize\n\nvf &lt;- Vectorize(FUN = f, vectorize.args = \"x\")\nvf(1:4)"
  },
  {
    "objectID": "lecture04.html#vectorizing-a-function-r-ifelse",
    "href": "lecture04.html#vectorizing-a-function-r-ifelse",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Vectorizing a function (R): ifelse",
    "text": "Vectorizing a function (R): ifelse\n\nifelse(1:4 %% 2 == 0, (1:4)^2, (1:4)^3)"
  },
  {
    "objectID": "lecture04.html#parallelism-r",
    "href": "lecture04.html#parallelism-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Parallelism (R)",
    "text": "Parallelism (R)\n\nBenefits of FP include scalability and parallelism.\nMany problems are embarrassingly parallel.\nparallel ships with R and offers parallelized *apply variants.\n\n\nlibrary(parallel)\ndetectCores()\n\n\nThis is the total number of threads (Hyper-Threading), not physical cores."
  },
  {
    "objectID": "lecture04.html#forking-with-mclapply-r",
    "href": "lecture04.html#forking-with-mclapply-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Forking with mclapply (R)",
    "text": "Forking with mclapply (R)\n\nmeasure_time &lt;- function(x){\n  t1 &lt;- Sys.time(); Sys.sleep(x); t2 &lt;- Sys.time()\n  difftime(t2,t1,units=\"secs\")\n}"
  },
  {
    "objectID": "lecture04.html#forking-with-mclapply-r-1",
    "href": "lecture04.html#forking-with-mclapply-r-1",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Forking with mclapply (R)",
    "text": "Forking with mclapply (R)\n\nlibrary(parallel)\nt1 &lt;- Sys.time()\nmclapply(1:5, measure_time, mc.cores = 5)\nt2 &lt;- Sys.time()\nsprintf(\"In total, it took %.1f seconds to run\", as.numeric(difftime(t2,t1,units=\"secs\")))"
  },
  {
    "objectID": "lecture04.html#socket-cluster-with-parlapply-r",
    "href": "lecture04.html#socket-cluster-with-parlapply-r",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Socket cluster with parLapply (R)",
    "text": "Socket cluster with parLapply (R)\n\nlibrary(parallel)\ncl &lt;- makeCluster(5)\nt1 &lt;- Sys.time()\nparLapply(cl, 1:5, measure_time)\nt2 &lt;- Sys.time()"
  },
  {
    "objectID": "lecture04.html#socket-cluster-with-parlapply-r-1",
    "href": "lecture04.html#socket-cluster-with-parlapply-r-1",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Socket cluster with parLapply (R)",
    "text": "Socket cluster with parLapply (R)\n\nstopCluster(cl)\nsprintf(\"In total, it took %.1f seconds to run\", as.numeric(difftime(t2,t1,units=\"secs\")))"
  },
  {
    "objectID": "lecture04.html#python-counterparts",
    "href": "lecture04.html#python-counterparts",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "Python counterparts",
    "text": "Python counterparts\n\nPython is multi-paradigm. It supports functional programming (FP) alongside OOP and imperative styles.\nFunctional tools: map/filter, comprehensions, itertools, functools.reduce/partial/lru_cache.\nVectorization is via NumPy (ufuncs). Parallelism via concurrent.futures / multiprocessing.\nDefaults are eager at definition time (vs.¬†R‚Äôs lazy promises); use the None pattern for dynamic defaults."
  },
  {
    "objectID": "lecture04.html#to-go-further",
    "href": "lecture04.html#to-go-further",
    "title": "Lecture 4 ‚Äî Software Engineering for Data Science",
    "section": "To go further",
    "text": "To go further\n\nR: Advanced R ‚Äî Functionals, Function factories, Function operators.\nR: purrr cheatsheet.\nR: Loop Functions & Parallel Computation in R Programming for Data Science."
  }
]