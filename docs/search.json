[
  {
    "objectID": "lecture04.html#why-make-an-r-package",
    "href": "lecture04.html#why-make-an-r-package",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Why make an R package?",
    "text": "Why make an R package?\n\nDistribute code to others — packaging nudges you to write documentation.\nEnforces conventions (files, names, processes).\nIncreases stability via long-term maintenance + testing.\nImproves usability as your function zoo grows.\nClear API, versioning, and easier onboarding for collaborators."
  },
  {
    "objectID": "lecture04.html#setup",
    "href": "lecture04.html#setup",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Setup",
    "text": "Setup\nYou will need (at least) the following packages:\n\ninstall.packages(c(\"devtools\", \"knitr\", \"pkgdown\", \"roxygen2\", \"testthat\", \"usethis\"))\n\nCheck your system toolchain:\n\ndevtools::has_devel()\n\nIf not ready: https://r-pkgs.org/setup.html"
  },
  {
    "objectID": "lecture04.html#demo",
    "href": "lecture04.html#demo",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Demo",
    "text": "Demo\n(We’ll live-code a tiny package: init → a function → docs → tests → pkgdown.)"
  },
  {
    "objectID": "lecture04.html#package-anatomy",
    "href": "lecture04.html#package-anatomy",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Package anatomy",
    "text": "Package anatomy\npkgtest/\n├─ DESCRIPTION\n├─ NAMESPACE          # auto-generated by roxygen2\n├─ R/                 # your exported/internal functions\n├─ man/               # *.Rd docs (generated)\n├─ tests/testthat/    # unit tests\n├─ vignettes/         # long-form docs (optional)\n├─ data/              # .rda datasets (optional)\n├─ inst/              # e.g., inst/examples/\n└─ data-raw/          # raw data + scripts (ignored by build)"
  },
  {
    "objectID": "lecture04.html#description-file",
    "href": "lecture04.html#description-file",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "DESCRIPTION file",
    "text": "DESCRIPTION file\nDESCRIPTION contains package metadata (authors, description, dependencies, contact, …). Example:\n\n# Plain text (DCF) — shown here for reference\nPackage: pkgtest\nType: Package\nTitle: What the Package Does (Title Case)\nVersion: 0.1.0\nAuthors@R: person(\"John\", \"Doe\", email = \"john.doe@example.com\",\n  role = c(\"aut\", \"cre\"))\nMaintainer: John Doe &lt;john.doe@example.com&gt;\nDescription: More about what it does (maybe more than one line).\n    Use four spaces when indenting paragraphs within the Description.\nLicense: MIT + file LICENSE\nEncoding: UTF-8\nLazyData: true\nURL: https://github.com/ptds2024/pkgtest\nBugReports: https://github.com/ptds2024/pkgtest/issues\nRoxygen: list(markdown = TRUE)\nRoxygenNote: 7.3.1\nSuggests:\n    knitr,\n    rmarkdown,\n    testthat (&gt;= 3.0.0)\nConfig/testthat/edition: 3\n\nTip: usethis::use_description() can scaffold this for you."
  },
  {
    "objectID": "lecture04.html#authors-and-license",
    "href": "lecture04.html#authors-and-license",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Authors and license",
    "text": "Authors and license\nUse person() in Authors@R. Common roles:\n\n\"cre\" = maintainer (creator)\n\"aut\" = author (substantial contributions)\n\"ctb\" = contributor (smaller contributions)\n\"cph\" = copyright holder (institution/corporate)\n\nChoose a license: https://choosealicense.com/licenses/\n\nusethis::use_mit_license()\n# Alternatives: usethis::use_gpl3_license(), use_apl2_license(), …"
  },
  {
    "objectID": "lecture04.html#dependencies",
    "href": "lecture04.html#dependencies",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Dependencies",
    "text": "Dependencies\nDESCRIPTION lists what your package needs.\n\nDepends: R (&gt;= 4.0.0)    # note the space!\nImports:\n    dplyr (&gt;= 1.1.4),\n    ggplot2 (&gt;= 3.5.1)\nSuggests:\n    knitr,\n    rmarkdown,\n    testthat (&gt;= 3.0.0)\n\nGuidelines:\n\nImports for fun() used in codes in R/.\nDepends for base R version requirement.\nSuggests for docs, tests, vignettes.\nNote: for selective namespace import, use roxygen tags such as: @importFrom dplyr mutate select."
  },
  {
    "objectID": "lecture04.html#documenting-your-package",
    "href": "lecture04.html#documenting-your-package",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Documenting your package",
    "text": "Documenting your package\n\nDocs live in man/ as *.Rd (generated).\nWe generate them with roxygen2 from inline comments.\nRun devtools::document() to update NAMESPACE + man/."
  },
  {
    "objectID": "lecture04.html#roxygen-basics",
    "href": "lecture04.html#roxygen-basics",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Roxygen basics",
    "text": "Roxygen basics\nPlace roxygen just above the function:\n\n#' Say hello\n#'\n#' @return Prints a friendly message.\n#' @examples\n#' hello()\n#' @export\nhello &lt;- function() {\n  print(\"Hello, world!\")\n}\n\nUseful tags: @title, @description, @details, @param, @return, @examples, @seealso, @author, @references, @import, @importFrom, @export\nDocument all user-facing functions; export some of them."
  },
  {
    "objectID": "lecture04.html#example-hello-docs-vs.-help-page",
    "href": "lecture04.html#example-hello-docs-vs.-help-page",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Example: hello() (docs vs. help page)",
    "text": "Example: hello() (docs vs. help page)\n\n\n\n\n\n\n\n\n\n#' @title hello world function\n#' @details A super fancy function to print Hello World!\n#' @return Prints a message.\n#' @examples\n#' hello()\n#' @export\nhello &lt;- function() {\n  print(\"Hello, world!\")\n}"
  },
  {
    "objectID": "lecture04.html#import-external-functions-explicitly",
    "href": "lecture04.html#import-external-functions-explicitly",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Import external functions explicitly",
    "text": "Import external functions explicitly\nRule: If you call functions from another package, you must import them with roxygen’s @importFrom so NAMESPACE lists them.\nIt is not sufficient to add pkg::fun() calls in your code.\nOtherwise you’ll hit R CMD check NOTES like “no visible global function definition for ‘select’” and users may get runtime errors.\nNote: Base R functions (e.g., mean(), lm()) do not need imports.\nDo (bare names + explicit imports):\n\n#' Transform helper\n#'\n#' @description Example using dplyr without pkg:: qualification.\n#' @importFrom dplyr select mutate\n#' @export\nfoo &lt;- function(df) {\n  df |&gt;\n    select(x, y) |&gt;\n    mutate(z = x + y)\n}"
  },
  {
    "objectID": "lecture04.html#adding-data-binary-.rda",
    "href": "lecture04.html#adding-data-binary-.rda",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Adding data (binary .rda)",
    "text": "Adding data (binary .rda)\n\nPlace datasets in data/ as .rda.\nUse usethis::use_data() to serialize R objects.\n\n\nsnipes &lt;- read.csv(\"data-raw/snipes.csv\")\nusethis::use_data(snipes, overwrite = TRUE)  # creates data/snipes.rda"
  },
  {
    "objectID": "lecture04.html#preserve-the-origin-story-data-raw",
    "href": "lecture04.html#preserve-the-origin-story-data-raw",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Preserve the origin story (data-raw)",
    "text": "Preserve the origin story (data-raw)\n\nKeep raw inputs + wrangling scripts under data-raw/.\nMake it reproducible with usethis::use_data_raw() (auto-adds to .Rbuildignore).\n\n\nusethis::use_data_raw(\"snipes\")\n# edit data-raw/snipes.R to read/clean/write snipes object, then use_data()\n\nReference: r-pkgs, “Preserve the origin story of package data”."
  },
  {
    "objectID": "lecture04.html#documenting-datasets",
    "href": "lecture04.html#documenting-datasets",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Documenting datasets",
    "text": "Documenting datasets\nTwo useful tags: @format and @source.\n\n#' Snipes price data\n#'\n#' @format A data frame with 48 rows and 3 columns:\n#' \\describe{\n#'   \\item{discount}{Discounted price of sneakers}\n#'   \\item{brand}{Brand of sneakers}\n#'   \\item{price}{Original price of sneakers}\n#' }\n#' @source &lt;https://www.snipes.ch/&gt;\n\"snipes\""
  },
  {
    "objectID": "lecture04.html#rbuildignore",
    "href": "lecture04.html#rbuildignore",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": ".Rbuildignore",
    "text": ".Rbuildignore\nLike .gitignore, but for package builds.\n\nusethis::use_build_ignore(c(\"^.*\\\\.Rproj$\", \"^\\\\.Rproj\\\\.user$\", \"^LICENSE\\\\.md$\", \"^\\\\.github$\", \"^data-raw$\"))\n\nOr maintain manually:\n^.*\\.Rproj$\n^\\.Rproj\\.user$\n^LICENSE\\.md$\n^\\.github$\n^data-raw$"
  },
  {
    "objectID": "lecture04.html#vignettes",
    "href": "lecture04.html#vignettes",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Vignettes",
    "text": "Vignettes\nLong-form docs (articles, tutorials) built with R Markdown/Quarto.\n\nusethis::use_vignette(\"getting-started\")\n# Write vignettes/getting-started.Rmd (or .qmd)\n\nRemember to list knitr and rmarkdown under Suggests."
  },
  {
    "objectID": "lecture04.html#namespaces-how-functions-are-found",
    "href": "lecture04.html#namespaces-how-functions-are-found",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Namespaces (how functions are found)",
    "text": "Namespaces (how functions are found)\n\nThe namespace controls how R looks up variables: it searches your package namespace, then imports, then base, then the regular search path.\n\n\nGenerated automatically by roxygen2.\nUse @export to expose a function; @importFrom pkg fun to bring symbols in."
  },
  {
    "objectID": "lecture04.html#a-toy-function-to-test",
    "href": "lecture04.html#a-toy-function-to-test",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "A toy function to test",
    "text": "A toy function to test\nIn R/reg_coef.R:\n\n#' Compute regression coefficients\n#'\n#' @param x Design \\code{matrix} or vector.\n#' @param y Response \\code{vector}.\n#' @details Uses \\link[stats]{lm} then \\link[stats]{coef}.\n#' @importFrom stats lm coef\n#' @seealso \\code{\\link[stats]{lm}}, \\code{\\link[stats]{coef}}\n#' @example inst/examples/eg_reg_coef.R\n#' @export\n`%r%` &lt;- function(y, x) {\n  fit &lt;- lm(y ~ x)\n  coef(fit)\n}"
  },
  {
    "objectID": "lecture04.html#testing-via-examples",
    "href": "lecture04.html#testing-via-examples",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "“Testing” via examples",
    "text": "“Testing” via examples\n\nExamples (in roxygen) are shown to users and run under R CMD check.\nFor bigger snippets, place files under inst/examples/ and reference them:\n\n\n#' @examples\n#' @example inst/examples/eg_reg_coef.R\n\ninst/examples/eg_reg_coef.R:\n\n## linear regression\ncars$speed %r% cars$dist"
  },
  {
    "objectID": "lecture04.html#what-happens-on-check",
    "href": "lecture04.html#what-happens-on-check",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "What happens on check?",
    "text": "What happens on check?"
  },
  {
    "objectID": "lecture04.html#intentional-mistake-to-see-failure",
    "href": "lecture04.html#intentional-mistake-to-see-failure",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Intentional mistake (to see failure)",
    "text": "Intentional mistake (to see failure)\nIf inst/examples/eg_reg_coef.R contains:\n\ncars$speed %r% cars   # wrong!\n\nYou’ll get a failing check:"
  },
  {
    "objectID": "lecture04.html#testing-with-testthat",
    "href": "lecture04.html#testing-with-testthat",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Testing with testthat",
    "text": "Testing with testthat\nExamples are for users; tests are for you (broader, automated).\n\nusethis::use_testthat()\n\n\n“Whenever you are tempted to type something into a print statement or a debugger expression, write it as a test instead.” — Martin Fowler"
  },
  {
    "objectID": "lecture04.html#testthat-structure",
    "href": "lecture04.html#testthat-structure",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "testthat structure",
    "text": "testthat structure\n\nExpectation: a single check (expect_*()).\nTest: one or more expectations (test_that()).\nTest file: one or more tests (e.g., tests/testthat/test_reg_coef.R).\n\nExample:\n\ntest_that(\"regression coefficient input check\", {\n  expect_error(cars$speed %r% cars)\n})\n\ntest_that(\"regression coefficient output\", {\n  expect_type(cars$speed %r% cars$dist, \"double\")\n})"
  },
  {
    "objectID": "lecture04.html#continuous-integration-github-actions",
    "href": "lecture04.html#continuous-integration-github-actions",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Continuous Integration (GitHub Actions)",
    "text": "Continuous Integration (GitHub Actions)\nRun checks on multiple R versions/OS on every push/PR:\n\nusethis::use_github_action_check_standard()\n\nMore examples: https://github.com/r-lib/actions/tree/master/examples"
  },
  {
    "objectID": "lecture04.html#keep-ci-within-budget-class-org",
    "href": "lecture04.html#keep-ci-within-budget-class-org",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Keep CI within budget (class org)",
    "text": "Keep CI within budget (class org)\n\nWe have only 3000 free Actions minutes/month for the class org.\nPrefer public repos (or self-hosted runners) → no Actions minutes used.\nFor private repos, test on your personal repo first; then fork to class org.\nTrigger CI on PRs/manual runs and use paths filters:\n\non:\n  pull_request:\n    paths:\n      - 'R/**'\n      - 'DESCRIPTION'\n      - 'NAMESPACE'\n      - '.github/workflows/**'\n  workflow_dispatch:"
  },
  {
    "objectID": "lecture04.html#keep-ci-within-budget-class-org-1",
    "href": "lecture04.html#keep-ci-within-budget-class-org-1",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Keep CI within budget (class org)",
    "text": "Keep CI within budget (class org)\n\nSkip manually CI with [skip ci]:\n\njobs:\n  check:\n    if: \"!contains(github.event.head_commit.message, '[skip ci]')\"\n\ngit add README.md\ngit commit -m \"docs: fix typos [skip ci]\"\ngit push"
  },
  {
    "objectID": "lecture04.html#code-coverage-nice-enhancement",
    "href": "lecture04.html#code-coverage-nice-enhancement",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Code coverage (nice enhancement)",
    "text": "Code coverage (nice enhancement)\nMeasure what your tests execute:\n\ninstall.packages(\"covr\")\ncovr::report()           # local HTML report\nusethis::use_coverage()  # set up Codecov (if desired)\n\nAim for high, but don’t chase 100% blindly — test the behavior that matters."
  },
  {
    "objectID": "lecture04.html#pkgdown-package-website",
    "href": "lecture04.html#pkgdown-package-website",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "pkgdown (package website)",
    "text": "pkgdown (package website)\n\nQuickly create a website from your docs/vignettes:\n\nusethis::use_pkgdown()    # run once\npkgdown::build_site()     # build locally\nusethis::use_github_action(\"pkgdown\")  # CI deploy\n\nDocs: https://pkgdown.r-lib.org/"
  },
  {
    "objectID": "lecture04.html#example-site-preview",
    "href": "lecture04.html#example-site-preview",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Example site preview",
    "text": "Example site preview"
  },
  {
    "objectID": "lecture04.html#release-checklist-semver",
    "href": "lecture04.html#release-checklist-semver",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Release checklist (SemVer)",
    "text": "Release checklist (SemVer)\n\nUpdate NEWS.md (usethis::use_news_md()).\nBump version in DESCRIPTION (e.g., 0.1.0 → 0.2.0 for features).\ndevtools::check() clean locally (no ERROR/WARNING/NOTE).\nAll CI green; coverage reasonable.\nRebuild site; tag the release; write a short changelog.\nConsider CRAN policies if submitting (e.g., R CMD check --as-cran)."
  },
  {
    "objectID": "lecture04.html#install-from-github-user",
    "href": "lecture04.html#install-from-github-user",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Install from GitHub (user)",
    "text": "Install from GitHub (user)\nFor users (install the released tag):\n\ninstall.packages(\"remotes\")\nremotes::install_github(\"your-org/yourpkg\", ref = \"v0.1.0\", dependencies = TRUE)\n\n# Repo with a subfolder package:\nremotes::install_github(\"your-org/your-repo\", subdir = \"yourpkg\", ref = \"v0.1.0\")\n\nNote: Building from source may require Rtools (Windows) or Xcode CLT (macOS)."
  },
  {
    "objectID": "lecture04.html#typical-workflow-big-picture",
    "href": "lecture04.html#typical-workflow-big-picture",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Typical workflow (big picture)",
    "text": "Typical workflow (big picture)\n\nusethis::create_package(\"pkgtest\")\nWrite a function in R/\nAdd roxygen docs → devtools::document()\nAdd tests → usethis::use_testthat() → write tests/testthat/\nCheck → devtools::check()\nCI → usethis::use_github_action_check_standard()\nSite → usethis::use_pkgdown() → pkgdown::build_site()\nRelease checklist and version bump (SemVer)"
  },
  {
    "objectID": "lecture04.html#tips-helpers-usethis",
    "href": "lecture04.html#tips-helpers-usethis",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Tips & helpers (usethis)",
    "text": "Tips & helpers (usethis)\n\nusethis::use_readme_md()\nusethis::use_lifecycle_badge(\"maturing\")\nusethis::use_github()              # init repo + remote\nusethis::use_pipe()                # if you want |&gt; helper or magrittr\nusethis::use_tidy_description()    # sort/format DESCRIPTION"
  },
  {
    "objectID": "lecture04.html#resources",
    "href": "lecture04.html#resources",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Resources",
    "text": "Resources\n\nCode shown here: https://github.com/ptds2024/pkgtest\nR Packages (2e): https://r-pkgs.org/\nWriting R Extensions: https://cran.r-project.org/doc/manuals/r-release/R-exts.html\nBook chapter: An Introduction to Statistical Programming Methods with R — Packages section: https://smac-group.github.io/ds/section-r-packages.html"
  },
  {
    "objectID": "lecture04.html#why-a-python-library-r-parallels",
    "href": "lecture04.html#why-a-python-library-r-parallels",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Why a Python library (R parallels)",
    "text": "Why a Python library (R parallels)\n\nDistribute code, enforce conventions, improve stability.\nR: DESCRIPTION, NAMESPACE, roxygen, testthat, pkgdown\n\nPy: setup.py/wheel, __init__.py, docstrings, pytest, MkDocs"
  },
  {
    "objectID": "lecture04.html#set-up-a-virtual-environment-vs-code",
    "href": "lecture04.html#set-up-a-virtual-environment-vs-code",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Set up a virtual environment (VS Code)",
    "text": "Set up a virtual environment (VS Code)\n\npython3 -m venv venv\nsource venv/bin/activate     # Windows: venv\\Scripts\\activate\npip install -U pip setuptools wheel pytest\ncode .\n\n\nVS Code → “Python: Select Interpreter” → pick ./venv"
  },
  {
    "objectID": "lecture04.html#minimal-structure-parallel-to-r-package-anatomy",
    "href": "lecture04.html#minimal-structure-parallel-to-r-package-anatomy",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Minimal structure (parallel to R package anatomy)",
    "text": "Minimal structure (parallel to R package anatomy)\n\npypkg/                    # ← package root (like R pkg root)\n├─ setup.py               # ← like DESCRIPTION (+ build recipe)\n├─ MANIFEST.in            # ← include data files (like .Rbuildignore inverse)\n├─ README.md\n├─ pypkg/                 # ← source (like R/ folder)\n│  ├─ __init__.py         # ← public API (like NAMESPACE role)\n│  ├─ hello.py            # ← hello()\n│  ├─ regression.py       # ← reg_coef()\n│  ├─ data.py             # ← load_snipes()\n│  └─ data/\n│     └─ snipes.csv       # ← packaged dataset\n├─ examples/\n│  └─ eg_reg_coef.py      # ← like inst/examples/...\n├─ tests/                 # ← pytest (like tests/testthat)\n│  ├─ test_hello.py\n│  ├─ test_regression.py\n│  └─ test_data.py\n\nWe need to create these files step-by-step."
  },
  {
    "objectID": "lecture04.html#create-your-project-directory-terminal-basics",
    "href": "lecture04.html#create-your-project-directory-terminal-basics",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Create your project directory (Terminal basics)",
    "text": "Create your project directory (Terminal basics)\nOpen your terminal (VS Code: View → Terminal) and create a folder for your Python library.\n\n# See where you are (present working directory)\npwd\n\n# List folders/files\nls\n\n# Go to the parent location where you want the project\ncd path/to/parent\n\n# Create and enter your project folder\nmkdir mypythonlibrary\ncd mypythonlibrary\n\n# (Optional) Open the folder in VS Code\ncode ."
  },
  {
    "objectID": "lecture04.html#hello-r-the-hello-world-slide",
    "href": "lecture04.html#hello-r-the-hello-world-slide",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "hello() (R: the “Hello, world!” slide)",
    "text": "hello() (R: the “Hello, world!” slide)\npypkg/hello.py\n\ndef hello() -&gt; str:\n    \"\"\"Return a friendly greeting.\"\"\"\n    return \"Hello, world!\"\n\npypkg/__init__.py — expose the public API (like exporting in NAMESPACE)\n\nfrom .hello import hello\n\n__all__ = [\"hello\"]"
  },
  {
    "objectID": "lecture04.html#build-a-wheel-r-r-cmd-build",
    "href": "lecture04.html#build-a-wheel-r-r-cmd-build",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Build a wheel (R: R CMD build)",
    "text": "Build a wheel (R: R CMD build)\nsetup.py (simple & minimal)\n\nfrom setuptools import setup, find_packages\n\nsetup(\n    name=\"pypkg\",\n    version=\"0.1.0\",\n    description=\"Tiny demo library\",\n    author=\"Your Name\",\n    packages=find_packages(include=[\"pypkg\", \"pypkg.*\"]),\n    install_requires=[\"numpy&gt;=1.26\"],\n    python_requires=\"&gt;=3.9\",\n)\n\nBuild:\n\npython setup.py bdist_wheel\nls dist/\n# pypkg-0.1.0-py3-none-any.whl\n\nInstall & try:\n\npip install dist/pypkg-0.1.0-py3-none-any.whl\npython -c \"import pypkg; print(pypkg.hello())\""
  },
  {
    "objectID": "lecture04.html#dataset-snipes-r-datasnipes.rda-data-raw",
    "href": "lecture04.html#dataset-snipes-r-datasnipes.rda-data-raw",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Dataset: snipes (R: data/snipes.rda + data-raw)",
    "text": "Dataset: snipes (R: data/snipes.rda + data-raw)\nShip the CSV and provide a loader (no pandas required).\npypkg/data.py\n\nfrom importlib import resources\nimport csv, io\nfrom typing import List, Dict\n\ndef load_snipes() -&gt; List[Dict[str, str]]:\n    \"\"\"Load the bundled 'snipes' dataset (list of dict rows).\"\"\"\n    with resources.files(\"pypkg.data\").joinpath(\"snipes.csv\").open(\"rb\") as fh:\n        text = io.TextIOWrapper(fh, encoding=\"utf-8\")\n        return list(csv.DictReader(text))\n\nMANIFEST.in — include data in the wheel\ninclude pypkg/data/snipes.csv\n\nR parallel: use_data() writes data/*.rda; here we ship a CSV + loader."
  },
  {
    "objectID": "lecture04.html#preserve-the-origin-story-r-data-raw",
    "href": "lecture04.html#preserve-the-origin-story-r-data-raw",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Preserve the origin story (R: data-raw/)",
    "text": "Preserve the origin story (R: data-raw/)\nKeep raw files & scripts outside the wheel (tracked in Git):\ndata_raw/\n  snipes_raw.csv\n  make_snipes.py   # cleans raw → writes pypkg/data/snipes.csv\n\nR parallel: usethis::use_data_raw() + .Rbuildignore; Py: keep data_raw/ out of MANIFEST.in."
  },
  {
    "objectID": "lecture04.html#documenting-dataset-r-format-source",
    "href": "lecture04.html#documenting-dataset-r-format-source",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Documenting dataset (R: @format, @source)",
    "text": "Documenting dataset (R: @format, @source)\nUse the loader’s docstring:\n\ndef load_snipes() -&gt; List[Dict[str, str]]:\n    \"\"\"\n    Load the bundled 'snipes' dataset.\n\n    Fields\n    ------\n    discount : str\n    brand    : str\n    price    : str\n\n    Source\n    ------\n    https://www.snipes.ch/\n    \"\"\"\n    ...\n\nMkDocs (later) will render this automatically."
  },
  {
    "objectID": "lecture04.html#regression-coefficients-r-r-with-statslm",
    "href": "lecture04.html#regression-coefficients-r-r-with-statslm",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Regression coefficients (R: %r% with stats::lm)",
    "text": "Regression coefficients (R: %r% with stats::lm)\nImplement a tiny OLS with NumPy (no heavy deps).\npypkg/regression.py\n\nfrom typing import Iterable, Tuple\nimport numpy as np\n\ndef reg_coef(y: Iterable[float], x: Iterable[float]) -&gt; Tuple[float, float]:\n    \"\"\"\n    Compute OLS coefficients for y ~ 1 + x.\n\n    Returns\n    -------\n    (intercept, slope)\n    \"\"\"\n    y = np.asarray(y, dtype=float).reshape(-1, 1)\n    x = np.asarray(x, dtype=float).reshape(-1, 1)\n    if y.shape[0] != x.shape[0]:\n        raise ValueError(\"x and y must have the same length\")\n    X = np.c_[np.ones_like(x), x]\n    beta, *_ = np.linalg.lstsq(X, y, rcond=None)\n    b0, b1 = beta.ravel().tolist()\n    return b0, b1\n\n\nR parallel: returns coef(lm(y ~ x))."
  },
  {
    "objectID": "lecture04.html#example-script-r-instexampleseg_reg_coef.r",
    "href": "lecture04.html#example-script-r-instexampleseg_reg_coef.r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Example script (R: inst/examples/eg_reg_coef.R)",
    "text": "Example script (R: inst/examples/eg_reg_coef.R)\nexamples/eg_reg_coef.py\n\nfrom pypkg import reg_coef\n\ny = [2, 4, 6, 8]\nx = [1, 2, 3, 4]\nprint(reg_coef(y, x))   # → (intercept, slope)\n\nRun:\n\npython examples/eg_reg_coef.py"
  },
  {
    "objectID": "lecture04.html#update-public-api-r-namespace",
    "href": "lecture04.html#update-public-api-r-namespace",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Update public API (R: NAMESPACE)",
    "text": "Update public API (R: NAMESPACE)\npypkg/__init__.py — expose the public API (like exporting in NAMESPACE)\n\nfrom .hello import hello\nfrom .regression import reg_coef\nfrom .data import load_snipes\n\n__all__ = [\"hello\", \"reg_coef\", \"load_snipes\"]"
  },
  {
    "objectID": "lecture04.html#re-build-a-wheel-r-r-cmd-build",
    "href": "lecture04.html#re-build-a-wheel-r-r-cmd-build",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Re-Build a wheel (R: R CMD build)",
    "text": "Re-Build a wheel (R: R CMD build)\nsetup.py (simple & minimal)\n\nfrom setuptools import setup, find_packages\n\nsetup(\n    name=\"pypkg\",\n    version=\"0.1.0\",\n    description=\"Tiny demo library\",\n    author=\"Your Name\",\n    packages=find_packages(include=[\"pypkg\", \"pypkg.*\"]),\n    install_requires=[\"numpy&gt;=1.26\"],\n    include_package_data=True,   # needed with MANIFEST.in\n    python_requires=\"&gt;=3.9\",\n)\n\nBuild:\n\npython setup.py bdist_wheel\nls dist/\n# pypkg-0.1.0-py3-none-any.whl\n\nInstall & try:\n\npip install dist/pypkg-0.1.0-py3-none-any.whl\npython -c \"import pypkg; print(pypkg.hello()); print(pypkg.reg_coef([2,4,6,8],[1,2,3,4]))\""
  },
  {
    "objectID": "lecture04.html#tests-r-testthat",
    "href": "lecture04.html#tests-r-testthat",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Tests (R: testthat)",
    "text": "Tests (R: testthat)\nInstall pytest (already done) and add three tests.\ntests/test_hello.py\n\nfrom pypkg import hello\ndef test_hello():\n    assert hello() == \"Hello, world!\"\n\ntests/test_regression.py\n\nimport pytest\nfrom pypkg import reg_coef\n\ndef test_reg_coef_values():\n    y, x = [2, 4, 6, 8], [1, 2, 3, 4]\n    b0, b1 = reg_coef(y, x)\n    assert round(b0, 6) == 0.0\n    assert round(b1, 6) == 2.0\n\ndef test_reg_coef_input_shape():\n    with pytest.raises(ValueError):\n        reg_coef([1, 2, 3], [1, 2])\n\nRun:\n\npytest -q"
  },
  {
    "objectID": "lecture04.html#explicit-imports-r-importfrom-rule",
    "href": "lecture04.html#explicit-imports-r-importfrom-rule",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "“Explicit imports” (R: @importFrom rule)",
    "text": "“Explicit imports” (R: @importFrom rule)\n\nIn R, bare names require @importFrom pkg fun.\nIn Python, prefer explicit imports at the top:\n\n\n# Good: explicit & narrow\nfrom numpy.linalg import lstsq\nimport numpy as np\n\n# Avoid: wildcard imports (hard to track & test)\nfrom numpy.linalg import *\n\n\nClear imports → fewer undefined symbols, better tests & CI."
  },
  {
    "objectID": "lecture04.html#ci-github-actions-lite-budget-friendly",
    "href": "lecture04.html#ci-github-actions-lite-budget-friendly",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "CI (GitHub Actions) — lite & budget-friendly",
    "text": "CI (GitHub Actions) — lite & budget-friendly\n.github/workflows/python-ci.yml\nname: Python CI (lite)\non:\n  pull_request:\n    paths:\n      - \"pypkg/**\"\n      - \"tests/**\"\n      - \"setup.py\"\n      - \"MANIFEST.in\"\n      - \".github/workflows/**\"\n  workflow_dispatch:\n\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.ref }}\n  cancel-in-progress: true\n\njobs:\n  test:\n    if: \"!contains(github.event.head_commit.message, '[skip ci]')\"\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n        with: { python-version: \"3.11\", cache: \"pip\" }\n      - run: python -m pip install -U pip\n      - run: pip install -e . pytest\n      - run: pytest -q"
  },
  {
    "objectID": "lecture04.html#docs-r-pkgdown-optional-but-nice",
    "href": "lecture04.html#docs-r-pkgdown-optional-but-nice",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Docs (R: pkgdown) — optional but nice",
    "text": "Docs (R: pkgdown) — optional but nice\n1) Install: Add MkDocs later to auto-render docstrings:\n\npip install mkdocs mkdocstrings[python] mkdocs-material\nmkdocs new .\n\n2) Configure\n# mkdocs.yml\nsite_name: pypkg\ntheme: material\nplugins:\n  - mkdocstrings:\n      handlers:\n        python:\n          options: { docstring_style: numpy, show_source: false }\nnav:\n  - Home: index.md\n  - API: api.md"
  },
  {
    "objectID": "lecture04.html#docs",
    "href": "lecture04.html#docs",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Docs",
    "text": "Docs\n3) Write docs\nCreate docs/index.md (overview/quickstart) and docs/api.md for the API.\ndocs/index.md (example)\n# pypkg\n\nA tiny library with `hello()`, `reg_coef()`, and the `snipes` dataset loader.\n\n## Quickstart\n```bash\npip install -e .\npython -c \"import pypkg; print(pypkg.hello())\"\n```\ndocs/api.md (auto API from docstrings)\n# API Reference\n\n::: pypkg\n4) Preview & build\n\nmkdocs serve     # local preview\nmkdocs build     # outputs site/\nmkdocs gh-deploy # (optional) deploy to GitHub Pages"
  },
  {
    "objectID": "lecture04.html#release-semver-same-rule-as-r-slides",
    "href": "lecture04.html#release-semver-same-rule-as-r-slides",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Release & SemVer (same rule as R slides)",
    "text": "Release & SemVer (same rule as R slides)\n\n0.1.0 → new features: MINOR; bugfix: PATCH; breaking: MAJOR.\nTag: git tag v0.1.0 && git push --tags\nBuild wheel, test in a fresh venv, then (optionally) TestPyPI → PyPI with twine."
  },
  {
    "objectID": "lecture04.html#install-from-github",
    "href": "lecture04.html#install-from-github",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Install from GitHub",
    "text": "Install from GitHub\nFor users (install from GitHub):\n\n# Option 1: Using pip and remotes (recommended)\npip install git+https://github.com/your-org/yourpkg@v0.1.0\n\n# Option 2: Using `pip install -e .` for editable installs (locally cloned repo)\ngit clone https://github.com/your-org/yourpkg\ncd yourpkg\npip install -e ."
  },
  {
    "objectID": "lecture04.html#quick-recap-r-py",
    "href": "lecture04.html#quick-recap-r-py",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Quick recap (R ↔︎ Py)",
    "text": "Quick recap (R ↔︎ Py)\n\nhello() → printed message ⟷ returns/prints in Python.\nsnipes dataset → load_snipes() with packaged CSV.\nregression coefficients → reg_coef() via NumPy OLS.\nexamples → examples/eg_reg_coef.py (like inst/examples).\ntests → pytest (like testthat).\nCI → Actions (lite).\ndocs/release → optional MkDocs, SemVer tags + wheel upload."
  },
  {
    "objectID": "lecture04.html#when-should-you-create-a-library",
    "href": "lecture04.html#when-should-you-create-a-library",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "When should you create a library?",
    "text": "When should you create a library?\n\nRule of Three: you’ve copied the same functions across ≥ 3 projects.\nAudience &gt; you: teammates/students need to reuse your code.\nStable core idea: function names/arguments won’t change every week.\nTesting matters: you’re willing to add automated tests (testthat/pytest).\nVersioning matters: you want SemVer to communicate changes.\nDocs exist: you can write a README and minimal usage examples (vignette/doc page).\nMultiple environments: others will run it on different machines/OS."
  },
  {
    "objectID": "lecture04.html#when-not-yet",
    "href": "lecture04.html#when-not-yet",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "When not (yet)",
    "text": "When not (yet)\n\nOne-off notebook/report: no planned reuse.\nSpike/prototype: API and data shapes still change daily.\nEntangled secrets/paths: credentials or local file paths mixed with logic.\nHuge assets: gigabytes of data/binaries—ship loaders, not raw assets.\nNo maintainer bandwidth: can’t commit to fixes/docs/release bumps.\n\n\nHeuristic: if you’d hesitate to fix a bug reported by someone else, don’t package yet."
  },
  {
    "objectID": "lecture04.html#why-oop",
    "href": "lecture04.html#why-oop",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Why OOP?",
    "text": "Why OOP?\n\n\n\nTame complexity. Large codebases drift into “spaghetti code” when everything touches everything. OOP groups data + behavior into cohesive modules (classes) with clear interfaces.\nReuse & extension. Add new features by creating new classes or methods—without rewriting callers (polymorphism).\nSafer changes. Internals can evolve behind the interface (encapsulation), reducing ripple effects and regressions.\n\n\n\n\n\n\n\nNote\n\n\nContext: The “spaghetti code” idea is often cited in post-mortems of complex systems (e.g., discussions around large automotive software stacks). Clear module boundaries and interfaces are a first line of defense, (see Toyota 2013 case study)"
  },
  {
    "objectID": "lecture04.html#part-i-r-functions-s3-oop",
    "href": "lecture04.html#part-i-r-functions-s3-oop",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Part I — R Functions & S3 OOP",
    "text": "Part I — R Functions & S3 OOP"
  },
  {
    "objectID": "lecture04.html#function",
    "href": "lecture04.html#function",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Function",
    "text": "Function"
  },
  {
    "objectID": "lecture04.html#everything-is-a-function-call",
    "href": "lecture04.html#everything-is-a-function-call",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "“Everything is a function call”",
    "text": "“Everything is a function call”\n\nA function has three components: arguments, a body, and an environment.\nSignalling conditions: errors (severe), warnings (mild), messages (informative).\nLexical scoping: dynamic lookup & name masking.\nEnvironments: current, global, empty, execution, package.\nComposition via nesting or piping (|&gt;).\n\n\n# A function is an object\nf &lt;- function(x) x + 1\ntypeof(f); formals(f); environment(f)"
  },
  {
    "objectID": "lecture04.html#signalling-conditions",
    "href": "lecture04.html#signalling-conditions",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Signalling conditions",
    "text": "Signalling conditions\n\n\n\nmessage(\"This is a friendly message\")\nwarning(\"This is a mild warning\")\ntry(stop(\"This is an error\"))\n\nError in try(stop(\"This is an error\")) : This is an error"
  },
  {
    "objectID": "lecture04.html#lexical-scoping",
    "href": "lecture04.html#lexical-scoping",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Lexical scoping",
    "text": "Lexical scoping\n\n\n\nx &lt;- 10\nouter &lt;- function() {\n  x &lt;- 5\n  inner &lt;- function() x\n  inner()\n}\nouter()  # 5: name masking\nx        # 10: global unchanged"
  },
  {
    "objectID": "lecture04.html#s3-oop-system",
    "href": "lecture04.html#s3-oop-system",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "S3 OOP system",
    "text": "S3 OOP system\n\nObject-oriented programming (OOP) is a popular programming paradigm.\nThe type of an object is a class and a function implemented for a specific class is a method.\nPolymorphism: function interface is separated from its implementation; behavior depends on class.\nEncapsulation: object interface is separated from its internal structure; users don’t need to worry about details. Encapsulation helps avoid spaghetti code.\nR has several OOP systems: S3, S4, R6, …\nS3 is the first R OOP system; it is informal (easy to modify) and widespread."
  },
  {
    "objectID": "lecture04.html#minimal-s3-example",
    "href": "lecture04.html#minimal-s3-example",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Minimal S3 example",
    "text": "Minimal S3 example\n\n# Minimal S3 example: generic + methods\narea &lt;- function(x, ...) UseMethod(\"area\")        # generic\n\n# constructor for a 'circle'\nnew_circle &lt;- function(radius) structure(list(radius = radius), class = \"circle\")\narea.circle &lt;- function(x, ...) pi * x$radius^2\n\n# constructor for a 'rectangle'\nnew_rectangle &lt;- function(w, h) structure(list(w = w, h = h), class = \"rectangle\")\narea.rectangle &lt;- function(x, ...) x$w * x$h\n\nc1 &lt;- new_circle(2)\nr1 &lt;- new_rectangle(3, 4)\narea(c1); area(r1)"
  },
  {
    "objectID": "lecture04.html#why-oop-1",
    "href": "lecture04.html#why-oop-1",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Why OOP?",
    "text": "Why OOP?\n\n\n\nUniform interfaces: one verb (e.g., summary(), plot()) works across many data types.\nSeparation of concerns: analyses call verbs; classes handle how.\nExtensibility: you can add behavior for new data types without touching old code.\nSafer refactoring: callers don’t change; class-specific methods evolve independently.\nDiscoverability: “What happens if I call summary() on this object?” → predictable, documented.\n\n\nIn R, this is powered by S3: a lightweight dispatch system that maps a generic (like summary) to a method (like summary.lm) based on the object’s class."
  },
  {
    "objectID": "lecture04.html#s3-oop-motivation",
    "href": "lecture04.html#s3-oop-motivation",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "S3 OOP — Motivation",
    "text": "S3 OOP — Motivation\n\nPolymorphism: same function name, different behavior by object class.\nLightweight encapsulation: use interfaces, not internals.\nInformal & flexible (no strict class declarations)."
  },
  {
    "objectID": "lecture04.html#polymorphism-example",
    "href": "lecture04.html#polymorphism-example",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Polymorphism example",
    "text": "Polymorphism example\n\nsummary(cars$speed)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    4.0    12.0    15.0    15.4    19.0    25.0 \n\nsummary(lm(cars$speed ~ cars$dist))\n\n\nCall:\nlm(formula = cars$speed ~ cars$dist)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-7.5293 -2.1550  0.3615  2.4377  6.4179 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  8.28391    0.87438   9.474 1.44e-12 ***\ncars$dist    0.16557    0.01749   9.464 1.49e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.156 on 48 degrees of freedom\nMultiple R-squared:  0.6511,    Adjusted R-squared:  0.6438 \nF-statistic: 89.57 on 1 and 48 DF,  p-value: 1.49e-12"
  },
  {
    "objectID": "lecture04.html#what-is-happening-dispatch",
    "href": "lecture04.html#what-is-happening-dispatch",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "What is happening? (dispatch)",
    "text": "What is happening? (dispatch)\n\nsloop::s3_dispatch(summary(cars$speed))\n\n   summary.double\n   summary.numeric\n=&gt; summary.default\n\nsloop::s3_dispatch(summary(lm(cars$speed ~ cars$dist)))\n\n=&gt; summary.lm\n * summary.default\n\nclass(cars$speed)\n\n[1] \"numeric\"\n\nclass(lm(cars$speed ~ cars$dist))\n\n[1] \"lm\"\n\n\n\n* method exists; =&gt; method selected."
  },
  {
    "objectID": "lecture04.html#peeking-at-generics-r",
    "href": "lecture04.html#peeking-at-generics-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Peeking at generics (R)",
    "text": "Peeking at generics (R)\n\nsummary\n\nfunction (object, ...) \nUseMethod(\"summary\")\n&lt;bytecode: 0x55780ebeff88&gt;\n&lt;environment: namespace:base&gt;\n\nhead(summary.default)\n\n                                                    \n1 function (object, ..., digits, quantile.type = 7) \n2 {                                                 \n3     if (is.factor(object))                        \n4         return(summary.factor(object, ...))       \n5     else if (is.matrix(object)) {                 \n6         if (missing(digits))                      \n\nhead(summary.lm)\n\n                                                               \n1 function (object, correlation = FALSE, symbolic.cor = FALSE, \n2     ...)                                                     \n3 {                                                            \n4     z &lt;- object                                              \n5     p &lt;- z$rank                                              \n6     rdf &lt;- z$df.residual"
  },
  {
    "objectID": "lecture04.html#forwarding-extra-arguments",
    "href": "lecture04.html#forwarding-extra-arguments",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "... — forwarding extra arguments",
    "text": "... — forwarding extra arguments\n\nf &lt;- function(...){ list(...) }\nf(a = 1, b = 2)\n\n$a\n[1] 1\n\n$b\n[1] 2\n\n\n\nUseful for generics and passing options forward."
  },
  {
    "objectID": "lecture04.html#write-a-generic-methods-r-s3",
    "href": "lecture04.html#write-a-generic-methods-r-s3",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Write a generic + methods (R, S3)",
    "text": "Write a generic + methods (R, S3)\n\nmy_new_generic &lt;- function(x, ...) {\n  UseMethod(\"my_new_generic\")\n}\n\nmy_new_generic.default &lt;- function(x, ...){\n  \"this is default method\"\n}\n\nmy_new_generic.lm &lt;- function(x, ...){\n  \"this is method for class `lm`\"\n}\n\nmy_new_generic(cars$speed)\nmy_new_generic(lm(cars$speed ~ cars$dist))"
  },
  {
    "objectID": "lecture04.html#check-the-dispatch-implicit-class",
    "href": "lecture04.html#check-the-dispatch-implicit-class",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Check the dispatch & implicit class",
    "text": "Check the dispatch & implicit class\n\nsloop::s3_dispatch(my_new_generic(cars$speed))\nsloop::s3_dispatch(my_new_generic(lm(cars$speed ~ cars$dist)))\nsloop::s3_class(cars$speed)  # implicit \"double\"\ntypeof(cars$speed)"
  },
  {
    "objectID": "lecture04.html#inheritance-multiple-classes",
    "href": "lecture04.html#inheritance-multiple-classes",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Inheritance (multiple classes)",
    "text": "Inheritance (multiple classes)\n\nclass(glm(cars$speed ~ cars$speed))\nsloop::s3_dispatch(summary(glm(cars$speed ~ cars$dist)))\nsloop::s3_dispatch(plot(glm(cars$speed ~ cars$dist)))\n\n\nIf a method isn’t found for the 1st class, R tries the next, and so on."
  },
  {
    "objectID": "lecture04.html#create-your-own-s3-class-quick-way",
    "href": "lecture04.html#create-your-own-s3-class-quick-way",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Create your own S3 class (quick way)",
    "text": "Create your own S3 class (quick way)\n\nset.seed(123)\nimage &lt;- matrix(rgamma(100, shape = 2), 10, 10)\nclass(image) &lt;- \"pixel\"\nattributes(image)"
  },
  {
    "objectID": "lecture04.html#create-your-own-s3-class-neater",
    "href": "lecture04.html#create-your-own-s3-class-neater",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Create your own S3 class (neater)",
    "text": "Create your own S3 class (neater)\n\nset.seed(123)\nimage &lt;- structure(\n  matrix(rgamma(100, shape = 2), 10, 10),\n  class = \"pixel\"\n)\n\n\nplot(image)  # No plot() method yet for class 'pixel'"
  },
  {
    "objectID": "lecture04.html#create-your-own-s3-class-with-a-constructor",
    "href": "lecture04.html#create-your-own-s3-class-with-a-constructor",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Create your own S3 class with a constructor",
    "text": "Create your own S3 class with a constructor\n\n# define a constructor for the 'pixel' class\nnew_pixel &lt;- function(mat) structure(mat, class = \"pixel\")\nset.seed(123)\nmat &lt;- matrix(rgamma(100, shape = 2), 10, 10)\nimage &lt;- new_pixel(mat)\n\n\n\n\n\n\n\nCaution\n\n\nHow can we make this constructor more robust?"
  },
  {
    "objectID": "lecture04.html#validators",
    "href": "lecture04.html#validators",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Validators",
    "text": "Validators\n\nMore complicated class require more complicated checks for validity.\nRather than making constructor complicated, we can define a validator function for the checks.\n\n\n# validator: enforce invariants\nvalidate_pixel &lt;- function(x) {\n  mat &lt;- unclass(x)\n  if(!is.matrix(mat) ||  !is.numeric(mat)) {\n    stop(\"A 'pixel' object must be a numeric matrix\", call. = FALSE)\n  }\n  x\n}"
  },
  {
    "objectID": "lecture04.html#extending-an-existing-generic-with-care",
    "href": "lecture04.html#extending-an-existing-generic-with-care",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Extending an existing generic (with care)",
    "text": "Extending an existing generic (with care)\n\nplot.pixel &lt;- function(x, ...) {\n  heatmap(x, ...)\n}\nsloop::s3_dispatch(plot(image))\n\n=&gt; plot.pixel\n * plot.default"
  },
  {
    "objectID": "lecture04.html#new-plot-for-class-pixel",
    "href": "lecture04.html#new-plot-for-class-pixel",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "New plot for class pixel",
    "text": "New plot for class pixel\n\nplot(image)"
  },
  {
    "objectID": "lecture04.html#forwarding-extra-options-with-...",
    "href": "lecture04.html#forwarding-extra-options-with-...",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Forwarding extra options with ...",
    "text": "Forwarding extra options with ...\n\nplot(image, col = cm.colors(256), xlab = \"x axis\", ylab = \"y axis\")"
  },
  {
    "objectID": "lecture04.html#to-go-further-r",
    "href": "lecture04.html#to-go-further-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "To go further (R)",
    "text": "To go further (R)\n\nAn Introduction to Statistical Programming Methods with R — Functions.\nAdvanced R (Hadley Wickham), Ch. 6–8 (functions), 12–16 (OOP: S3, S4, R6)."
  },
  {
    "objectID": "lecture04.html#part-ii-python-oop",
    "href": "lecture04.html#part-ii-python-oop",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Part II — Python OOP",
    "text": "Part II — Python OOP"
  },
  {
    "objectID": "lecture04.html#why-oop-in-python",
    "href": "lecture04.html#why-oop-in-python",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Why OOP in Python?",
    "text": "Why OOP in Python?\n\n\n\nClass-based OOP: define classes (blueprints) and create instances (houses).\nEncapsulation: group data (attributes) with behavior (methods).\nInheritance: share and extend behavior (code reuse).\nPolymorphism: same method name, different behaviors across types.\nGeneric functions with @singledispatch provide an R-S3-like feel when helpful."
  },
  {
    "objectID": "lecture04.html#classes-instances",
    "href": "lecture04.html#classes-instances",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Classes & instances",
    "text": "Classes & instances\n\nclass Dog:\n    def __init__(self, name):\n        self.name = name      # attribute\n    def speak(self):          # method\n        return f\"{self.name} says woof!\"\n\nd = Dog(\"Milo\")\nd.speak()\ntype(d), isinstance(d, Dog)\n\n\nclass defines a new type.\n__init__ is the constructor (like R’s new_*()).\nself is the instance being operated on. It’s just a naming convention (not a keyword), but always the first parameter of instance methods."
  },
  {
    "objectID": "lecture04.html#encapsulation-group-data-behavior",
    "href": "lecture04.html#encapsulation-group-data-behavior",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Encapsulation (group data + behavior)",
    "text": "Encapsulation (group data + behavior)\n\n\nclass Counter:\n    def __init__(self, start=0):\n        self._value = start   # underscore = “internal by convention”\n    def inc(self, step=1):\n        self._value += step\n    def value(self):\n        return self._value\n\nc = Counter(); c.inc(); c.value()"
  },
  {
    "objectID": "lecture04.html#inheritance-overriding",
    "href": "lecture04.html#inheritance-overriding",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Inheritance & overriding",
    "text": "Inheritance & overriding\n\nclass Animal:\n    def speak(self): return \"...\"\n\nclass Dog(Animal):\n    def speak(self): return \"woof\"\n\nclass Cat(Animal):\n    def speak(self): return \"meow\"\n\npets = [Dog(), Cat(), Animal()]\n[s.speak() for s in pets]     # polymorphism\nDog.__mro__                   # method resolution order"
  },
  {
    "objectID": "lecture04.html#polymorphism-same-message-different-response",
    "href": "lecture04.html#polymorphism-same-message-different-response",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Polymorphism (same message, different response)",
    "text": "Polymorphism (same message, different response)\n\n\ndef make_it_speak(animal):\n    print(animal.speak())\n\nfor a in [Dog(), Cat()]:\n    make_it_speak(a)"
  },
  {
    "objectID": "lecture04.html#generic-functions-with-singledispatch",
    "href": "lecture04.html#generic-functions-with-singledispatch",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Generic functions with @singledispatch",
    "text": "Generic functions with @singledispatch\n\nfrom functools import singledispatch\nimport statistics as stats\n\n@singledispatch\ndef describe(x):\n    return f\"Generic object of type {type(x).__name__}\"\n\n@describe.register(list)\ndef _(x: list):\n    return {\"len\": len(x), \"mean\": stats.mean(x)}\n\nclass LinReg:\n    def __init__(self, coef, intercept): self.coef, self.intercept = coef, intercept\n\n@describe.register(LinReg)\ndef _(m: LinReg):\n    return {\"coef\": m.coef, \"intercept\": m.intercept}\n\ndescribe([1,2,3]), describe(LinReg([0.5], 2.0))\n\n\n\n\n\n\n\nNote\n\n\nRule of thumb in Python:\n\nUse class methods when you control the class design.\nUse @singledispatch when you want an external, pluggable generic (like S3) that different modules can extend without modifying the original class."
  },
  {
    "objectID": "lecture04.html#composition-duck-typing",
    "href": "lecture04.html#composition-duck-typing",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Composition & duck typing",
    "text": "Composition & duck typing\n\nInterfaces by behavior: “if it quacks like a duck…”\nPrefer composition when inheritance isn’t needed.\n\n\nclass JsonWriter:\n    def write(self, obj): \n        import json; return json.dumps(obj)\n\nclass XmlWriter:\n    def write(self, obj):\n        return \"&lt;root&gt;...&lt;/root&gt;\"\n\ndef save(writer, obj):     # any object with .write() works\n    return writer.write(obj)\n\nsave(JsonWriter(), {\"a\":1})\nsave(XmlWriter(), {\"a\":1})\n\n\nsave doesn’t care what the writer is—only that it has .write().\n\nYou can plug in a new writer (CSV, YAML, DB, HTTP…) without touching save.\n\n\nPass in behavior (composition), don’t inherit it, when all you need is a capability."
  },
  {
    "objectID": "lecture04.html#a-tiny-generic-plot-analogy-to-rs-plot",
    "href": "lecture04.html#a-tiny-generic-plot-analogy-to-rs-plot",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "A tiny “generic plot” (analogy to R’s plot())",
    "text": "A tiny “generic plot” (analogy to R’s plot())\n\nimport numpy as np, matplotlib.pyplot as plt\nfrom functools import singledispatch\n\nclass Pixel:\n    def __init__(self, data): self.data = np.array(data)\n\n@singledispatch\ndef plot(obj): \n    raise TypeError(f\"Don't know how to plot {type(obj).__name__}\")\n\n@plot.register\ndef _(obj: Pixel):\n    plt.imshow(obj.data); plt.title(\"Pixel\"); plt.show()\n\nrng = np.random.default_rng(123)\nimage = rng.gamma(shape=2.0, scale=1.0, size=(10,10))\npx = Pixel(image)\nplot(px)"
  },
  {
    "objectID": "lecture04.html#to-go-further-python",
    "href": "lecture04.html#to-go-further-python",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "To go further (Python)",
    "text": "To go further (Python)\n\nPython tutorial on classes (docs.python.org)\nfunctools.singledispatch for generic functions\ninspect for introspection, abc for abstract base classes"
  },
  {
    "objectID": "lecture04.html#bridges-r-s3-python-oop",
    "href": "lecture04.html#bridges-r-s3-python-oop",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Bridges — R S3 ↔︎ Python OOP",
    "text": "Bridges — R S3 ↔︎ Python OOP\n\n\nGeneric function\n\nR: summary(x) → summary.&lt;class&gt; via S3 dispatch.\nPython: @singledispatch picks implementation by type.\n\nClass identity\n\nR S3: class(x) is an attribute; can be a vector (ordered inheritance).\nPython: type(x) is the class; inheritance via MRO chain.\n\nExtensibility\n\nR: add generic.class &lt;- function(x, ...) {} for known generics (mind ...).\nPython: @generic.register(Type) or subclass and override methods.\n\nScoping / environments vs namespaces\n\nR: function environments, lexical scoping.\nPython: LEGB (Local–Enclosing–Global–Builtins).\n\nVarargs\n\nR: ... ↔︎ Python: *args, **kwargs."
  },
  {
    "objectID": "lecture04.html#recap",
    "href": "lecture04.html#recap",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Recap",
    "text": "Recap\n\nOOP gives you uniform verbs, decoupled implementations, and extensibility.\nIn R, S3 makes this lightweight and idiomatic (summary, plot, coef, …).\nIn Python, classes + @singledispatch cover both class methods and generic functions."
  },
  {
    "objectID": "lecture04.html#case-study-r-s3-a-tiny-smoother-model",
    "href": "lecture04.html#case-study-r-s3-a-tiny-smoother-model",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Case study (R, S3): a tiny smoother model",
    "text": "Case study (R, S3): a tiny smoother model\nGoal: Create a simple “model” object that computes a moving-average fit and immediately works with summary() and plot() via S3.\n\n# Tiny moving average helper (base R)\nmovavg &lt;- function(z, k = 5) {\n  stopifnot(k %% 2 == 1, k &gt;= 3)\n  n &lt;- length(z); out &lt;- rep(NA_real_, n); h &lt;- k %/% 2\n  for (i in (1 + h):(n - h)) out[i] &lt;- mean(z[(i - h):(i + h)])\n  out\n}\n\n# Constructor returning an S3 object of class \"my_smooth\"\nmy_smooth &lt;- function(x, y, k = 5) {\n  stopifnot(length(x) == length(y))\n  o &lt;- order(x); x &lt;- x[o]; y &lt;- y[o]\n  structure(\n    list(x = x, y = y, k = k, fitted = movavg(y, k), call = match.call()),\n    class = \"my_smooth\"\n  )\n}"
  },
  {
    "objectID": "lecture04.html#case-study-r-s3-methods-usage",
    "href": "lecture04.html#case-study-r-s3-methods-usage",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Case study (R, S3): methods + usage",
    "text": "Case study (R, S3): methods + usage\n\n# Summary method\nsummary.my_smooth &lt;- function(object, ...) {\n  res &lt;- object$y - object$fitted\n  c(n = length(object$y),\n    k = object$k,\n    mse = mean(res^2, na.rm = TRUE))\n}\n\n# Plot method\nplot.my_smooth &lt;- function(x, ..., col_points = \"grey40\", pch = 19) {\n  plot(x$x, x$y, col = col_points, pch = pch,\n       xlab = \"x\", ylab = \"y\", main = \"my_smooth fit\", ...)\n  lines(x$x, x$fitted, lwd = 2)\n  legend(\"topleft\", bty = \"n\", legend = paste0(\"k = \", x$k))\n}\n\n# Fit on 'cars' and use generic verbs\nm &lt;- my_smooth(cars$dist, cars$speed, k = 5)\nsummary(m)\n\n\nplot(m)"
  },
  {
    "objectID": "lecture04.html#case-study-r-s3-what-dispatch-did",
    "href": "lecture04.html#case-study-r-s3-what-dispatch-did",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Case study (R, S3): what dispatch did",
    "text": "Case study (R, S3): what dispatch did\n\nsloop::s3_dispatch(summary(m))\nsloop::s3_dispatch(plot(m))\n\nTakeaways\n\nWe created a new class (\"my_smooth\") with a tiny constructor.\nBy adding summary.my_smooth and plot.my_smooth, existing verbs just work.\nAnalyses call generic verbs; class authors decide the behavior."
  },
  {
    "objectID": "lecture04.html#case-study-python-the-same-idea-with-classes-singledispatch",
    "href": "lecture04.html#case-study-python-the-same-idea-with-classes-singledispatch",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Case study (Python): the same idea with classes + @singledispatch",
    "text": "Case study (Python): the same idea with classes + @singledispatch\nGoal: Mirror the R idea: a small smoother class, plus generic summarize() and plot() that dispatch on type.\n\nimport numpy as np\n\nclass Smooth:\n    def __init__(self, x, y, k=5):\n        assert k % 2 == 1 and k &gt;= 3\n        idx = np.argsort(x)\n        self.x = np.array(x)[idx]\n        self.y = np.array(y)[idx]\n        self.k = k\n        self.fitted = self._movavg(self.y, k)\n\n    def _movavg(self, z, k):\n        n = len(z); out = np.full(n, np.nan); h = k // 2\n        for i in range(h, n - h):\n            out[i] = np.mean(z[i - h:i + h + 1])\n        return out"
  },
  {
    "objectID": "lecture04.html#case-study-python-generic-functions-usage",
    "href": "lecture04.html#case-study-python-generic-functions-usage",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Case study (Python): generic functions + usage",
    "text": "Case study (Python): generic functions + usage\n\nfrom functools import singledispatch\nimport numpy as np, matplotlib.pyplot as plt\n\n@singledispatch\ndef summarize(obj):\n    raise TypeError(f\"No summarize() for {type(obj).__name__}\")\n\n@summarize.register\ndef _(obj: Smooth):\n    res = obj.y - obj.fitted\n    return {\"n\": len(obj.y), \"k\": obj.k, \"mse\": float(np.nanmean(res**2))}\n\n@singledispatch\ndef plot(obj):\n    raise TypeError(f\"No plot() for {type(obj).__name__}\")\n\n@plot.register\ndef _(obj: Smooth):\n    plt.scatter(obj.x, obj.y, s=15)\n    plt.plot(obj.x, obj.fitted, linewidth=2)\n    plt.title(f\"Smooth (k={obj.k})\")\n    plt.xlabel(\"x\"); plt.ylabel(\"y\"); plt.show()\n\n# Example with 'cars'-like data (replace with real arrays in class)\ndist = [d for d in range(2, 122, 2)]\nrng = np.random.default_rng(123)\nspeed = (0.3*np.array(dist) + rng.normal(0, 3, len(dist))).tolist()\n\nm = Smooth(dist, speed, k=5)\nsummarize(m), plot(m)"
  },
  {
    "objectID": "lecture04.html#case-study",
    "href": "lecture04.html#case-study",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Case study",
    "text": "Case study\n\n\n\nSame verb, different types\n\nR: summary(m) → finds summary.my_smooth.\nPython: summarize(m) → @singledispatch picks the Smooth implementation.\n\nExtensibility\n\nAdd another class (e.g., my_tree) and define just two methods:\n\nR: summary.my_tree(), plot.my_tree()\nPython: @summarize.register(MyTree), @plot.register(MyTree)\n\n\nSeparation of concerns\n\nAnalysts keep calling the same verbs; class authors evolve internals safely."
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-r",
    "href": "lecture04.html#oop-exercise-in-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "OOP Exercise in R",
    "text": "OOP Exercise in R\nSetup (given): you have my_smooth(x, y, k) (constructor) with\nsummary.my_smooth() and plot.my_smooth() from the case study.\nA. Create and use an object 1) Build three models with different windows: k = 3, k = 7, k = 11.\n2) Call summary() on each.\n3) In 1–2 lines: which k fits best (lower MSE) on your data?\nB. Add a tiny exporter Add an S3 method to convert your object to a simple list:\n\nas.list.my_smooth &lt;- function(x, ...) {\n  list(x = x$x, y = x$y, fitted = x$fitted, k = x$k, call = x$call)\n}\n\nThen run: d &lt;- as.list(m7); names(d) Why is exporting to a plain list handy (think: saving, APIs, tests)?"
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-r-continued",
    "href": "lecture04.html#oop-exercise-in-r-continued",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "OOP Exercise in R (continued)",
    "text": "OOP Exercise in R (continued)\nC. Make a simple prediction Add a predict() S3 method using linear interpolation along the fitted curve:\n\npredict.my_smooth &lt;- function(object, xnew, ...) {\n  approx(object$x, object$fitted, xout = xnew, rule = 2)$y\n}\n\nTry: predict(m7, c(10, 20, 30)) and print the results.\nD. Plot (optional) Plot your three models and briefly describe how increasing k changes smoothness:\n\npar(mfrow = c(1,3))\nplot(m3, main = \"k=3\");  plot(m7, main = \"k=7\");  plot(m11, main = \"k=11\")\npar(mfrow = c(1,1))"
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-python",
    "href": "lecture04.html#oop-exercise-in-python",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "OOP Exercise in Python",
    "text": "OOP Exercise in Python\nSetup (given): you have Smooth(x, y, k=5) from the case study, plus:\n\n@singledispatch\ndef summarize(obj): ...\n@summarize.register\ndef _(m: Smooth): ...\n\nA. Create and use an object\n\nMake a Smooth with k = 3, k = 7, k = 11.\nCall summarize() on each.\nIn 1–2 lines: which k fits best (lower MSE) on your data?\n\nB. Add a tiny method Add this method inside Smooth:\n\ndef to_dict(self):\n    return {\"x\": self.x.tolist(),\n            \"y\": self.y.tolist(),\n            \"fitted\": np.nan_to_num(self.fitted).tolist(),\n            \"k\": int(self.k)}\n\nThen do: d = m.to_dict() and print the keys. Why is this useful?"
  },
  {
    "objectID": "lecture04.html#oop-exercise-in-python-continued",
    "href": "lecture04.html#oop-exercise-in-python-continued",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "OOP Exercise in Python (continued)",
    "text": "OOP Exercise in Python (continued)\nC. Make a simple prediction Add inside Smooth:\n\ndef predict(self, x_new):\n    # linear interpolation on the fitted curve\n    return np.interp(x_new, self.x, np.nan_to_num(self.fitted))\n\nTry predict([10, 20, 30]) and print the results.\nD. Plot (optional) Make a function:\ndef quick_plot(m):\n    plt.scatter(m.x, m.y, s=12)\n    plt.plot(m.x, m.fitted, linewidth=2)\n    plt.title(f\"Smooth (k={m.k})\"); plt.xlabel(\"x\"); plt.ylabel(\"y\"); plt.show()\nPlot your three models; in 1–2 lines, say how increasing k changes smoothness."
  },
  {
    "objectID": "lecture04.html#functional-programming-1",
    "href": "lecture04.html#functional-programming-1",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Functional programming",
    "text": "Functional programming\n\nA paradigm emphasizing pure functions (no side effects), immutability, and declarative style.\nBenefits: maintainable, predictable, and scalable (parallelizable) code.\nKey concepts:\n\nPure function: same output for same input; no side effects.\nFirst-class functions: can be passed, returned, stored.\nHigher-order functions: take/return functions."
  },
  {
    "objectID": "lecture04.html#pure-function",
    "href": "lecture04.html#pure-function",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Pure function",
    "text": "Pure function\n\nA pure function always produces the same output for the same input.\nIs rnorm a pure function?\n\n\nset.seed(123)\nrnorm(5)"
  },
  {
    "objectID": "lecture04.html#pure-function-continued",
    "href": "lecture04.html#pure-function-continued",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Pure function (continued)",
    "text": "Pure function (continued)\n\nset.seed(123)\nrnorm(5)\nset.seed(124)\nrnorm(5)\n\n\nSame explicit call but different internal RNG state → rnorm is not pure."
  },
  {
    "objectID": "lecture04.html#first-class-functions-pass-as-argument",
    "href": "lecture04.html#first-class-functions-pass-as-argument",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "First-class functions — pass as argument",
    "text": "First-class functions — pass as argument\n\nf &lt;- function(g) g(rnorm(10))\nf(sum); f(max); f(mean)"
  },
  {
    "objectID": "lecture04.html#first-class-functions-returning-a-function",
    "href": "lecture04.html#first-class-functions-returning-a-function",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "First-class functions — returning a function",
    "text": "First-class functions — returning a function\n\nmakeMultiplier &lt;- function(factor) {\n  function(x) x * factor\n}\n\ntimesFive &lt;- makeMultiplier(5)\ntimesFive(10)\n\n\nSee Function factories."
  },
  {
    "objectID": "lecture04.html#function-operators-higher-order",
    "href": "lecture04.html#function-operators-higher-order",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Function operators / higher-order",
    "text": "Function operators / higher-order\n\napplyTwice &lt;- function(func) {\n  function(x) func(func(x))\n}\naddTwo &lt;- function(x) x + 2\napplyTwice(addTwo)(3)\n\n\nSee Function operators."
  },
  {
    "objectID": "lecture04.html#from-for-loops-to-functionals-squares-r",
    "href": "lecture04.html#from-for-loops-to-functionals-squares-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "From for loops to functionals — squares (R)",
    "text": "From for loops to functionals — squares (R)\n\n\n\n# Using a for loop to calculate squares\nn &lt;- 5\nresult &lt;- vector(\"list\", n)\nfor (i in 1:n) result[[i]] &lt;- i^2\nresult\n\n\n\n# Functional approach with purrr\nlibrary(purrr)\nmap(1:n, ~ .^2)"
  },
  {
    "objectID": "lecture04.html#from-for-loops-to-functionals-sum",
    "href": "lecture04.html#from-for-loops-to-functionals-sum",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "From for loops to functionals — sum",
    "text": "From for loops to functionals — sum\n\n\n\n# for loop\na &lt;- 0\nfor (i in 1:10) a &lt;- a + i\na\n\n\n\n# Reduce\nReduce(`+`, 1:10)"
  },
  {
    "objectID": "lecture04.html#purrrmap-r",
    "href": "lecture04.html#purrrmap-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "purrr::map() (R)",
    "text": "purrr::map() (R)\n\n\n\nmap(v, f) applies f to each element of v and returns a list.\n\n\nlibrary(purrr)\nmap(1:3, exp)\n# base R equivalent\nlapply(1:3, exp)"
  },
  {
    "objectID": "lecture04.html#returning-atomic-vectors",
    "href": "lecture04.html#returning-atomic-vectors",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Returning atomic vectors",
    "text": "Returning atomic vectors\n\nmap / lapply return a list; sometimes you want an atomic vector.\nUse map_lgl(), map_int(), map_dbl(), map_chr() or base sapply / vapply.\n\n\n\n\n# purrr typed maps\nmap_dbl(1:4, exp)\n\n\n\n# base R\nsapply(1:4, exp)\n# vapply needs a template\nvapply(1:4, FUN = exp, FUN.VALUE = double(1))"
  },
  {
    "objectID": "lecture04.html#inline-anonymous-functions",
    "href": "lecture04.html#inline-anonymous-functions",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Inline anonymous functions",
    "text": "Inline anonymous functions\nThere are situations where the function you want to pass does not exist yet. Use an inline anonymous function (aka lambda).\n\n\n\n# purrr formula shortcut\nmap_int(1:4, ~ if (.x %% 2 == 0) .x^2 else .x^3)\n\n\n\n# base R anonymous function\nsapply(1:4, function(x) if (x %% 2 == 0) x^2 else x^3)"
  },
  {
    "objectID": "lecture04.html#variants-to-purrrmap",
    "href": "lecture04.html#variants-to-purrrmap",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Variants to purrr::map()",
    "text": "Variants to purrr::map()\n\n\nmap2 takes two vectors v1, v2 and a function f and returns f(v1[i], v2[i]).\n\nwt &lt;- c(5,5,4,1)/15\nwtL &lt;- list(wt, wt, wt)\nx &lt;- list(c(6,4.5,5,4), c(5.5,5,4.5,6), c(6,6,4,4))\nmap2_dbl(x, wtL, weighted.mean)"
  },
  {
    "objectID": "lecture04.html#pmap-generalization-r",
    "href": "lecture04.html#pmap-generalization-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "pmap generalization (R)",
    "text": "pmap generalization (R)\n\n\n\nl1 &lt;- as.list(1:3)\nl2 &lt;- as.list(4:6)\nl3 &lt;- as.list(7:9)\ncalculate_sum &lt;- function(e1,e2,e3) e1+e2+e3\npmap(list(l1,l2,l3), calculate_sum)"
  },
  {
    "objectID": "lecture04.html#variants-to-sapply-r",
    "href": "lecture04.html#variants-to-sapply-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Variants to sapply (R)",
    "text": "Variants to sapply (R)\n\nmapply generalizes sapply to many inputs.\nMap vectorizes over all arguments (no extra non-vectorized input allowed).\n\n\n\n\n# mapply weighted means\nwt &lt;- c(5,5,4,1)/15\nwtL &lt;- list(wt, wt, wt)\nx &lt;- list(c(6,4.5,5,4), c(5.5,5,4.5,6), c(6,6,4,4))\nmapply(FUN = weighted.mean, x, wtL)\n\n\n\n# Map over all arguments\nMap(f = weighted.mean, x, wtL)"
  },
  {
    "objectID": "lecture04.html#outer-product-r",
    "href": "lecture04.html#outer-product-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "outer product (R)",
    "text": "outer product (R)\n\nouter(X = c(\"a\",\"b\",\"c\"), Y = c(\"1\",\"2\",\"3\",\"4\"), FUN = paste0)"
  },
  {
    "objectID": "lecture04.html#common-higher-order-functions-in-fp-r",
    "href": "lecture04.html#common-higher-order-functions-in-fp-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Common higher-order functions in FP (R)",
    "text": "Common higher-order functions in FP (R)\n\nHigher-order = take/return functions.\nReduce applies a binary function iteratively to elements of a vector.\n\n\n\n\nReduce(`+`, 1:10)"
  },
  {
    "objectID": "lecture04.html#rs-vectorization",
    "href": "lecture04.html#rs-vectorization",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "R’s vectorization",
    "text": "R’s vectorization\n\n\n\n# Using map/lapply\nlibrary(purrr)\nmap(1:2, exp)\nlapply(1:2, exp)\n\n\n\n# But exp is already vectorized\nexp(1:2)"
  },
  {
    "objectID": "lecture04.html#vectorizing-a-function-r-pitfall-then-fix",
    "href": "lecture04.html#vectorizing-a-function-r-pitfall-then-fix",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Vectorizing a function (R): pitfall then fix",
    "text": "Vectorizing a function (R): pitfall then fix\n\n# return square if even, cube otherwise\nf &lt;- function(x) if (x %% 2 == 0) x^2 else x^3\nf(1:4)  # error: non-scalar if"
  },
  {
    "objectID": "lecture04.html#vectorizing-a-function-r-vectorize",
    "href": "lecture04.html#vectorizing-a-function-r-vectorize",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Vectorizing a function (R): Vectorize",
    "text": "Vectorizing a function (R): Vectorize\n\nvf &lt;- Vectorize(FUN = f, vectorize.args = \"x\")\nvf(1:4)"
  },
  {
    "objectID": "lecture04.html#vectorizing-a-function-r-ifelse",
    "href": "lecture04.html#vectorizing-a-function-r-ifelse",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Vectorizing a function (R): ifelse",
    "text": "Vectorizing a function (R): ifelse\n\nifelse(1:4 %% 2 == 0, (1:4)^2, (1:4)^3)"
  },
  {
    "objectID": "lecture04.html#parallelism-r",
    "href": "lecture04.html#parallelism-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Parallelism (R)",
    "text": "Parallelism (R)\n\nBenefits of FP include scalability and parallelism.\nMany problems are embarrassingly parallel.\nparallel ships with R and offers parallelized *apply variants.\n\n\nlibrary(parallel)\ndetectCores()\n\n\nThis is the total number of threads (Hyper-Threading), not physical cores."
  },
  {
    "objectID": "lecture04.html#forking-with-mclapply-r",
    "href": "lecture04.html#forking-with-mclapply-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Forking with mclapply (R)",
    "text": "Forking with mclapply (R)\n\nmeasure_time &lt;- function(x){\n  t1 &lt;- Sys.time(); Sys.sleep(x); t2 &lt;- Sys.time()\n  difftime(t2,t1,units=\"secs\")\n}"
  },
  {
    "objectID": "lecture04.html#forking-with-mclapply-r-1",
    "href": "lecture04.html#forking-with-mclapply-r-1",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Forking with mclapply (R)",
    "text": "Forking with mclapply (R)\n\nlibrary(parallel)\nt1 &lt;- Sys.time()\nmclapply(1:5, measure_time, mc.cores = 5)\nt2 &lt;- Sys.time()\nsprintf(\"In total, it took %.1f seconds to run\", as.numeric(difftime(t2,t1,units=\"secs\")))"
  },
  {
    "objectID": "lecture04.html#socket-cluster-with-parlapply-r",
    "href": "lecture04.html#socket-cluster-with-parlapply-r",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Socket cluster with parLapply (R)",
    "text": "Socket cluster with parLapply (R)\n\nlibrary(parallel)\ncl &lt;- makeCluster(5)\nt1 &lt;- Sys.time()\nparLapply(cl, 1:5, measure_time)\nt2 &lt;- Sys.time()"
  },
  {
    "objectID": "lecture04.html#socket-cluster-with-parlapply-r-1",
    "href": "lecture04.html#socket-cluster-with-parlapply-r-1",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Socket cluster with parLapply (R)",
    "text": "Socket cluster with parLapply (R)\n\nstopCluster(cl)\nsprintf(\"In total, it took %.1f seconds to run\", as.numeric(difftime(t2,t1,units=\"secs\")))"
  },
  {
    "objectID": "lecture04.html#python-counterparts",
    "href": "lecture04.html#python-counterparts",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "Python counterparts",
    "text": "Python counterparts\n\nPython is multi-paradigm. It supports functional programming (FP) alongside OOP and imperative styles.\nFunctional tools: map/filter, comprehensions, itertools, functools.reduce/partial/lru_cache.\nVectorization is via NumPy (ufuncs). Parallelism via concurrent.futures / multiprocessing.\nDefaults are eager at definition time (vs. R’s lazy promises); use the None pattern for dynamic defaults."
  },
  {
    "objectID": "lecture04.html#to-go-further",
    "href": "lecture04.html#to-go-further",
    "title": "Lecture 4 — Software Engineering for Data Science",
    "section": "To go further",
    "text": "To go further\n\nR: Advanced R — Functionals, Function factories, Function operators.\nR: purrr cheatsheet.\nR: Loop Functions & Parallel Computation in R Programming for Data Science."
  },
  {
    "objectID": "lecture02.html#big-picture",
    "href": "lecture02.html#big-picture",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Big picture",
    "text": "Big picture\n\nLLMs (ChatGPT, Gemini, Claude, LLaMA): great for ideation, scaffolding code, refactoring; not ground truth.\nQuarto = literate programming hub: one doc, code+text+figures → HTML/PDF/slides.\nGit/GitHub: version control + collaboration (branches, PRs, reviews).\nReproducibility: lock environments, script everything, document decisions."
  },
  {
    "objectID": "lecture02.html#llms-use-wisely",
    "href": "lecture02.html#llms-use-wisely",
    "title": "Lecture 2 — Programming Foundations",
    "section": "LLMs — use wisely",
    "text": "LLMs — use wisely\n\nStrengths: productivity, learning, boilerplate, code review.\nRisks: hallucinations, missing context, ethics/licensing.\nGood habits: give clear prompts + context, ask for tests, verify outputs."
  },
  {
    "objectID": "lecture02.html#quarto-essentials",
    "href": "lecture02.html#quarto-essentials",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Quarto essentials",
    "text": "Quarto essentials\n\nMarkdown + YAML header (title, format, options).\nCode chunks (R/Python), chunk options: echo, eval, warning, fig-*.\nFigures & tables: knitr::kable(), kableExtra; equations (Mathpix helpful).\nLive preview; keep content modular."
  },
  {
    "objectID": "lecture02.html#gitgithub-workflow",
    "href": "lecture02.html#gitgithub-workflow",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Git/GitHub workflow",
    "text": "Git/GitHub workflow\n\nSmall commits with clear messages.\nBranch → PR → review → merge.\nHandle conflicts; use issues/templates.\n“New habits”: automate repeated steps; write READMEs."
  },
  {
    "objectID": "lecture02.html#reproducibility-kit",
    "href": "lecture02.html#reproducibility-kit",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Reproducibility kit",
    "text": "Reproducibility kit\n\nR: renv::init(); snapshot(); restore()\nPython: venv/Poetry/Conda + lockfile\nDeterminism: pin versions; set seeds; record data sources."
  },
  {
    "objectID": "lecture02.html#from-last-time-tasks",
    "href": "lecture02.html#from-last-time-tasks",
    "title": "Lecture 2 — Programming Foundations",
    "section": "From last time — tasks",
    "text": "From last time — tasks\n\nInstall: Git, GitHub account, Quarto, R (+renv), Python (venv/Conda).\nCreate a starter repo with a Quarto doc; push to GitHub.\nTry one mini-exercise (R / Python / Quarto / GitHub).\nOptional bonus: present a short solution next practical."
  },
  {
    "objectID": "lecture02.html#primary-scalar-types",
    "href": "lecture02.html#primary-scalar-types",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Primary (scalar) types",
    "text": "Primary (scalar) types\n\nRPython\n\n\n\ninteger: 2L, 12L\ndouble (real): -4, 12.4532, 6\nlogical: TRUE, FALSE (also T, F)\ncharacter: \"a\", \"Bonjour\"\n(also: complex, raw)\n\n\ntypeof(12.5); typeof(2L); typeof(TRUE); typeof(\"hi\")\n\n\n\n\nint: -4, 6\nfloat: 12.4532\nbool: True, False\nstr: 'a', \"Bonjour\"\n(also: complex, bytes)\n\n\ntype(12.5), type(2), type(True), type(\"hi\")"
  },
  {
    "objectID": "lecture02.html#reserved-special-values",
    "href": "lecture02.html#reserved-special-values",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Reserved / special values",
    "text": "Reserved / special values\n\nRPython\n\n\n\nMissing: NA, typed variants NA_real_, NA_integer_, NA_character_, …\nInfinity / NaN: Inf, NaN\nNull object: NULL\nControl words: if, else, repeat, while, function, for, in, next, break\n\n\nc(NA, Inf, NaN, NULL)\n\n\n\n\nMissing: None (object), numerical missing often math.nan or numpy.nan / pandas.NA\nInfinity / NaN: math.inf, float('inf'), math.nan\nKeywords: if, else, for, while, def, in, break, continue, class, …\n\n\nimport math\n[None, math.inf, math.nan]"
  },
  {
    "objectID": "lecture02.html#inspecting-and-coercing-types",
    "href": "lecture02.html#inspecting-and-coercing-types",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Inspecting and coercing types",
    "text": "Inspecting and coercing types\n\nR: typeof, is.*, as.*Python: type, isinstance, casting\n\n\n\ntypeof(2L)              # \"integer\"\nis.double(2L)           # FALSE\nas.double(2L)           # 2\n\n\n\n\ntype(2) is int          # True\nisinstance(2.0, float)  # True\nint(2.9), float(\"3.1\"), str(True)"
  },
  {
    "objectID": "lecture02.html#nondeterminism-in-llm",
    "href": "lecture02.html#nondeterminism-in-llm",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Nondeterminism in LLM",
    "text": "Nondeterminism in LLM\n\nFloating-point arithmetic in GPUs exhibits non-associativity, meaning \\((a+b)+c\\neq a+(b+c)\\) due to finite precision and rounding errors. This property directly impacts the computation of attention scores and logits in the transformer architecture, where parallel operations across multiple threads can yield different results based on execution order.\nHorace He in collaboration with others at Thinking Machines\n\n\n\n\n\n\n\nNote\n\n\nRead the full article here"
  },
  {
    "objectID": "lecture02.html#testing-floating-point-non-associativity",
    "href": "lecture02.html#testing-floating-point-non-associativity",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Testing floating-point non-associativity",
    "text": "Testing floating-point non-associativity\nWhat do you obtain if you run this in Python/R?\n\n(0.1 + 1e20) - 1e20\n0.1 + (1e20 - 1e20)\n\nIf you replace 20 by another smaller integer, do you get the same result? At which integer do you start to get the same result? Why?"
  },
  {
    "objectID": "lecture02.html#testing-floating-point-non-associativity-1",
    "href": "lecture02.html#testing-floating-point-non-associativity-1",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Testing floating-point non-associativity",
    "text": "Testing floating-point non-associativity\n\nRPython\n\n\n\noptions(digits = 22)\nf &lt;- function(n) (0.1 + 10^n) - 10^n\nc(n20 = f(20), n16 = f(16), n15 = f(15), n14 = f(14))\n0.1 + (10^20 - 10^20)\n\n\n\n\nimport math\ndef f(n): return (0.1 + 10.0**n) - 10.0**n\nprint({ 'n20': f(20), 'n16': f(16), 'n15': f(15), 'n14': f(14) })\nprint(0.1 + (10.0**20 - 10.0**20))\n\n\n\n\nKey idea: near large magnitudes, the ULP is so big that small addends vanish or round to the nearest ULP, breaking associativity."
  },
  {
    "objectID": "lecture02.html#homogeneous-vs-heterogeneous-structures",
    "href": "lecture02.html#homogeneous-vs-heterogeneous-structures",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Homogeneous vs heterogeneous structures",
    "text": "Homogeneous vs heterogeneous structures\n\n\n\n\n\n\n\n\n\n\nDimension\nR homogeneous\nR heterogeneous\nPython homogeneous\nPython heterogeneous\n\n\n\n\n1\natomic vector\nlist\nNumPy array\nlist, tuple\n\n\n2\nmatrix\ndata.frame / tibble\nNumPy ndarray (2D)\npandas DataFrame\n\n\nn\narray\n—\nNumPy ndarray (nD)\n—\n\n\n\n\nRule of thumb: R vectors are homogeneous; Python lists are heterogeneous. For homogeneous numerics in Python, use NumPy."
  },
  {
    "objectID": "lecture02.html#vectors-r-vs-lists-arrays-python",
    "href": "lecture02.html#vectors-r-vs-lists-arrays-python",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Vectors (R) vs Lists / Arrays (Python)",
    "text": "Vectors (R) vs Lists / Arrays (Python)\n\nR — atomic vectorPython — list (heterogeneous)Python — NumPy array (homogeneous)\n\n\n\nx &lt;- c(1, 2, 8, 10)\nlength(x); typeof(x)\n\n\n\n\nx = [1, 2, 8, 10]\nlen(x), type(x)\n\n\n\n\nimport numpy as np\nx = np.array([1, 2, 8, 10])\nx.dtype, x.shape"
  },
  {
    "objectID": "lecture02.html#assignment",
    "href": "lecture02.html#assignment",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Assignment",
    "text": "Assignment\n\nRPython\n\n\n\ngrand_slam_win &lt;- c(16, 19, 20, 0, 0)\n\n\n\n\ngrand_slam_win = [16, 19, 20, 0, 0]"
  },
  {
    "objectID": "lecture02.html#subsetting-key-differences",
    "href": "lecture02.html#subsetting-key-differences",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Subsetting — key differences",
    "text": "Subsetting — key differences\n\nIndex origin: R is 1-based, Python is 0-based.\nNegative indices: R -i excludes element i; Python -i indexes from the end.\nLogical indexing: R uses logical vectors; Python uses list comprehensions / boolean masks (NumPy/pandas).\n\n\nRPython (list)Python (NumPy)\n\n\n\nx &lt;- c(10, 20, 30, 40)\nx[1]           # 10\nx[-1]          # drop first\nx[c(TRUE,FALSE,TRUE,FALSE)]  # logical mask\n\n\n\n\nx = [10, 20, 30, 40]\nx[0]           # 10\nx[-1]          # last element (40)\n# logical mask via comprehension\n[xi for i, xi in enumerate(x) if i in (0,2)]\n\n\n\n\nimport numpy as np\nx = np.array([10,20,30,40])\nx[[0,2]]\nmask = np.array([True, False, True, False])\nx[mask]"
  },
  {
    "objectID": "lecture02.html#coercion-in-homogeneous-containers",
    "href": "lecture02.html#coercion-in-homogeneous-containers",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Coercion in homogeneous containers",
    "text": "Coercion in homogeneous containers\n\nR vector coercion: logical &lt; integer &lt; double &lt; character.\nPython list: no automatic coercion.\nNumPy array: coerces to common dtype.\n\n\nRPython (list)Python (NumPy)\n\n\n\nc(TRUE, 12, 0.5)  # coerces to double\n\n\n\n\n[True, 12, 0.5]   # stays mixed types\n\n\n\n\nimport numpy as np\nnp.array([True, 12, 0.5])    # dtype: float64"
  },
  {
    "objectID": "lecture02.html#attributes-names",
    "href": "lecture02.html#attributes-names",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Attributes & names",
    "text": "Attributes & names\n\nRPython (pandas)\n\n\n\ngrand_slam_win &lt;- c(16, 19, 20, 0, 0)\nnames(grand_slam_win) &lt;- c(\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\")\nattr(grand_slam_win, \"date\") &lt;- \"2019-09-30\"\nattributes(grand_slam_win)\n\n\n\n\nimport pandas as pd\ns = pd.Series([16,19,20,0,0], index=[\n    \"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\"])\ns.attrs[\"date\"] = \"2019-09-30\"\ns.attrs"
  },
  {
    "objectID": "lecture02.html#sequences",
    "href": "lecture02.html#sequences",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Sequences",
    "text": "Sequences\n\nRPython\n\n\n\n1:3\nseq_len(3)\nseq(1, 2.8, by = 0.4)\nseq(1, 2.8, length.out = 6)\nrep(c(1,2), times = 3, each = 1)\n\n\n\n\nlist(range(1,4))\nlist(range(3,0,-1))\n\n# numpy linspace/arange\nimport numpy as np\nnp.linspace(1, 2.8, 6)\nnp.arange(1, 2.9, 0.4)\n# repetition\n[1,2]*3"
  },
  {
    "objectID": "lecture02.html#useful-vector-ops",
    "href": "lecture02.html#useful-vector-ops",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Useful vector ops",
    "text": "Useful vector ops\n\nRPython\n\n\n\nlength(grand_slam_win)\nsum(grand_slam_win)\nmean(grand_slam_win)\norder(grand_slam_win)\nsort(grand_slam_win)\n\n\n\n\nx = [16,19,20,0,0]\nlen(x), sum(x)\nsorted(x)\n\n# mean via statistics or numpy\nimport statistics as st\nst.mean(x)"
  },
  {
    "objectID": "lecture02.html#matrices-2d-arrays",
    "href": "lecture02.html#matrices-2d-arrays",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Matrices / 2D arrays",
    "text": "Matrices / 2D arrays\n\nR — matrixPython — numpy.ndarray\n\n\n\nM &lt;- matrix(1:12, nrow = 3, ncol = 4)\nM; is.matrix(M); dim(M); nrow(M); ncol(M)\nt(M)\n# Elementwise vs matrix mult\nM * M\nM %*% t(M)\n\n\n\n\nimport numpy as np\nM = np.arange(1,13).reshape(3,4)\nM, M.shape\nM.T\nM * M          # elementwise\nM @ M.T        # matrix mult"
  },
  {
    "objectID": "lecture02.html#lists-r-vs-dictlist-python",
    "href": "lecture02.html#lists-r-vs-dictlist-python",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Lists (R) vs dict/list (Python)",
    "text": "Lists (R) vs dict/list (Python)\n\nR — list (heterogeneous)Python — dict / list\n\n\n\nnum_vec &lt;- c(188, 140)\nchar_vec &lt;- c(\"Height\", \"Weight\", \"Length\")\nlogic_vec &lt;- rep(TRUE, 8)\nmy_mat &lt;- matrix(seq_len(10), nrow = 2, ncol = 5)\nmy_list &lt;- list(number = num_vec, character = char_vec, logic = logic_vec, matrix = my_mat)\ntypeof(my_list)\nmy_list[[\"matrix\"]][,3]\n\n\n\n\nmy_dict = {\n  \"number\": [188, 140],\n  \"character\": [\"Height\",\"Weight\",\"Length\"],\n  \"logic\": [True]*8,\n  \"matrix\": [[1,2,3,4,5],[6,7,8,9,10]]\n}\nmy_dict[\"matrix\"][0][2]"
  },
  {
    "objectID": "lecture02.html#data-frames-tibbles-vs-pandas-dataframe",
    "href": "lecture02.html#data-frames-tibbles-vs-pandas-dataframe",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Data frames / tibbles vs pandas DataFrame",
    "text": "Data frames / tibbles vs pandas DataFrame\n\nRPython\n\n\n\nplayers &lt;- c(\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\")\ngrand_slam_win &lt;- c(16,19,20,0,0)\ndate_of_birth &lt;- c(\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\")\n(tennis &lt;- data.frame(date_of_birth, grand_slam_win, row.names = players))\nis.data.frame(tennis)\nstr(tennis)\n\n\n\n\nimport pandas as pd\nplayers = [\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\"]\ndf = pd.DataFrame({\n    \"date_of_birth\": [\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\"],\n    \"grand_slam_win\": [16,19,20,0,0]\n}, index=players)\ndf.info()\ndf.loc[:, [\"grand_slam_win\", \"date_of_birth\"]]"
  },
  {
    "objectID": "lecture02.html#subsetting-data-frames",
    "href": "lecture02.html#subsetting-data-frames",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Subsetting data frames",
    "text": "Subsetting data frames\n\nRPython\n\n\n\n# Like a list\ntenis_cols &lt;- tennis[c(\"grand_slam_win\", \"date_of_birth\")]\n# Like a matrix\nsame_cols &lt;- tennis[, c(\"grand_slam_win\", \"date_of_birth\")]\n\n\n\n\ncols = df[[\"grand_slam_win\", \"date_of_birth\"]]  # column subset\nrowcol = df.loc[[\"Rafael Nadal\", \"Roger Federer\"], [\"grand_slam_win\"]]"
  },
  {
    "objectID": "lecture02.html#dates",
    "href": "lecture02.html#dates",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Dates",
    "text": "Dates\n\nRPython\n\n\n\nplayers_dob &lt;- as.Date(c(\"22 May 1987\",\"3 Jun 1986\",\"8 Aug 1981\",\"11 Feb 1996\",\"3 Sep 1993\"), format = \"%d %b %Y\")\nplayers_dob\n\n\n\n\nimport pandas as pd\npd.to_datetime([\"22 May 1987\",\"3 Jun 1986\",\"8 Aug 1981\",\"11 Feb 1996\",\"3 Sep 1993\"], format=\"%d %b %Y\")"
  },
  {
    "objectID": "lecture02.html#mini-exercises-quick-wins",
    "href": "lecture02.html#mini-exercises-quick-wins",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercises (quick wins)",
    "text": "Mini-exercises (quick wins)\n\nIndexing: Let x &lt;- 3 * seq_len(4) (R) / x = [3*i for i in range(1,5)] (Py). Select the 2nd element via (a) positive, (b) negative, (c) logical (or comprehension) indexing.\nSorting: Sort x in descending order using (a) indices and (b) a built-in sorter.\nCoercion: In R, evaluate c(TRUE, 2, \"3\") — what happens? In Python, compare [True, 2, \"3\"] and np.array([True, 2, \"3\"]).\nMatrix ops: Create a 3×3 matrix / array and compute its transpose and A %*% A (R) / A @ A (Py).\n\n\nOptional: Show your answers in a short .qmd or notebook."
  },
  {
    "objectID": "lecture02.html#challenge-exercise-r-python",
    "href": "lecture02.html#challenge-exercise-r-python",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Challenge exercise (R & Python)",
    "text": "Challenge exercise (R & Python)\nTennis leaderboard\n\nBuild a table with players, DoB, wins.\nAdd a computed column: age in years (use as.Date(Sys.Date()) / pd.Timestamp.today()), then sort by age descending.\nPlot wins vs age.\n\nHints:\n\nR: mutate, lubridate::time_length(interval, 'years'), plot() or ggplot2.\nPython: pd.to_datetime, age via dt, df.sort_values, and matplotlib."
  },
  {
    "objectID": "lecture02.html#appendix-python-execution-in-knitr",
    "href": "lecture02.html#appendix-python-execution-in-knitr",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Appendix — Python execution in knitr",
    "text": "Appendix — Python execution in knitr\nIf Python chunks don’t execute:\n\nEnsure reticulate sees the right interpreter:\nreticulate::py_config()\nPoint to an environment that has numpy / pandas if used:\nreticulate::use_condaenv(\"dacm\", required = TRUE)\nOr disable execution of Python chunks during render with chunk option #| eval: false."
  },
  {
    "objectID": "lecture02.html#appendix-cheatsheet",
    "href": "lecture02.html#appendix-cheatsheet",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Appendix — Cheatsheet",
    "text": "Appendix — Cheatsheet\n\nIndexing: R 1-based; Python 0-based.\nNegative indices: R excludes; Python counts from end.\nHomogeneous numerics: R vectors; Python NumPy arrays.\nTabular: R data.frame/tibble; Python pandas DataFrame.\nMissing: R NA; Python None/NaN/pd.NA (context-dependent).\nMatrix mult: R %*%; Python @ (NumPy/pandas)."
  },
  {
    "objectID": "lecture02.html#mini-exercise-1-indexing",
    "href": "lecture02.html#mini-exercise-1-indexing",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 1: Indexing",
    "text": "Mini-exercise 1: Indexing\nTask: Let x &lt;- 3 * seq_len(4) (R) / x = [3*i for i in range(1,5)] (Py). Select the 2nd element via (a) positive, (b) negative, (c) logical/comprehension.\n\nRPython\n\n\n\nx &lt;- 3 * seq_len(4)   # 3 6 9 12\nx[2]                   # (a) positive\nx[-c(1,3,4)]           # (b) negative (keep only 2)\nx[c(FALSE, TRUE, FALSE, FALSE)]  # (c) logical\n\n\n\n\nx = [3*i for i in range(1,5)]   # [3,6,9,12]\nx[1]                             # (a) positive (0-based)\nx[-3]                            # (b) negative index from end -&gt; element 2\n[xi for i, xi in enumerate(x) if i == 1]  # (c) comprehension"
  },
  {
    "objectID": "lecture02.html#mini-exercise-2-sort-descending",
    "href": "lecture02.html#mini-exercise-2-sort-descending",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 2: Sort descending",
    "text": "Mini-exercise 2: Sort descending\nTask: Sort x in descending order using (a) indices and (b) a built-in sorter.\n\nRPython\n\n\n\nx &lt;- 3 * seq_len(4)\nx[order(x, decreasing = TRUE)]   # via indices\nsort(x, decreasing = TRUE)       # via sorter\n\n\n\n\nx = [3,6,9,12]\n[xi for _, xi in sorted(enumerate(x), key=lambda t: t[1], reverse=True)]  # via indices\nsorted(x, reverse=True)                                                 # via sorter"
  },
  {
    "objectID": "lecture02.html#mini-exercise-3-coercion",
    "href": "lecture02.html#mini-exercise-3-coercion",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 3: Coercion",
    "text": "Mini-exercise 3: Coercion\nTask: In R, evaluate c(TRUE, 2, \"3\") — what happens? In Python, compare [True, 2, \"3\"] and np.array([True, 2, \"3\"]).\n\nRPython\n\n\n\nval &lt;- c(TRUE, 2, \"3\")\nval\ntypeof(val)  # \"character\"\n\n\n\n\n# Python list stays heterogeneous\nval = [True, 2, \"3\"]\nval, [type(v).__name__ for v in val]\n\n# NumPy coerces to a common dtype\n#| eval: false\nimport numpy as np\nnp.array([True, 2, \"3\"])  # dtype('&lt;U...') (string)"
  },
  {
    "objectID": "lecture02.html#mini-exercise-4-matrix-ops",
    "href": "lecture02.html#mini-exercise-4-matrix-ops",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 4: Matrix ops",
    "text": "Mini-exercise 4: Matrix ops\nTask: Create a 3×3 matrix / array and compute its transpose and A %*% A (R) / A @ A (Py).\n\nRPython\n\n\n\nA &lt;- matrix(1:9, 3, 3)\nA; t(A); A %*% A\n\n\n\n\nimport numpy as np\nA = np.arange(1,10).reshape(3,3)\nA, A.T, A @ A"
  },
  {
    "objectID": "lecture02.html#challenge-tennis-leaderboard",
    "href": "lecture02.html#challenge-tennis-leaderboard",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Challenge: Tennis leaderboard",
    "text": "Challenge: Tennis leaderboard\nTask: Build table (players, DoB, wins); add age (years); sort by age desc; plot wins vs age.\n\nRPython\n\n\n\nplayers &lt;- c(\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\")\ndob &lt;- as.Date(c(\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\"))\nwins &lt;- c(16,19,20,0,0)\n\ndf &lt;- data.frame(player = players, dob = dob, wins = wins, stringsAsFactors = FALSE)\nnow &lt;- Sys.Date()\ndf$age_years &lt;- as.numeric(difftime(now, df$dob, units = \"days\")) / 365.2425\n\ndf2 &lt;- df[order(-df$age_years), ]\nprint(df2)\n\nplot(df2$age_years, df2$wins, xlab = \"Age (years)\", ylab = \"Grand Slam wins\")\n\n\n\n\nimport pandas as pd\nfrom datetime import date\nplayers = [\"Novak Djokovic\",\"Rafael Nadal\",\"Roger Federer\",\"Daniil Medvedev\",\"Dominic Thiem\"]\ndf = pd.DataFrame({\n    \"player\": players,\n    \"dob\": pd.to_datetime([\"1987-05-22\",\"1986-06-03\",\"1981-08-08\",\"1996-02-11\",\"1993-09-03\"]),\n    \"wins\": [16,19,20,0,0]\n})\nnow = pd.Timestamp.today().normalize()\ndf[\"age_years\"] = (now - df[\"dob\"]).dt.days / 365.2425\n\ndf2 = df.sort_values(\"age_years\", ascending=False)\nprint(df2)\n\nax = df2.plot.scatter(x=\"age_years\", y=\"wins\")\nax.set_xlabel(\"Age (years)\"); ax.set_ylabel(\"Grand Slam wins\")"
  },
  {
    "objectID": "lecture02.html#challenge-tennis-leaderboard---2nd-solution",
    "href": "lecture02.html#challenge-tennis-leaderboard---2nd-solution",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Challenge: Tennis leaderboard - 2nd solution",
    "text": "Challenge: Tennis leaderboard - 2nd solution\nTask: Build table (players, DoB, wins); add age (years); sort by age desc; plot wins vs age.\n\nR (dplyr / ggplot2)Python (pandas / matplotlib)\n\n\n\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(ggplot2)\n\nref_date &lt;- as.Date(\"2025-10-08\")\n\nrankings &lt;- tribble(\n  ~rank, ~player,             ~country, ~points, ~dob,          ~gs_titles,\n      1, \"Carlos Alcaraz\",    \"ESP\",     11540,  as.Date(\"2003-05-05\"), 6,\n      2, \"Jannik Sinner\",     \"ITA\",     10950,  as.Date(\"2001-08-16\"), 4,\n      3, \"Alexander Zverev\",  \"GER\",      5980,  as.Date(\"1997-04-20\"), 0,\n      4, \"Taylor Fritz\",      \"USA\",      4995,  as.Date(\"1997-10-28\"), 0,\n      5, \"Novak Djokovic\",    \"SRB\",      4830,  as.Date(\"1987-05-22\"), 24\n) |&gt;\n  mutate(age = floor(as.numeric(ref_date - dob) / 365.2425))\n\nrankings\n\n# Simple points bar chart\nrankings |&gt;\n  ggplot(aes(x = reorder(player, points), y = points)) +\n  geom_col() +\n  coord_flip() +\n  labs(x = NULL, y = \"Ranking points\",\n       title = \"ATP Singles — Top 5 (week of 2025‑10‑06)\") +\n  theme_minimal(base_size = 12)\n\n# Optional: Grand Slam titles lollipop\nrankings |&gt;\n  ggplot(aes(x = reorder(player, gs_titles), y = gs_titles)) +\n  geom_segment(aes(xend = player, y = 0, yend = gs_titles)) +\n  geom_point(size = 3) +\n  coord_flip() +\n  labs(x = NULL, y = \"Grand Slam singles titles\",\n       title = \"Grand Slam titles (singles)\") +\n  theme_minimal(base_size = 12)\n\n\n\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom datetime import datetime\n\nref_date = datetime(2025, 10, 8)\n\ndata = {\n    \"rank\":   [1, 2, 3, 4, 5],\n    \"player\": [\"Carlos Alcaraz\",\"Jannik Sinner\",\"Alexander Zverev\",\"Taylor Fritz\",\"Novak Djokovic\"],\n    \"country\":[\"ESP\",\"ITA\",\"GER\",\"USA\",\"SRB\"],\n    \"points\": [11540, 10950, 5980, 4995, 4830],\n    \"dob\":    pd.to_datetime([\"2003-05-05\",\"2001-08-16\",\"1997-04-20\",\"1997-10-28\",\"1987-05-22\"]),\n    \"gs_titles\": [6, 4, 0, 0, 24]\n}\nrankings = pd.DataFrame(data)\nrankings[\"age\"] = (ref_date - rankings[\"dob\"]).dt.days // 365.2425\nrankings\n\n# Points bar chart (horizontal)\nax = rankings.sort_values(\"points\").plot(kind=\"barh\", x=\"player\", y=\"points\", legend=False)\nax.set_xlabel(\"Ranking points\")\nax.set_title(\"ATP Singles — Top 5 (week of 2025‑10‑06)\")\nplt.tight_layout(); plt.show()\n\n# Optional: Grand Slam titles lollipop-style\nordered = rankings.sort_values(\"gs_titles\")\nplt.figure()\nfor i, (p, v) in enumerate(zip(ordered[\"player\"], ordered[\"gs_titles\"])):\n    plt.plot([0, v], [i, i])\n    plt.plot(v, i, marker=\"o\")\nplt.yticks(range(len(ordered)), ordered[\"player\"])\nplt.xlabel(\"Grand Slam singles titles\")\nplt.title(\"Grand Slam titles (singles)\")\nplt.tight_layout(); plt.show()"
  },
  {
    "objectID": "lecture02.html#two-families",
    "href": "lecture02.html#two-families",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Two families",
    "text": "Two families\n\nChoices: decide a path based on conditions.\nLoops: repeat a block of code.\n\nWe’ll contrast R and Python patterns side-by-side."
  },
  {
    "objectID": "lecture02.html#logical-operators-scalars",
    "href": "lecture02.html#logical-operators-scalars",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Logical operators — scalars",
    "text": "Logical operators — scalars\n\nRPython\n\n\n&gt;, &lt;, &gt;=, &lt;=, ==, !=, !, &&, ||\n\n4 &gt; 3\n1 &gt;= 1\n!(2 &gt; 1)\nTRUE && TRUE\n(1 &gt; 1) || (2 &lt; 3)\n\n\n&& and || are short-circuit and only inspect the first element.\n\n\n\n&gt;, &lt;, &gt;=, &lt;=, ==, !=, not, and, or\n\n4 &gt; 3\n1 &gt;= 1\nnot (2 &gt; 1)\n(True and True), ((1 &gt; 1) or (2 &lt; 3))"
  },
  {
    "objectID": "lecture02.html#logical-operators-vectorsarrays",
    "href": "lecture02.html#logical-operators-vectorsarrays",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Logical operators — vectors/arrays",
    "text": "Logical operators — vectors/arrays\n\nRPython (NumPy/pandas)\n\n\nUse elementwise & and | for vectors/matrices; all(), any(), xor().\n\nc(TRUE, FALSE) | c(TRUE, TRUE)\nc(TRUE, TRUE) & c(TRUE, FALSE)\nxor(TRUE, TRUE)\nall(c(TRUE, FALSE, FALSE))\nany(c(TRUE, FALSE, FALSE))\n# Short-circuit vs elementwise\nc(TRUE, FALSE) | c(TRUE, FALSE)\n# NOTE: c(TRUE,FALSE) || c(TRUE,FALSE) uses only first element\n\n\n\nUse & and | for elementwise logic with parentheses; np.all, np.any.\n\nimport numpy as np\nA = np.array([True, False])\nB = np.array([True, True])\n(A | B), (A & B)\n\n\nIn pandas/NumPy: do not use and/or with arrays; use &/| and wrap comparisons in parentheses."
  },
  {
    "objectID": "lecture02.html#truthiness-pitfalls",
    "href": "lecture02.html#truthiness-pitfalls",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Truthiness pitfalls",
    "text": "Truthiness pitfalls\n\nR: if(c(TRUE,FALSE)) → warning: condition length &gt; 1; only first used.\nPython (lists): any non-empty list is truthy: if [False]: → True.\nNumPy/pandas: if np.array([True, False]) → error (ambiguous). Use .any() / .all().\n\n\nimport numpy as np\nx = np.array([True, False])\n# if x:  # ValueError: ambiguous truth value\nif x.any():\n    print(\"has a True\")"
  },
  {
    "objectID": "lecture02.html#selection-operators",
    "href": "lecture02.html#selection-operators",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Selection operators",
    "text": "Selection operators"
  },
  {
    "objectID": "lecture02.html#if-basic",
    "href": "lecture02.html#if-basic",
    "title": "Lecture 2 — Programming Foundations",
    "section": "if — basic",
    "text": "if — basic\n\nRPython\n\n\n\nx &lt;- -4\nif (x &lt; 0) {\n  x &lt;- -x\n}\nif (x %% 2 == 0) {\n  cat(x, \"is even\\n\")\n}\n\n\n\n\nx = -4\nif x &lt; 0:\n    x = -x\nif x % 2 == 0:\n    print(f\"{x} is even\")"
  },
  {
    "objectID": "lecture02.html#if-else",
    "href": "lecture02.html#if-else",
    "title": "Lecture 2 — Programming Foundations",
    "section": "if / else",
    "text": "if / else\n\nRPython\n\n\n\nx &lt;- 3\nif (x %% 2 == 0) {\n  cat(\"even\\n\")\n} else {\n  cat(\"odd\\n\")\n}\n\n\n\n\nx = 3\nif x % 2 == 0:\n    print(\"even\")\nelse:\n    print(\"odd\")"
  },
  {
    "objectID": "lecture02.html#if-else-if-else",
    "href": "lecture02.html#if-else-if-else",
    "title": "Lecture 2 — Programming Foundations",
    "section": "if / else if / else",
    "text": "if / else if / else\n\nRPython (elif)\n\n\n\nx &lt;- 0\nif (x == 0) {\n  cat(\"zero\\n\")\n} else if (x %% 2 == 0) {\n  cat(\"even\\n\")\n} else {\n  cat(\"odd\\n\")\n}\n\n\n\n\nx = 0\nif x == 0:\n    print(\"zero\")\nelif x % 2 == 0:\n    print(\"even\")\nelse:\n    print(\"odd\")"
  },
  {
    "objectID": "lecture02.html#vectorised-conditionals",
    "href": "lecture02.html#vectorised-conditionals",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Vectorised conditionals",
    "text": "Vectorised conditionals\n\nR — ifelsePython — numpy.where / pandas\n\n\n\nx &lt;- 1:10\nifelse(x %% 2 == 0, \"even\", \"odd\")\n\n\n\n\nimport numpy as np, pandas as pd\nx = np.arange(1,11)\nnp.where(x % 2 == 0, \"even\", \"odd\")\n# pandas Series\ns = pd.Series(range(1,11))\ns.where(s % 2 == 0, other=\"odd\").fillna(\"even\")"
  },
  {
    "objectID": "lecture02.html#switch-r-vs-matchcase-python-3.10",
    "href": "lecture02.html#switch-r-vs-matchcase-python-3.10",
    "title": "Lecture 2 — Programming Foundations",
    "section": "switch (R) vs match/case (Python ≥3.10)",
    "text": "switch (R) vs match/case (Python ≥3.10)\n\nR — switchPython — matchPython (pre-3.10) — dict dispatch\n\n\n\noperator &lt;- \"+\"\nswitch(operator,\n  \"+\" = 20 + 5,\n  \"-\" = 20 - 5,\n  \"*\" = 20 * 5,\n  \"/\" = 20 / 5,\n  stop(\"Unknown operator\")\n)\n\n\n\n\noperator = \"+\"\nmatch operator:\n    case \"+\":\n        20 + 5\n    case \"-\":\n        20 - 5\n    case \"*\":\n        20 * 5\n    case \"/\":\n        20 / 5\n    case _:\n        raise ValueError(\"Unknown operator\")\n\n\n\n\nops = {\n    \"+\": lambda a,b: a+b,\n    \"-\": lambda a,b: a-b,\n    \"*\": lambda a,b: a*b,\n    \"/\": lambda a,b: a/b\n}\nops.get(\"+\", lambda a,b: None)(20,5)"
  },
  {
    "objectID": "lecture02.html#loops-overview",
    "href": "lecture02.html#loops-overview",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Loops — overview",
    "text": "Loops — overview\n\nR: for, while, repeat, with break, next.\nPython: for (over iterables), while, with break, continue, and the lesser-known for … else / while … else."
  },
  {
    "objectID": "lecture02.html#for-loops",
    "href": "lecture02.html#for-loops",
    "title": "Lecture 2 — Programming Foundations",
    "section": "for loops",
    "text": "for loops\n\nRPython\n\n\n\nfor (number in 1:6) {\n  print(number)\n}\nfor (i in 1:10) {\n  if (i %% 2 == 0) next\n  print(i)\n}\n\n\n\n\nfor number in range(1,7):\n    print(number)\nfor i in range(1,11):\n    if i % 2 == 0:\n        continue\n    print(i)"
  },
  {
    "objectID": "lecture02.html#while-loops",
    "href": "lecture02.html#while-loops",
    "title": "Lecture 2 — Programming Foundations",
    "section": "while loops",
    "text": "while loops\n\nRPython\n\n\n\ni &lt;- 1\nwhile (i &lt;= 6) {\n  print(i)\n  i &lt;- i + 1\n}\n\n\n\n\ni = 1\nwhile i &lt;= 6:\n    print(i)\n    i += 1"
  },
  {
    "objectID": "lecture02.html#infinite-loops-safety",
    "href": "lecture02.html#infinite-loops-safety",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Infinite loops & safety",
    "text": "Infinite loops & safety\n\nEasy to create by mistake.\nPrefer clear termination; add guards and break.\n\n\nR — repeatPython — guarded while\n\n\n\ncounter &lt;- 0\nrepeat {\n  counter &lt;- counter + 1\n  if (counter &gt;= 3) break\n}\n\n\n\n\ncounter = 0\nwhile True:\n    counter += 1\n    if counter &gt;= 3:\n        break"
  },
  {
    "objectID": "lecture02.html#pythons-for-else",
    "href": "lecture02.html#pythons-for-else",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Python’s for … else",
    "text": "Python’s for … else\nThe else runs only if the loop did not break.\n\nfor n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            break\n    else:\n        print(n, \"is prime\")"
  },
  {
    "objectID": "lecture02.html#vectorisation-apply-family",
    "href": "lecture02.html#vectorisation-apply-family",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Vectorisation & apply-family",
    "text": "Vectorisation & apply-family\n\nRPython\n\n\n\nPrefer vectorised ops / builtins (rowMeans, colSums, …).\napply(X, MARGIN, FUN, …) for arrays; lapply/sapply for lists; or purrr::map*.\n\n\nset.seed(321)\nA &lt;- matrix(rexp(30), ncol = 3, nrow = 10)\ncolMeans(A)\napply(A, 2, mean)\n\n\n\n\nPrefer NumPy vectorisation; in pandas use column-wise ops; DataFrame.apply as last resort.\n\n\nimport numpy as np, pandas as pd\nA = np.random.exponential(size=(10,3))\nA.mean(axis=0)         # column means"
  },
  {
    "objectID": "lecture02.html#performance-sketch",
    "href": "lecture02.html#performance-sketch",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Performance sketch",
    "text": "Performance sketch\n\nRPython\n\n\n\n# install.packages(\"microbenchmark\")  # if needed\n# microbenchmark::microbenchmark(\n#   for(i in 1:ncol(A)){},\n#   apply(A, 2, mean),\n#   colMeans(A)\n# )\n\n\nRule: prefer builtins and vectorised code.\n\n\n\n\n# import timeit\n# timeit.timeit(\"sum(range(1000))\", number=10000)\n\n\nRule: prefer vectorised NumPy/pandas ops over Python-level loops."
  },
  {
    "objectID": "lecture02.html#miniexercises-quick",
    "href": "lecture02.html#miniexercises-quick",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini‑exercises (quick)",
    "text": "Mini‑exercises (quick)\n\nShort‑circuit: What do these return? In R: c(T,F) | c(T,F) vs c(T,F) || c(T,F). In Python/NumPy: (A | B) vs (A or B) with boolean arrays.\nFizzBuzz: Print numbers 1–20; for multiples of 3 print Fizz, of 5 Buzz, of both FizzBuzz.\nMasking: Given x &lt;- 1:10 / x = np.arange(1,11), replace odds by NA/np.nan using vectorised tools.\nSwitch/match: Implement a tiny calculator using R switch and Python match."
  },
  {
    "objectID": "lecture02.html#challenge-find-the-first-even-square-1000",
    "href": "lecture02.html#challenge-find-the-first-even-square-1000",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Challenge — Find the first even square > 1000",
    "text": "Challenge — Find the first even square &gt; 1000\nWrite two versions (R & Python):\n\nA loop-based solution with a break when found.\nA vectorised solution.\n\nStretch: benchmark both approaches."
  },
  {
    "objectID": "lecture02.html#cheatsheet",
    "href": "lecture02.html#cheatsheet",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Cheatsheet",
    "text": "Cheatsheet\n\nR elementwise: &, |; short-circuit: &&, || (first element only).\nPython booleans: and, or, not; elementwise with NumPy/pandas: &, | (+ parentheses!).\nif/elif/else (Py) ~ if/else if/else (R).\nVectorised conditionals: ifelse (R), np.where/Series.where (Py).\nMulti-way: switch (R), match/case or dict dispatch (Py).\nLoops: for, while, repeat (R); for, while, for … else (Py)."
  },
  {
    "objectID": "lecture02.html#mini-exercise-1-shortcircuit-vs-elementwise",
    "href": "lecture02.html#mini-exercise-1-shortcircuit-vs-elementwise",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 1: Short‑circuit vs elementwise",
    "text": "Mini-exercise 1: Short‑circuit vs elementwise\nTask: What do these return? In R: c(T,F) | c(T,F) vs c(T,F) || c(T,F). In Python/NumPy: (A | B) vs (A or B) with boolean arrays.\n\nRPython / NumPy\n\n\n\nc(T,F) | c(T,F)        # elementwise OR -&gt; TRUE FALSE\nc(T,F) || c(T,F)       # an error with recent R; previously used only first element -&gt; TRUE\n\n\n\n\n# Python lists\n[True, False] or [True, False]\n\n# Elementwise with NumPy\n#| eval: false\nimport numpy as np\nA = np.array([True, False]); B = np.array([True, False])\nA | B, A & B"
  },
  {
    "objectID": "lecture02.html#mini-exercise-2-fizzbuzz-120",
    "href": "lecture02.html#mini-exercise-2-fizzbuzz-120",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 2: FizzBuzz (1–20)",
    "text": "Mini-exercise 2: FizzBuzz (1–20)\nTask: Print numbers 1–20; for multiples of 3 print Fizz, of 5 Buzz, of both FizzBuzz.\n\nRPython\n\n\n\nfor (i in 1:20) {\n  if (i %% 15 == 0) cat(\"FizzBuzz\\n\")\n  else if (i %% 3 == 0) cat(\"Fizz\\n\")\n  else if (i %% 5 == 0) cat(\"Buzz\\n\")\n  else cat(i, \"\\n\")\n}\n\n\n\n\nfor i in range(1, 21):\n    if i % 15 == 0: print(\"FizzBuzz\")\n    elif i % 3 == 0: print(\"Fizz\")\n    elif i % 5 == 0: print(\"Buzz\")\n    else: print(i)"
  },
  {
    "objectID": "lecture02.html#mini-exercise-3-masking-odds-to-nanan",
    "href": "lecture02.html#mini-exercise-3-masking-odds-to-nanan",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 3: Masking odds to NA/NaN",
    "text": "Mini-exercise 3: Masking odds to NA/NaN\nTask: Given x &lt;- 1:10 / x = np.arange(1,11), replace odds by NA/np.nan using vectorised tools.\n\nRPython\n\n\n\nx &lt;- 1:10\nx[x %% 2 == 1] &lt;- NA_integer_\nx\n\n\n\n\nimport numpy as np\nx = np.arange(1,11, dtype=float)\nx[x % 2 == 1] = np.nan\nx"
  },
  {
    "objectID": "lecture02.html#mini-exercise-4-tiny-calculator-switchmatch",
    "href": "lecture02.html#mini-exercise-4-tiny-calculator-switchmatch",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 4: Tiny calculator (switch/match)",
    "text": "Mini-exercise 4: Tiny calculator (switch/match)\nTask: Implement a tiny calculator using R switch and Python match.\n\nRPython\n\n\n\ncalc &lt;- function(a, b, op) switch(op,\n  \"+\" = a + b,\n  \"-\" = a - b,\n  \"*\" = a * b,\n  \"/\" = a / b,\n  stop(\"unknown op\")\n)\ncalc(20,5,\"+\")\n\n\n\n\n# Python 3.10+\nimport sys\nif sys.version_info &gt;= (3,10):\n    def calc(a,b,op):\n        match op:\n            case \"+\": return a + b\n            case \"-\": return a - b\n            case \"*\": return a * b\n            case \"/\": return a / b\n            case _: raise ValueError(\"unknown op\")\n    calc(20,5,\"+\")\nelse:\n    ops = {\"+\": lambda a,b: a+b, \"-\": lambda a,b: a-b, \"*\": lambda a,b: a*b, \"/\": lambda a,b: a/b}\n    ops[\"+\"](20,5)"
  },
  {
    "objectID": "lecture02.html#challenge-first-even-square-1000",
    "href": "lecture02.html#challenge-first-even-square-1000",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Challenge: First even square > 1000",
    "text": "Challenge: First even square &gt; 1000\nTask: Write two versions (R & Python):\n\nA loop-based solution with a break when found.\nA vectorised solution.\n\n\nRPython\n\n\n\n# Loop solution\nn &lt;- 1\nrepeat {\n  s &lt;- n^2\n  if (s &gt; 1000 && s %% 2 == 0) { ans &lt;- list(n=n, s=s); break }\n  n &lt;- n + 1\n}\nans\n\n# Vectorised solution\nn &lt;- seq_len(100)\nsq &lt;- n^2\ncbind(n, sq)[which(sq &gt; 1000 & sq %% 2 == 0)[1], ]\n\n\n\n\n# Loop solution\nn = 1\nwhile True:\n    s = n*n\n    if s &gt; 1000 and s % 2 == 0:\n        ans = {\"n\": n, \"s\": s}\n        break\n    n += 1\nans\n\n# Vectorised (NumPy)\n#| eval: false\nimport numpy as np\nn = np.arange(1, 101)\nsq = n**2\nidx = np.where((sq &gt; 1000) & (sq % 2 == 0))[0][0]\nint(n[idx]), int(sq[idx])"
  },
  {
    "objectID": "lecture02.html#everything-is-a-function-call-and-a-firstclass-object",
    "href": "lecture02.html#everything-is-a-function-call-and-a-firstclass-object",
    "title": "Lecture 2 — Programming Foundations",
    "section": "“Everything is a function call” (and a first‑class object)",
    "text": "“Everything is a function call” (and a first‑class object)\n\nRPython\n\n\n\nEvaluate a constant:\n\n\n18.10\n\n\nNames / quoted names:\n\n\nsqrt\n`+`\n\n\nFunction call:\n\n\n1.1 + 2.1\n`+`(1.1, 2.1)\n\n\n\n\nEvaluate a constant, names, and call:\n\n\n18.10\nabs\n(1.1).__add__(2.1)\n\n\nOperators are methods/functions under the hood (see operator module), and functions are first‑class values."
  },
  {
    "objectID": "lecture02.html#function-components",
    "href": "lecture02.html#function-components",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Function components",
    "text": "Function components\n\nRPython\n\n\n\nArguments, body, environment.\n\n\nmy_div &lt;- function(numerator, denominator) {\n  div &lt;- numerator / denominator\n  return(div)\n}\nformals(my_div)\nbody(my_div)\nenvironment(my_div)\n\n\n\n\nParameters, body, globals/closure.\n\n\ndef my_div(numerator, denominator):\n    div = numerator / denominator\n    return div\nmy_div.__code__.co_varnames, my_div.__defaults__, my_div.__closure__"
  },
  {
    "objectID": "lecture02.html#returns",
    "href": "lecture02.html#returns",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Returns",
    "text": "Returns\n\nRPython\n\n\nLast expression is returned if return() omitted.\n\nf &lt;- function(x) { x + 1 }\nf(2)\n\n\n\nMust return explicitly (else returns None).\n\ndef f(x):\n    x + 1\nprint(f(2))  # None"
  },
  {
    "objectID": "lecture02.html#passing-arguments",
    "href": "lecture02.html#passing-arguments",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Passing arguments",
    "text": "Passing arguments\n\nR — matching rulesPython — calling conventions\n\n\n\nPositional, exact by name, partial (prefix) matching.\n\n\nmy_div(1, 2)\nmy_div(numerator = 1, denominator = 2)\nmy_div(n = 1, d = 2)  # partial match (works but discouraged)\n\n\n\n\nPositional, keyword, defaults, *args, **kwargs.\nKeyword‑only params (after *), positional‑only (before /).\n\n\ndef g(a, b=1, *args, scale=1, **kw):\n    return (a + b) * scale\n\ng(1, 2, scale=3)\n\ndef h(x, /, y, *, z=0):  # pos‑only x; keyword‑only z\n    return x + y + z\nh(1, 2, z=3)"
  },
  {
    "objectID": "lecture02.html#assignment-vs-argument-binding-in-r",
    "href": "lecture02.html#assignment-vs-argument-binding-in-r",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Assignment vs argument binding in R",
    "text": "Assignment vs argument binding in R\n\nBoth = and &lt;- assign values, but inside calls = binds arguments.\n\n\nmy_div(numerator = 2, denominator = 1)\nnumerator             # error: object 'numerator' not found\nmy_div(numerator &lt;- 2, denominator = 1)  # assigns globally first\nnumerator             # now exists in workspace"
  },
  {
    "objectID": "lecture02.html#type-checks-friendly-failures",
    "href": "lecture02.html#type-checks-friendly-failures",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Type checks & friendly failures",
    "text": "Type checks & friendly failures\n\nRPython\n\n\n\nmy_div &lt;- function(numerator, denominator) {\n  if (any(!is.numeric(numerator), !is.numeric(denominator))) {\n    stop(\"`numerator` and `denominator` must be numeric\")\n  }\n  numerator / denominator\n}\nmy_div(\"numerator\", \"denominator\")\n\n\n\n\nclass NotNumericError(TypeError):\n    pass\n\ndef my_div(numerator, denominator):\n    from numbers import Number\n    if not isinstance(numerator, Number) or not isinstance(denominator, Number):\n        raise NotNumericError(\"numerator and denominator must be numeric\")\n    return numerator / denominator\n# my_div(\"numerator\", \"denominator\")  # raises"
  },
  {
    "objectID": "lecture02.html#warnings-messages-vs-warnings-logging",
    "href": "lecture02.html#warnings-messages-vs-warnings-logging",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Warnings / messages vs warnings / logging",
    "text": "Warnings / messages vs warnings / logging\n\nRPython\n\n\n\nwarning(\"Size mismatch; recycling may occur\")\nmessage(\"Starting the division…\")\n\n\n\n\nimport warnings, logging\nwarnings.warn(\"Size mismatch; check inputs\")\nlogging.basicConfig(level=logging.INFO)\nlogging.info(\"Starting the division…\")"
  },
  {
    "objectID": "lecture02.html#dimensions-vectorisation",
    "href": "lecture02.html#dimensions-vectorisation",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Dimensions & vectorisation",
    "text": "Dimensions & vectorisation\n\nRPython (NumPy)\n\n\n\nA &lt;- matrix(1:9, ncol = 3)\nB &lt;- matrix(10:18, ncol = 3)\nA / B  # vectorised elementwise\n\n\n\n\nimport numpy as np\nA = np.arange(1,10).reshape(3,3)\nB = np.arange(10,19).reshape(3,3)\nA / B  # elementwise"
  },
  {
    "objectID": "lecture02.html#robust-my_div-shape-checks",
    "href": "lecture02.html#robust-my_div-shape-checks",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Robust my_div (shape checks)",
    "text": "Robust my_div (shape checks)\n\nRPython (NumPy)\n\n\n\nmy_div &lt;- function(numerator, denominator) {\n  if (any(!is.numeric(numerator), !is.numeric(denominator))) {\n    stop(\"`numerator` and `denominator` must be numeric\")\n  }\n  if (!identical(dim(numerator), dim(denominator))) {\n    # fall back to length check for vectors\n    if (is.null(dim(numerator)) && is.null(dim(denominator))) {\n      if (length(numerator) != length(denominator))\n        stop(\"Lengths must match for vectors\")\n    } else {\n      stop(\"Dimensions must match for arrays/matrices\")\n    }\n  }\n  numerator / denominator\n}\n\n\n\n\nimport numpy as np\n\ndef my_div(numerator, denominator):\n    a = np.asarray(numerator)\n    b = np.asarray(denominator)\n    if a.shape != b.shape:\n        raise ValueError(\"Shapes must match\")\n    return a / b"
  },
  {
    "objectID": "lecture02.html#scope-r-environments-vs-python-legb",
    "href": "lecture02.html#scope-r-environments-vs-python-legb",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Scope: R environments vs Python LEGB",
    "text": "Scope: R environments vs Python LEGB\n\nR — lexical scopingPython — LEGB & global/nonlocal\n\n\n\nDynamic lookup: names resolved when function runs.\nName masking: inner names shadow outer names.\n\n\nf &lt;- function() x * x\nf()            # error, x not found\nx &lt;- 10\nf()            # now 100\n\n\nx &lt;- 10\nf &lt;- function(){ x &lt;- 1; x * x }\nf()            # 1\n\n\nInspect environments:\n\n\nenvironment()\nglobalenv()\nemptyenv()\n\n\n\n\nx = 10\n\ndef f():\n    x = 1   # local shadows global\n    return x * x\nf()\n\ny = 0\n\ndef bump():\n    global y\n    y += 1\nbump(); y\n\n\ndef make_adder(k):\n    def add(x):\n        return x + k  # closes over k (enclosing)\n    return add\nadd5 = make_adder(5)\nadd5(3)"
  },
  {
    "objectID": "lecture02.html#closures-higherorder-functions",
    "href": "lecture02.html#closures-higherorder-functions",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Closures & higher‑order functions",
    "text": "Closures & higher‑order functions\n\nRPython\n\n\n\nmake_adder &lt;- function(k) {\n  function(x) x + k\n}\nadd5 &lt;- make_adder(5)\nadd5(3)\n# Map over a vector\nlapply(1:5, add5)\n\n\n\n\nfrom functools import partial\n\ndef add(x, y):\n    return x + y\nadd5 = partial(add, 5)\nlist(map(add5, range(1,6)))"
  },
  {
    "objectID": "lecture02.html#composition-piping",
    "href": "lecture02.html#composition-piping",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Composition & piping",
    "text": "Composition & piping\n\nRPython\n\n\n\nBase pipe |&gt; and magrittr %&gt;%.\n\n\n`%big%` &lt;- function(x, y) 10 * x * y  # custom infix\n1 %big% 2\n\n# composition via nesting / piping\nsqrt(log1p(9))\n9 |&gt;\n  log1p() |&gt;\n  sqrt()\n\n\n\n\nNest calls or write a tiny compose.\n\n\nfrom math import sqrt, log1p\n\ndef compose(f, g):\n    return lambda x: f(g(x))\n\nh = compose(sqrt, log1p)\nh(9)"
  },
  {
    "objectID": "lecture02.html#documentation",
    "href": "lecture02.html#documentation",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Documentation",
    "text": "Documentation\n\nR — roxygen2 style (snippet)Python — docstring + type hints\n\n\n#' Divide two numbers\n#'\n#' @param numerator,denominator Numeric scalars or vectors.\n#' @return Numeric result.\n#' @examples\n#' my_div(4, 2)\nmy_div &lt;- function(numerator, denominator) numerator / denominator\n\n\n\nfrom typing import Union\nNumber = Union[int, float]\n\ndef my_div(numerator: Number, denominator: Number) -&gt; float:\n    \"\"\"Divide two numbers.\n\n    Args:\n        numerator: dividend\n        denominator: divisor\n    Returns:\n        The quotient as float.\n    \"\"\"\n    return numerator / denominator"
  },
  {
    "objectID": "lecture02.html#testing-unit-tests",
    "href": "lecture02.html#testing-unit-tests",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Testing (unit tests)",
    "text": "Testing (unit tests)\n\nR — testthat (minimal)Python — pytest (minimal)\n\n\n# install.packages(\"testthat\")\n# test_that(\"my_div works\", {\n#   expect_equal(my_div(4,2), 2)\n#   expect_error(my_div(\"a\", 2))\n# })\n\n\n# def test_my_div():\n#     assert my_div(4,2) == 2\n#     import pytest\n#     with pytest.raises(Exception):\n#         my_div(\"a\", 2)"
  },
  {
    "objectID": "lecture02.html#miniexercises-quick-1",
    "href": "lecture02.html#miniexercises-quick-1",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini‑exercises (quick)",
    "text": "Mini‑exercises (quick)\n\nSafe divide: Write safe_div in R & Python that returns NA/math.nan when denominator is 0 and emits a warning.\nPrefix matching: In R, define f &lt;- function(numerator, denominator) {...} and call it via partial names. Why is this risky? Rewrite to avoid it."
  },
  {
    "objectID": "lecture02.html#appendix-python-in-this-deck-pitfalls",
    "href": "lecture02.html#appendix-python-in-this-deck-pitfalls",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Appendix — Python in this deck & pitfalls",
    "text": "Appendix — Python in this deck & pitfalls\nRender with R/knitr + reticulate and point to your env:\n\ninstall.packages(\"reticulate\")\nreticulate::use_condaenv(\"dacm\", required = TRUE)\nreticulate::py_config()\n\nPython gotcha — mutable defaults:\n\n# Bad\n# def append_item(x, lst=[]):\n#     lst.append(x); return lst\n# Good\n# def append_item(x, lst=None):\n#     if lst is None: lst = []\n#     lst.append(x); return lst\n\nR note — lazy defaults: evaluated when first used, not at definition."
  },
  {
    "objectID": "lecture02.html#cheatsheet-1",
    "href": "lecture02.html#cheatsheet-1",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Cheatsheet",
    "text": "Cheatsheet\n\nR returns last expr; Python needs return.\nR: positional/exact/partial arg matching; Python: positional/keyword, *args/**kwargs, / & * markers.\nR errors/warnings/messages vs Python exceptions/warnings/logging.\nR lexical scoping & environments vs Python LEGB with global/nonlocal.\nVectorise: R builtins; Python use NumPy/pandas.\nComposition: R |&gt;/%&gt;% & custom %op%; Python nesting/compose/method chaining."
  },
  {
    "objectID": "lecture02.html#mini-exercise-1-safe-divide",
    "href": "lecture02.html#mini-exercise-1-safe-divide",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 1: Safe divide",
    "text": "Mini-exercise 1: Safe divide\nTask: Write safe_div in R & Python that returns NA/math.nan when denominator is 0 and emits a warning.\n\nRPython\n\n\n\nsafe_div &lt;- function(a, b) {\n  ifelse(b == 0, {\n    warning(\"denominator is 0; returning NA\")\n    NA_real_\n  }, a / b)\n}\nsafe_div(c(1,2,3), c(1,0,2))\n\n\n# alternatively\nsafe_div &lt;- function(a, b) {\n  if(any(b == 0)) {\n    warning(\"denominator is 0; returning NA\")\n  }\n  \n  x &lt;- rep(NA_real_, length(a))\n  x[b != 0] &lt;- a[b != 0] / b[b != 0]\n  \n  return(x)\n}\n\n\n\n\nimport math, warnings\n\ndef safe_div(a, b):\n    try:\n        return a / b\n    except ZeroDivisionError:\n        warnings.warn(\"denominator is 0; returning NaN\")\n        return math.nan\n\nprint(safe_div(1,1))\nprint(safe_div(2,0))"
  },
  {
    "objectID": "lecture02.html#mini-exercise-2-prefix-matching-r-safer-calls",
    "href": "lecture02.html#mini-exercise-2-prefix-matching-r-safer-calls",
    "title": "Lecture 2 — Programming Foundations",
    "section": "Mini-exercise 2: Prefix matching (R) & safer calls",
    "text": "Mini-exercise 2: Prefix matching (R) & safer calls\nTask: In R, define f &lt;- function(numerator, denominator) {...} and call it via partial names. Why is this risky? Rewrite to avoid it.\n\nRPython\n\n\n\nf &lt;- function(numerator, denominator) numerator / denominator\nf(n = 1, d = 2)              # works via partial matching (risky)\n\n# Make it safer:\noptions(warnPartialMatchArgs = TRUE)  # warn on partial matching\nf(numerator = 1, denominator = 2)     # explicit names\n\n\n\n\n# Not applicable (Python has no partial name matching for keywords).\npass"
  },
  {
    "objectID": "lecture01.html#welcome",
    "href": "lecture01.html#welcome",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Welcome!",
    "text": "Welcome!\n\n\n\nCourse: Data & Code Management: From Collection to Application\nTime & place: Thursdays 9:00–12:00\nCommunication: Slack (class workspace)\nMaterials: GitHub repo & website\nGrading: participation (bonus), homeworks (3 indivuals) and final project (group)\n\nAlways refer to the course website dcm.samorso.ch for the latest info!\n\n\n\n“Reproducibility is job #1 for modern data science.”\n— everyone who has ever lost a script 😉\n\n\n\n\n\n\n\n\nNote\n\n\nToday’s goals\n1. Understand course scope & expectations\n2. See why reproducibility matters\n3. Meet the core toolchain (R, Python, SQL, GitHub, Markdown/Jupyter/Quarto)\n4. Try small, focused exercises"
  },
  {
    "objectID": "lecture01.html#agenda",
    "href": "lecture01.html#agenda",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Agenda",
    "text": "Agenda\n\nCourse overview & evaluation\n\nReproducibility in analytics\n\nCore tools & workflows\n\nQuarto refresher\nGitHub refresher\nMini‑exercises\n\nTip: Slides include short activities you can try during/after class."
  },
  {
    "objectID": "lecture01.html#expectations-evaluation",
    "href": "lecture01.html#expectations-evaluation",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Expectations & Evaluation",
    "text": "Expectations & Evaluation\n\nParticipation: engaged presence (practicals), Slack questions/answers\nHomeworks: short, targeted (programming, SQL, tooling)\nProject: real‑world style, reproducible deliverable\nAcademic integrity: cite sources, no copy‑paste answers\n\nTools allowed: R, Python, SQL, Quarto, GitHub, AI copilots (with provenance & verification)."
  },
  {
    "objectID": "lecture01.html#what-are-llms",
    "href": "lecture01.html#what-are-llms",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "What are LLMs?",
    "text": "What are LLMs?\n\nDefinition: Large Language Models (LLMs) are AI models trained on vast amounts of text data to understand and generate human language.\nExamples:\n\nGPT-4, GPT-5 (OpenAI)\nGemini (Google)\nLLaMA (Meta)\nClaude (Anthropic)\n\nCapabilities:\n\nNatural language understanding and generation\nText completion, summarization, translation\nAssistance in various domains, including programming."
  },
  {
    "objectID": "lecture01.html#why-are-they-important-for-programming",
    "href": "lecture01.html#why-are-they-important-for-programming",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Why are they important for programming?",
    "text": "Why are they important for programming?\n\nLLMs can understand code as a special type of language.\n\nThey offer assistance in code generation, debugging, and improving programming productivity."
  },
  {
    "objectID": "lecture01.html#llm-for-programming---key-features",
    "href": "lecture01.html#llm-for-programming---key-features",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "LLM for Programming - Key Features",
    "text": "LLM for Programming - Key Features\n\nCode Suggestions:\n\nAutomates repetitive coding tasks.\nHelps in writing boilerplate code.\nSee for instance GitHub’s copilot.\n\nError Debugging:\n\nIdentifies and resolves bugs in code snippets.\nSuggests alternative solutions or optimizations.\n\nCode Explanation:\n\nBreaks down complex code into simple explanations.\nHelps in learning new programming concepts."
  },
  {
    "objectID": "lecture01.html#benefits-of-using-llms-like-chatgpt-in-programming",
    "href": "lecture01.html#benefits-of-using-llms-like-chatgpt-in-programming",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Benefits of Using LLMs like ChatGPT in Programming",
    "text": "Benefits of Using LLMs like ChatGPT in Programming\n1. Increased Productivity\n\nAutomates repetitive and boilerplate tasks.\nHelps explore new coding approaches faster.\n\n2. Learning and Discovery\n\nExplains code, libraries, and new languages in an intuitive manner.\nGreat for beginners and advanced users alike."
  },
  {
    "objectID": "lecture01.html#challenges-and-considerations",
    "href": "lecture01.html#challenges-and-considerations",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Challenges and Considerations",
    "text": "Challenges and Considerations\n1. Not Always Correct\n\nLLMs can suggest incorrect code, it can hallucinate, requiring human oversight.\n\n2. Context Limitations\n\nLLMs lack the full project context, so they might not understand the specific requirements.\n\n3. Ethical Concerns\n\nIntellectual property, security, and data privacy must be considered when using AI for programming.\n\n\n\n\n\n\n\nImportant\n\n\nAI policy (short)\nUse AI to brainstorm, outline, or lint code. Own the result: verify outputs, write your tests, and document AI assistance (what, why, where)."
  },
  {
    "objectID": "lecture01.html#minimal-project-structure",
    "href": "lecture01.html#minimal-project-structure",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Minimal Project Structure",
    "text": "Minimal Project Structure\nproject/\n├─ data/           # raw/ and processed/ (never overwrite raw)\n├─ R/ or src/      # functions, modules\n├─ notebooks/      # exploratory analysis\n├─ reports/        # Quarto/Markdown outputs\n├─ tests/          # unit tests\n├─ renv/ or .venv/ # R or Python environment\n├─ .gitignore\n└─ README.md"
  },
  {
    "objectID": "lecture01.html#tooling-map",
    "href": "lecture01.html#tooling-map",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Tooling Map",
    "text": "Tooling Map\n\nR (tidyverse, data.table) & Python (pandas, polars)\nSQL for data retrieval/joins/aggregations (week 5)\nGit + GitHub for versioning & collaboration\nMarkdown/Jupyter/Quarto for literate workflows\nOptional helpers: make, pre-commit, linters\n\n\n\nR snippet\n# Vectorized transform\nlibrary(dplyr)\nset.seed(42)\ndf &lt;- tibble(x = rnorm(5), y = rnorm(5))\ndf |&gt;\n  mutate(z = x + y, grp = if_else(z &gt; 0, \"pos\", \"neg\"))\n\nPython snippet\nimport pandas as pd\nimport numpy as np\nrng = np.random.default_rng(42)\ndf = pd.DataFrame({\"x\": rng.normal(size=5), \"y\": rng.normal(size=5)})\ndf.assign(z=lambda d: d.x + d.y,\n          grp=lambda d: np.where(d.z &gt; 0, \"pos\", \"neg\"))\n\n\n\n\n\n\n\nCaution\n\n\nAre these codes reproducible? Why/why not?"
  },
  {
    "objectID": "lecture01.html#what-is-quarto",
    "href": "lecture01.html#what-is-quarto",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "What is Quarto?",
    "text": "What is Quarto?\n\nQuarto: successor of RMarkdown\nmarkdown contrasts markup languages (e.g. HTML) which require heavy syntax\nQuarto provides a literate programming framework for data science.\nLiterate programming: narrative + code in the same document.\nReproducible research: analyses can be reproduced the same way by someone else."
  },
  {
    "objectID": "lecture01.html#what-is-quarto-1",
    "href": "lecture01.html#what-is-quarto-1",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "What is Quarto?",
    "text": "What is Quarto?\n\nIn a nutshell, Quarto builds on Pandoc and execution engines (Knitr for R, Jupyter for Python/Julia/Observable). It allows embedding code into Markdown documents, which can be rendered into multiple formats (HTML, PDF, Word, …)."
  },
  {
    "objectID": "lecture01.html#create-a-quarto-document",
    "href": "lecture01.html#create-a-quarto-document",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Create a Quarto document",
    "text": "Create a Quarto document\nIn RStudio or VSCode, click File → New File → Quarto Document. Or simply create a .qmd file."
  },
  {
    "objectID": "lecture01.html#important-features-of-markdown",
    "href": "lecture01.html#important-features-of-markdown",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Important features of markdown",
    "text": "Important features of markdown\n\nThree aspects:\n\nYAML metadata\nText\nCode cells/chunks"
  },
  {
    "objectID": "lecture01.html#yaml-yaml-aint-markup-language",
    "href": "lecture01.html#yaml-yaml-aint-markup-language",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "YAML (YAML Ain’t Markup Language)",
    "text": "YAML (YAML Ain’t Markup Language)\n\nHeader where options are defined.\nSurrounded by ---\nOptions include: author, date, output format, table of contents, themes, code folding, …\n\nExample:\n---\ntitle: \"My Report\"\nauthor: \"Jane Doe\"\nformat: html\ntoc: true\n---"
  },
  {
    "objectID": "lecture01.html#text-in-markdown",
    "href": "lecture01.html#text-in-markdown",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Text in Markdown",
    "text": "Text in Markdown\n\nCore body, essential for explaining your analysis.\nMarkdown syntax:\n\n*italics*, **bold**, code style\nheaders (#, ##, ###)\nlists (*, -, +, 1.)\nlinks: [Quarto](https://quarto.org)\nblockquotes (&gt; …)\nimages: ![](path/to/img.png)\ntables (basic Markdown or functions like knitr::kable())"
  },
  {
    "objectID": "lecture01.html#extended-text-features",
    "href": "lecture01.html#extended-text-features",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Extended text features",
    "text": "Extended text features\n\nMath: in \\(\\LaTeX\\) via $...$ inline or $$...$$ display.\nCross-references: @fig-label or @sec-label.\nCitations with .bib files ([@doe2023]).\nYou can always use HTML when needed."
  },
  {
    "objectID": "lecture01.html#code-cells-in-quarto",
    "href": "lecture01.html#code-cells-in-quarto",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Code cells in Quarto",
    "text": "Code cells in Quarto\nQuarto supports R, Python, Julia, and ObservableJS.\nCode cell delimiters:\n```r\n# R code here\n```\n\n```python\n# Python code here\n```\n\nIn Jupyter notebooks, the same concepts apply — each code cell is language-specific."
  },
  {
    "objectID": "lecture01.html#chunk-cell-options",
    "href": "lecture01.html#chunk-cell-options",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Chunk / cell options",
    "text": "Chunk / cell options\nQuarto syntax uses YAML-like #| comments:\n```r\n#| echo: false\n#| eval: true\n#| warning: false\n#| cache: false\n1 + 1\n```\nOptions you’ll use most often:\n\neval: run code?\necho: show code?\nwarning: show warnings?\ncache: reuse computations?"
  },
  {
    "objectID": "lecture01.html#figures-in-code-cells",
    "href": "lecture01.html#figures-in-code-cells",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Figures in code cells",
    "text": "Figures in code cells\nOptions for plots:\n```r\n#| fig-width: 6\n#| fig-height: 4\n#| fig-align: center\n#| fig-cap: \"A scatterplot\"\nplot(iris$Sepal.Length, iris$Sepal.Width)\n```\n\nA scatterplot"
  },
  {
    "objectID": "lecture01.html#printing-tables-with-knitrkable",
    "href": "lecture01.html#printing-tables-with-knitrkable",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Printing tables with knitr::kable()",
    "text": "Printing tables with knitr::kable()\n```r\n#| echo: true\n#| fig-height: 5\ndata(\"iris\")\nknitr::kable(iris[1:5,])\n```\n\n\n\n\n\nSepal.Length\nSepal.Width\nPetal.Length\nPetal.Width\nSpecies\n\n\n\n\n5.1\n3.5\n1.4\n0.2\nsetosa\n\n\n4.9\n3.0\n1.4\n0.2\nsetosa\n\n\n4.7\n3.2\n1.3\n0.2\nsetosa\n\n\n4.6\n3.1\n1.5\n0.2\nsetosa\n\n\n5.0\n3.6\n1.4\n0.2\nsetosa\n\n\n\n\n\nFor enhanced tables: kableExtra."
  },
  {
    "objectID": "lecture01.html#extended-tables-with-kableextra",
    "href": "lecture01.html#extended-tables-with-kableextra",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Extended tables with kableExtra",
    "text": "Extended tables with kableExtra\n\nlibrary(kableExtra)\nmtcars[1:3, 1:8] %&gt;%\n  kbl() %&gt;%\n  kable_paper(full_width = T)\n\n\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\n\n\n\n\nMazda RX4\n21.0\n6\n160\n110\n3.90\n2.620\n16.46\n0\n\n\nMazda RX4 Wag\n21.0\n6\n160\n110\n3.90\n2.875\n17.02\n0\n\n\nDatsun 710\n22.8\n4\n108\n93\n3.85\n2.320\n18.61\n1"
  },
  {
    "objectID": "lecture01.html#mathpix-for-equations",
    "href": "lecture01.html#mathpix-for-equations",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mathpix for equations",
    "text": "Mathpix for equations\nMathpix Snip digitizes handwritten/printed math and pastes directly into Markdown/LaTeX/Word."
  },
  {
    "objectID": "lecture01.html#live-preview",
    "href": "lecture01.html#live-preview",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Live preview",
    "text": "Live preview\n\nRStudio: quarto preview\nVSCode: Quarto extension\nJupyter: live interactive editing\n\nInstant feedback without full rebuilds."
  },
  {
    "objectID": "lecture01.html#why-github",
    "href": "lecture01.html#why-github",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Why GitHub?",
    "text": "Why GitHub?\n\nWork with others on the same project without endless email exchanges\n\nAvoid “file_v1”, “file_v2”, “final_version_really.R” chaos\n\nTrack who changed what and when\n\nDiscuss, review, and plan changes in one place\n\n\n\n\n\n\n\nTip\n\n\n💡 Think of GitHub as both a time machine and a teamwork hub."
  },
  {
    "objectID": "lecture01.html#why-github-for-this-course",
    "href": "lecture01.html#why-github-for-this-course",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Why GitHub for this course?",
    "text": "Why GitHub for this course?\nWe will use GitHub to:\n- Work in groups on projects\n- Submit homeworks\n- Develop programs"
  },
  {
    "objectID": "lecture01.html#what-is-git",
    "href": "lecture01.html#what-is-git",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "What is Git?",
    "text": "What is Git?\nGit is a distributed version control system:\n\nDistributed: every copy of a project has the full history\n\nVersion control: keeps track of all changes to your project\n\n\n\n\n\n\n\nImportant\n\n\nInstead of dozens of “final” files, Git records every change in one clean history."
  },
  {
    "objectID": "lecture01.html#types-of-version-control-systems",
    "href": "lecture01.html#types-of-version-control-systems",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Types of Version Control Systems",
    "text": "Types of Version Control Systems\n\nLocal – on your own computer\n\nCentralized – one main server (risk of failure!)\n\nDistributed – full history on every machine (Git)"
  },
  {
    "objectID": "lecture01.html#why-version-control",
    "href": "lecture01.html#why-version-control",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Why Version Control?",
    "text": "Why Version Control?\n\nCollaborate safely with others\n\nRoll back mistakes\n\nExplore new ideas with branches\n\nReduce risks of file loss or corruption"
  },
  {
    "objectID": "lecture01.html#git-github",
    "href": "lecture01.html#git-github",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Git ≠ GitHub",
    "text": "Git ≠ GitHub\n\nGit = software for version control\n\nGitHub = website/platform that hosts Git repositories\n\nAlternatives: GitLab, BitBucket, SourceForge"
  },
  {
    "objectID": "lecture01.html#file-states-in-git",
    "href": "lecture01.html#file-states-in-git",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "File States in Git",
    "text": "File States in Git\nA file can be:\n- Untracked – new, not in Git yet\n- Modified – changed, not saved in history\n- Staged – marked for next snapshot\n- Committed – safely stored in the repository"
  },
  {
    "objectID": "lecture01.html#ignoring-files",
    "href": "lecture01.html#ignoring-files",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Ignoring Files",
    "text": "Ignoring Files\nUse a .gitignore file to tell Git which files to skip:\n- Temporary files (.Rhistory, .DS_Store)\n- Large data files\n- Secrets or keys"
  },
  {
    "objectID": "lecture01.html#github-basic-workflow",
    "href": "lecture01.html#github-basic-workflow",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "GitHub: Basic Workflow",
    "text": "GitHub: Basic Workflow\n\nOpen your RStudio project (linked to GitHub)\n\nWork locally as usual\n\nSave often\n\nCommit snapshots of your changes\n\nPush commits to GitHub\n\nOn another computer (or from a teammate) → Pull updates\n\n\n\n\n\n\n\nTip\n\n\nAlways pull before you push to avoid conflicts!"
  },
  {
    "objectID": "lecture01.html#commits",
    "href": "lecture01.html#commits",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Commits",
    "text": "Commits\n\nCommit = snapshot of your work\n\nGood commit messages explain why you changed something, not just what"
  },
  {
    "objectID": "lecture01.html#common-issues-fixes",
    "href": "lecture01.html#common-issues-fixes",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Common Issues & Fixes",
    "text": "Common Issues & Fixes\n\nWrong repo → Double-check you’re in the right project\n\nLarge files (&gt;100MB) → use another service (Dropbox, Zenodo, etc.)\n\nConflicts → someone else changed the same file → git pull --rebase\n\nMerge conflicts → same lines changed → talk to your teammate + edit manually"
  },
  {
    "objectID": "lecture01.html#new-habits-with-github",
    "href": "lecture01.html#new-habits-with-github",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "New Habits with GitHub",
    "text": "New Habits with GitHub\n\nCommit often\n\nPush regularly\n\nPull before you start working\n\nCommunicate with teammates"
  },
  {
    "objectID": "lecture01.html#collaboration-rituals",
    "href": "lecture01.html#collaboration-rituals",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Collaboration Rituals",
    "text": "Collaboration Rituals\n\nBranch → small PR → peer review → merge\nUse Issues with labels (“bug”, “enhancement”, “question”)\nTemplates: PULL_REQUEST_TEMPLATE.md, ISSUE_TEMPLATE.md\nDocument decisions in CHANGELOG.md\n\n\n\n\n\n\n\nNote\n\n\nActivity (2’): In pairs, outline a PR description for adding a new utils/plot.R with one function and one test."
  },
  {
    "objectID": "lecture01.html#example-pr-description",
    "href": "lecture01.html#example-pr-description",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Example PR Description",
    "text": "Example PR Description\nPR Title\nAdd utils/plot.R with basic plotting function and test\nSummary\n- Add plot_scatter() in utils/plot.R\n- Add test in tests/testthat/test-plot.R\nDetails\n- Input validation (numeric vectors of equal length)\n- Uses ggplot2\n- Tests:\n- Error if unequal lengths\n- Output is \"ggplot\""
  },
  {
    "objectID": "lecture01.html#example-pr-description-cont.",
    "href": "lecture01.html#example-pr-description-cont.",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Example PR Description (cont.)",
    "text": "Example PR Description (cont.)\nChecklist\n- [x] Function implemented\n- [x] Tests added\n- [x] Documentation with roxygen2\n- [ ] CI checks pass\nRelated Issues\nCloses #12 (feature request: plotting utilities)"
  },
  {
    "objectID": "lecture01.html#github-in-a-nutshell",
    "href": "lecture01.html#github-in-a-nutshell",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "GitHub in a Nutshell",
    "text": "GitHub in a Nutshell\n\nGit gets easier once you get the basic idea that branches are homeomorphic endofunctors mapping submanifolds of a Hilbert space.\n—Isaac Wolkerstorfer (joking)"
  },
  {
    "objectID": "lecture01.html#git-in-6-commands",
    "href": "lecture01.html#git-in-6-commands",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Git in 6 commands",
    "text": "Git in 6 commands\ngit status\ngit add -A\ngit commit -m \"Explain what/why, not how\"\ngit pull --rebase\ngit push\ngit switch -c feature/your-topic   # create a feature branch\n\n\n\n\n\n\nNote\n\n\nActivity (think‑pair‑share):\nWhat makes a good commit message? Write one for “fixed weird bug in script” that would help your future self."
  },
  {
    "objectID": "lecture01.html#reproducibility-why-it-matters",
    "href": "lecture01.html#reproducibility-why-it-matters",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Reproducibility: Why it matters",
    "text": "Reproducibility: Why it matters\nSymptoms of non‑reproducible work (raise your hand if you’ve seen these):\n- “It works on my machine.”\n- “I changed nothing and it broke.”\n- “Which file is the final_final_v3.R?”\nPrinciples\n- Deterministic environments\n- Versioned code and data contracts\n- Scripts, not clicks\n- Single‑source of truth (parameters, config)\n- Literate programming (Markdown/Quarto)\n- Automated checks (CI later in course)"
  },
  {
    "objectID": "lecture01.html#is-there-a-reproducibility-crisis",
    "href": "lecture01.html#is-there-a-reproducibility-crisis",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Is there a reproducibility crisis?",
    "text": "Is there a reproducibility crisis?"
  },
  {
    "objectID": "lecture01.html#environments-determinism",
    "href": "lecture01.html#environments-determinism",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Environments (determinism)",
    "text": "Environments (determinism)\n\n\nR — renv\ninstall.packages(\"renv\")\nrenv::init()\nrenv::snapshot()   # lock versions\nrenv::restore()    # reproduce elsewhere\n\nPython — Conda (recommended)\n# create & activate\nconda create -n bia python=3.11 pandas scikit-learn jupyterlab -c conda-forge\nconda activate bia\n\n# share exact env\nconda env export --from-history &gt; environment.yml\n# reproduce elsewhere\nconda env create -f environment.yml\n\nPython — Poetry (alternative)\n# once\npoetry config virtualenvs.in-project true\n# in project\npoetry init\npoetry add pandas scikit-learn jupyter\npoetry install           # recreate from poetry.lock\n\n\n\n\n\n\n\nNote\n\n\nExercise (1′): List one package you rely on in R and in Python. Why lock its version?"
  },
  {
    "objectID": "lecture01.html#nondeterminism-in-llm",
    "href": "lecture01.html#nondeterminism-in-llm",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Nondeterminism in LLM",
    "text": "Nondeterminism in LLM\n\nReproducibility is a bedrock of scientific progress. However, it’s remarkably difficult to get reproducible results out of large language models.\nHorace He in collaboration with others at Thinking Machines\n\n\n\n\n\n\n\nNote\n\n\nRead the full article here"
  },
  {
    "objectID": "lecture01.html#data-contracts-file-hygiene",
    "href": "lecture01.html#data-contracts-file-hygiene",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Data Contracts & File Hygiene",
    "text": "Data Contracts & File Hygiene\n\nNever overwrite raw/ data\nValidate schemas (columns, types, keys)\nRecord data provenance (source, timestamp)\nUse .gitignore to avoid committing large/secret files\n\n# data & local env\ndata/raw/*\n!.gitkeep\n.venv/\nrenv/library/\n*.sqlite\n*.parquet"
  },
  {
    "objectID": "lecture01.html#common-pitfalls-how-to-avoid-them",
    "href": "lecture01.html#common-pitfalls-how-to-avoid-them",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Common Pitfalls & How to Avoid Them",
    "text": "Common Pitfalls & How to Avoid Them\n\nUndocumented notebooks → add titles, goals, outputs\nHidden state (globals) → pass parameters explicitly (next lecture)\nOne giant script → split into modules\nNo seeds → set seeds where randomness matters\nUnpinned packages → lock versions"
  },
  {
    "objectID": "lecture01.html#quick-wins-you-can-adopt-today",
    "href": "lecture01.html#quick-wins-you-can-adopt-today",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Quick Wins You Can Adopt Today",
    "text": "Quick Wins You Can Adopt Today\n\nCreate a project with folders from the template earlier\nInitialize Git and push to GitHub\nSet up renv or .venv or equivalent\nConvert one analysis to Quarto"
  },
  {
    "objectID": "lecture01.html#whats-next",
    "href": "lecture01.html#whats-next",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "What’s Next",
    "text": "What’s Next\n\nNext lecture: Programming foundations (R & Python)\nBefore next time: ensure you can\n\nclone a GitHub repo,\ncreate a branch & commit,\nrender a Quarto .qmd to HTML,\nset up renv or .venv.\n\n\n\n\n\n\n\n\nTip\n\n\nIf stuck: ask on Slack—show error, steps tried, and minimal example."
  },
  {
    "objectID": "lecture01.html#mini-exercise-1-r",
    "href": "lecture01.html#mini-exercise-1-r",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (1): R",
    "text": "Mini-exercise (1): R\n\nOpen RStudio (or your preferred IDE).\n\nCreate a new R script named exercise1.R.\n\nWrite R code that:\n\nCreates a numeric vector of length 5.\n\nComputes its mean.\n\nPrints the result with a short message.\n\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: Use c() for vectors, mean() for averages, and paste() for printing messages."
  },
  {
    "objectID": "lecture01.html#mini-exercise-2-python",
    "href": "lecture01.html#mini-exercise-2-python",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (2): Python",
    "text": "Mini-exercise (2): Python\n\nCreate a new Python file named exercise2.py.\n\nWrite a script that:\n\nCreates a list of 5 numbers.\n\nComputes their average.\n\nPrints the result.\n\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: Use sum() and len() to calculate an average."
  },
  {
    "objectID": "lecture01.html#mini-exercise-3-quarto",
    "href": "lecture01.html#mini-exercise-3-quarto",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (3): Quarto",
    "text": "Mini-exercise (3): Quarto\n\nCreate a new Quarto document named exercise3.qmd.\n\nAdd:\n\nA title and author.\n\nOne R code chunk that prints \"Hello R!\".\n\nOne Python code chunk that prints \"Hello Python!\".\n\n\nRender the document to HTML.\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: Use ```{r} and ```{python} for chunks."
  },
  {
    "objectID": "lecture01.html#mini-exercise-4-github",
    "href": "lecture01.html#mini-exercise-4-github",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (4): GitHub",
    "text": "Mini-exercise (4): GitHub\n\nCreate a new GitHub repository called first-exercises.\n\nAdd the three files you created (exercise1.R, exercise2.py, exercise3.qmd).\n\nWrite a short README.md describing what each file does.\n\nCommit and push your changes.\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: Use GitHub Desktop, git on the command line, or RStudio’s Git interface."
  },
  {
    "objectID": "lecture01.html#mini-exercise-5-r-data",
    "href": "lecture01.html#mini-exercise-5-r-data",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (5): R + Data",
    "text": "Mini-exercise (5): R + Data\n\nIn R, load the built-in dataset mtcars.\n\nCompute the average miles per gallon (mpg) by the number of cylinders (cyl).\n\nMake a simple scatterplot of mpg vs hp (horsepower).\n\nSave the script as exercise5.R.\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: Look at aggregate() or dplyr::group_by() + summarise(). Use plot() for a quick scatterplot."
  },
  {
    "objectID": "lecture01.html#mini-exercise-6-python-visualization",
    "href": "lecture01.html#mini-exercise-6-python-visualization",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (6): Python + Visualization",
    "text": "Mini-exercise (6): Python + Visualization\n\nIn Python, use the pandas and matplotlib libraries.\n\nLoad the dataset iris (you can import it from sklearn.datasets).\n\nCompute the average petal length per species.\n\nMake a histogram of sepal lengths.\n\nSave the script as exercise6.py.\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: pandas.DataFrame.groupby() is useful for summaries."
  },
  {
    "objectID": "lecture01.html#mini-exercise-7-quarto-reproducibility",
    "href": "lecture01.html#mini-exercise-7-quarto-reproducibility",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (7): Quarto + Reproducibility",
    "text": "Mini-exercise (7): Quarto + Reproducibility\n\nCreate a Quarto document called exercise7.qmd.\n\nInclude:\n\nA title, author, and date.\n\nA short text section explaining what the document does.\n\nOne R chunk producing a table of summary statistics (e.g., summary(mtcars)).\n\nOne Python chunk producing a plot of the iris dataset.\n\n\nRender both HTML and PDF versions.\n\n\n\n\n\n\n\nNote\n\n\n💡 Tip: To render PDF, you may need LaTeX installed. Use quarto render exercise7.qmd --to pdf."
  },
  {
    "objectID": "lecture01.html#mini-exercise-8-all-together",
    "href": "lecture01.html#mini-exercise-8-all-together",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Mini-exercise (8): All Together 🎯",
    "text": "Mini-exercise (8): All Together 🎯\n\nCreate a new Quarto document named exercise8.qmd.\n\nInside it:\n\nAdd a short introduction paragraph.\n\nAn R chunk that computes and prints the mean of mtcars$mpg.\n\nA Python chunk that loads iris and plots sepal length vs sepal width.\n\n\nRender the document to HTML.\n\nPush the .qmd, the HTML output, and any supporting files to your GitHub repo first-exercises.\n\nUpdate your README.md to include a short description of this integrated exercise.\n\n\n\n\n\n\n\nNote\n\n\n💡 Goal: Practice combining R + Python code in Quarto, and making results reproducible via GitHub."
  },
  {
    "objectID": "lecture01.html#bonus-opportunity",
    "href": "lecture01.html#bonus-opportunity",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "💡 Bonus Opportunity",
    "text": "💡 Bonus Opportunity\n\nIf you prepare a solution to one of the mini-exercises\n\nand present it briefly during the next practical session\n👉 You may receive a bonus point (participation credit).\n\n\n\n\n\n\n\nNote\n\n\n🌟 Tip: The focus is on sharing your approach, not on having a perfect solution."
  },
  {
    "objectID": "lecture01.html#qa",
    "href": "lecture01.html#qa",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Q&A",
    "text": "Q&A\nThanks!\nOptional: After class, try converting one old analysis to Quarto and push it to GitHub with a short README."
  },
  {
    "objectID": "lecture01.html#solution-1-r",
    "href": "lecture01.html#solution-1-r",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (1): R",
    "text": "Solution (1): R\n# exercise1.R\nx &lt;- c(3, 7, 9, 2, 5)\nm &lt;- mean(x)\nmessage(paste(\"The mean is\", m))"
  },
  {
    "objectID": "lecture01.html#solution-2-python",
    "href": "lecture01.html#solution-2-python",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (2): Python",
    "text": "Solution (2): Python\n# exercise2.py\nnums = [3, 7, 9, 2, 5]\navg = sum(nums) / len(nums)\nprint(f\"The average is {avg}\")"
  },
  {
    "objectID": "lecture01.html#solution-3-quarto",
    "href": "lecture01.html#solution-3-quarto",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (3): Quarto",
    "text": "Solution (3): Quarto\n---\ntitle: \"Exercise 3\"\nauthor: \"Your Name\"\nformat: html\n---\n\n```r\n\"Hello R!\"\n```\n\n```python\nprint(\"Hello Python!\")\n```"
  },
  {
    "objectID": "lecture01.html#solution-4-github",
    "href": "lecture01.html#solution-4-github",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (4): GitHub",
    "text": "Solution (4): GitHub\n# In a fresh folder:\ngit init\ngit branch -M main\ngit remote add origin https://github.com/&lt;user&gt;/first-exercises.git\n\n# Add files\ngit add exercise1.R exercise2.py exercise3.qmd README.md\ngit commit -m \"Add first three exercises\"\ngit push -u origin main\nExample README.md:\n# first-exercises\n- `exercise1.R`: vector + mean (R)\n- `exercise2.py`: list + average (Python)\n- `exercise3.qmd`: R & Python chunks (Quarto)"
  },
  {
    "objectID": "lecture01.html#solution-5-r-data",
    "href": "lecture01.html#solution-5-r-data",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (5): R + Data",
    "text": "Solution (5): R + Data\n# exercise5.R\n# A. summary by cylinders\naggregate(mpg ~ cyl, data = mtcars, FUN = mean)\n\n# Using dplyr (optional)\n# library(dplyr)\n# mtcars |&gt;\n#   group_by(cyl) |&gt;\n#   summarise(mean_mpg = mean(mpg))\n\n# B. scatterplot mpg vs hp\nplot(mtcars$hp, mtcars$mpg,\n     xlab = \"Horsepower (hp)\", ylab = \"Miles per gallon (mpg)\",\n     main = \"mtcars: mpg vs hp\")"
  },
  {
    "objectID": "lecture01.html#solution-6-python-visualization",
    "href": "lecture01.html#solution-6-python-visualization",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (6): Python + Visualization",
    "text": "Solution (6): Python + Visualization\n# exercise6.py\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.datasets import load_iris\n\n# Load iris\niris_bunch = load_iris(as_frame=True)\ndf = iris_bunch.frame  # columns: sepal length (cm), sepal width (cm), ...\ndf[\"species\"] = df[\"target\"].map(dict(enumerate(iris_bunch.target_names)))\n\n# Average petal length per species\navg_petal = df.groupby(\"species\")[\"petal length (cm)\"].mean()\nprint(avg_petal)\n\n# Histogram of sepal lengths\nplt.figure()\ndf[\"sepal length (cm)\"].hist()\nplt.title(\"Histogram: Sepal Length\")\nplt.xlabel(\"Sepal length (cm)\")\nplt.ylabel(\"Count\")\nplt.tight_layout()\nplt.show()"
  },
  {
    "objectID": "lecture01.html#solution-7-quarto-reproducibility",
    "href": "lecture01.html#solution-7-quarto-reproducibility",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (7): Quarto + Reproducibility",
    "text": "Solution (7): Quarto + Reproducibility\n---\ntitle: \"Exercise 7\"\nauthor: \"Your Name\"\nformat:\n  html: default\n  pdf: default\n---\n\nThis document shows basic R summaries and a Python plot.\n\n```r\nsummary(mtcars)\n```\n\n```python\nimport matplotlib.pyplot as plt\nfrom sklearn.datasets import load_iris\niris = load_iris(as_frame=True).frame\nplt.figure()\nplt.scatter(iris[\"sepal length (cm)\"], iris[\"sepal width (cm)\"])\nplt.title(\"Iris: Sepal length vs width\")\nplt.xlabel(\"Sepal length (cm)\")\nplt.ylabel(\"Sepal width (cm)\")\nplt.tight_layout()\nplt.show()\n```\nRender:\nquarto render exercise7.qmd --to html\nquarto render exercise7.qmd --to pdf   # requires LaTeX"
  },
  {
    "objectID": "lecture01.html#solution-8-all-together",
    "href": "lecture01.html#solution-8-all-together",
    "title": "Lecture 1 — Introduction & Tools",
    "section": "Solution (8): All Together 🎯",
    "text": "Solution (8): All Together 🎯\n---\ntitle: \"Exercise 8 (Capstone)\"\nauthor: \"Your Name\"\nformat: html\n---\n\nThis Quarto file combines R + Python and is tracked on GitHub.\n\n```r\nmean(mtcars$mpg)\n```\n\n```python\nfrom sklearn.datasets import load_iris\nimport matplotlib.pyplot as plt\niris = load_iris(as_frame=True).frame\nplt.figure()\nplt.scatter(iris[\"sepal length (cm)\"], iris[\"sepal width (cm)\"])\nplt.title(\"Iris: Sepal length vs width\")\nplt.xlabel(\"Sepal length (cm)\")\nplt.ylabel(\"Sepal width (cm)\")\nplt.tight_layout()\nplt.show()\n```\nPush results:\nquarto render exercise8.qmd\ngit add exercise8.qmd exercise8.html\ngit commit -m \"Add capstone exercise with R+Python\"\ngit push"
  },
  {
    "objectID": "lecture03.html#learning-goals",
    "href": "lecture03.html#learning-goals",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Learning goals",
    "text": "Learning goals\n\nUnderstand relational models: tables, rows, columns, keys, constraints\nWrite SQL: SELECT, WHERE, ORDER BY, LIMIT, GROUP BY, HAVING, JOIN\nConnect to SQL from R (DBI) and Python (sqlite3 / SQLAlchemy / pandas)\nUnderstand HTTP and the request/response cycle\nKnow when to use APIs vs web scraping\nParse HTML using CSS selectors (R rvest, Python BeautifulSoup)\nPeek at dynamic sites\nUse regex for cleaning and extraction (R & Python)"
  },
  {
    "objectID": "lecture03.html#typical-data-for-a-project",
    "href": "lecture03.html#typical-data-for-a-project",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Typical Data for a Project",
    "text": "Typical Data for a Project\n\n\n\nType\nDescription\n\n\n\n\nTransactional\nYour data\n\n\nBehavioral\nYour data\n\n\nPublic Data\nOpen datasets\n\n\nPremium Data\nPaid datasets"
  },
  {
    "objectID": "lecture03.html#typical-data-for-a-project-1",
    "href": "lecture03.html#typical-data-for-a-project-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Typical Data for a Project",
    "text": "Typical Data for a Project\n\n\n💳 Transactional (records of exchanges) - What it looks like: order lines, invoices, payments\n- Typical fields: order_id, customer_id, sku, qty, price, timestamp\n- Example dataset: UCI Online Retail II (real e-commerce transactions)\nhttps://archive.ics.uci.edu/datasets?search=Online+Retail\n👣 Behavioral (events & interactions) - What it looks like: page views, clicks, scrolls, add-to-cart\n- Typical fields: user_id, session_id, event_name, event_params, ts\n- Example datasets/docs: GA BigQuery sample (web/app) and Snowplow events model\nhttps://developers.google.com/analytics/bigquery/web-ecommerce-demo-dataset/ • https://docs.snowplow.io/docs/fundamentals/events/\n\n🏛️ Public Data (open gov & orgs) - What it looks like: macro indicators, demographics, prices, geo\n- Where to find: opendata.swiss, World Bank WDI, Eurostat\nhttps://www.bfs.admin.ch/bfs/en/home/services/ogd/portal.html • https://data.worldbank.org/indicator • https://ec.europa.eu/eurostat/data\n💼 Premium Data (licensed/commercial) - What it looks like: real-time market data, fundamentals, consumer panels\n- Providers (examples): Bloomberg Terminal, S&P Global Market Intelligence\nhttps://www.bloomberg.com/professional/products/bloomberg-terminal/ • https://www.spglobal.com/market-intelligence/en"
  },
  {
    "objectID": "lecture03.html#data-warehouse",
    "href": "lecture03.html#data-warehouse",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Data Warehouse",
    "text": "Data Warehouse\nIn an organization, data is typically stored in:\n\nSeveral computers: operational databases\nA central place for analysis: a data warehouse for analytical data."
  },
  {
    "objectID": "lecture03.html#flow-of-data-processing",
    "href": "lecture03.html#flow-of-data-processing",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Flow of Data Processing",
    "text": "Flow of Data Processing\n\nFormulate business questions\nSelect DB/NoSQL and set it up\nETL (Extract - Transform - Load)\nQuery Data/Create predictive models\nPresent/Visualize Data"
  },
  {
    "objectID": "lecture03.html#tools-for-big-data-analysis",
    "href": "lecture03.html#tools-for-big-data-analysis",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Tools for Big Data Analysis",
    "text": "Tools for Big Data Analysis\n\n\nThere exist many tools for Big Data analysis. Some of them are:\n\nDatabases (SQL)\n\nNoSQL platforms\n\nCloud storage options (AWS, Google Cloud, etc.)\n\nThe easiest one of all (and the oldest!) is a database."
  },
  {
    "objectID": "lecture03.html#data-management-on",
    "href": "lecture03.html#data-management-on",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Data Management on…",
    "text": "Data Management on…\nMost common data management platforms:\n\nRelational Databases (RDBMS) – Structure-based, SQL support.\nNoSQL – Flexible schema, good for unstructured data.\n\nOn-Premises or Cloud-Based"
  },
  {
    "objectID": "lecture03.html#sql-nosql",
    "href": "lecture03.html#sql-nosql",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "SQL / NoSQL",
    "text": "SQL / NoSQL\n\n\nSQL Databases (relational databases)\n\nStructured query language\nSuited for structured data\nRelationships and tables\n\nNoSQL Databases (non-relational databases)\n\nDynamic schema for unstructured data\nFlexible for creating unique structures\nUnstructured or semi-structured data\nDocument, graph, column, KeyValue structures"
  },
  {
    "objectID": "lecture03.html#relational-systems",
    "href": "lecture03.html#relational-systems",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Relational Systems",
    "text": "Relational Systems\n\n\nAdvantages of Relational Systems:\n\nMature technology:\n\nWell-defined interfaces (SQL)\nStructured and organized\nProvides meta-data in the form of a schema\n\nBuilt-in multi-user synchronization for data integrity\nGood at basic statistics and reporting\nBuilt-in query processing engines"
  },
  {
    "objectID": "lecture03.html#object-relational-mapping",
    "href": "lecture03.html#object-relational-mapping",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Object-relational mapping",
    "text": "Object-relational mapping"
  },
  {
    "objectID": "lecture03.html#sql-structured-query-language",
    "href": "lecture03.html#sql-structured-query-language",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "SQL = Structured Query Language",
    "text": "SQL = Structured Query Language\n\nIt is a compact language to express complex questions. For example:\n\nSELECT country, pollutant, particles\nFROM `air_quality`\nWHERE country = 'India' AND pollutant = 'NO2' AND particles &gt; 100\n\nYou don’t need to specify the steps for accomplishing this task (this is an example of declarative programming).\nThe SQL runtime decomposes the query into subroutines and picks the best way to execute it (i.e., which subroutine to do first, which second, etc)."
  },
  {
    "objectID": "lecture03.html#section",
    "href": "lecture03.html#section",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "",
    "text": "SELECT country, pollutant, particles\nFROM `air_quality`\nWHERE country = 'India' AND pollutant = 'NO2' AND particles &gt; 100\nSuppose that:\n\ncountry = {India, …} is of length 1,000,\npollutant = {NO2, …} is of length 100,\nparticles = {100, 90, …} is of length 10,000.\n\nWhich filter in the WHERE clause would you run first?\nThe query scheduler takes care of it, we don‘t have to worry about this.\n\n\n\n\nCountry\nPollutant\nParticles\n\n\n\n\nUSA\nNO2\n90\n\n\nUSA\nCO2\n100\n\n\n…\n…\n…\n\n\nIndia\nNO2\n200\n\n\nIndia\nNO2\n210\n\n\nIndia\nCO2\n110\n\n\n…\n…\n…\n\n\nSwitzerland\nCO2\n20\n\n\nSwitzerland\nCO2\n20\n\n\n…\n…\n…"
  },
  {
    "objectID": "lecture03.html#sql-recap-using-bigquery",
    "href": "lecture03.html#sql-recap-using-bigquery",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "SQL recap using BigQuery",
    "text": "SQL recap using BigQuery"
  },
  {
    "objectID": "lecture03.html#select-from-where",
    "href": "lecture03.html#select-from-where",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Select, From, Where",
    "text": "Select, From, Where\n\n\nSELECT city  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'CH'\nAsked ChatGPT for comment on SQL query:\n\nSELECT city: Specifies that we want to retrieve only the values in the city column.\nFROM 'bigquery-public-data.openaq.global_air_quality': Indicates the source table where the data is stored. In this case, it’s the global_air_quality table, which is part of the openaq dataset within bigquery-public-data on Google BigQuery.\nWHERE country = 'CH': This is a filter condition that limits the results to only those rows where the country column has the value ‘CH’ (the country code for Switzerland)."
  },
  {
    "objectID": "lecture03.html#select-from-where-with-distinct",
    "href": "lecture03.html#select-from-where-with-distinct",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Select, From, Where with Distinct",
    "text": "Select, From, Where with Distinct\n\n\nSELECT DISTINCT city, country  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'CH'\nNote: Capitalization is not required for SQL commands but it is a common convention to make SQL keywords stand out. It is considered best practice."
  },
  {
    "objectID": "lecture03.html#filtering-with-conditions",
    "href": "lecture03.html#filtering-with-conditions",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Filtering with Conditions",
    "text": "Filtering with Conditions\n\nQuery: Records in India with no2 value more than 100.\n\nSELECT city, country, pollutant, value  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2' AND value &gt; 100"
  },
  {
    "objectID": "lecture03.html#limit-the-number-of-results",
    "href": "lecture03.html#limit-the-number-of-results",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "LIMIT the Number of Results",
    "text": "LIMIT the Number of Results"
  },
  {
    "objectID": "lecture03.html#select-all-columns-with",
    "href": "lecture03.html#select-all-columns-with",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Select all columns with *",
    "text": "Select all columns with *"
  },
  {
    "objectID": "lecture03.html#counting-records-with-count",
    "href": "lecture03.html#counting-records-with-count",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Counting Records with COUNT()",
    "text": "Counting Records with COUNT()\nSELECT COUNT(*)  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2' AND value &gt; 100"
  },
  {
    "objectID": "lecture03.html#aggregate-functions-min-max-sum-avg",
    "href": "lecture03.html#aggregate-functions-min-max-sum-avg",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Aggregate Functions: MIN(), MAX(), SUM(), AVG()",
    "text": "Aggregate Functions: MIN(), MAX(), SUM(), AVG()\n\nQuery: What is the average no2 pollutant value in US? In India?\n\n\n\nSELECT AVG(value) AS avg_no2  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'US' AND pollutant = 'no2'\n\n\nSELECT AVG(value) AS avg_no2  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2'\n\n\nWhat about Switzerland? What about the max?"
  },
  {
    "objectID": "lecture03.html#with-clause",
    "href": "lecture03.html#with-clause",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "WITH Clause",
    "text": "WITH Clause\n\nQuery: Number of bitcoin transactions per date, sorted by date."
  },
  {
    "objectID": "lecture03.html#limiting-results-with-limit",
    "href": "lecture03.html#limiting-results-with-limit",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Limiting Results with LIMIT",
    "text": "Limiting Results with LIMIT\n\nSometimes you want to return only part of the results. This can be useful for instance when you run queries on the cloud and you want to preview the results before downloading the entire dataset. LIMIT is used for this purpose. It avoids you pay money for bringing back all the results."
  },
  {
    "objectID": "lecture03.html#group-by-operations-by-category",
    "href": "lecture03.html#group-by-operations-by-category",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "GROUP BY – Operations by Category",
    "text": "GROUP BY – Operations by Category\n\nQuery: What is the average no2 pollutant for each city in the US?\n\n\n\nSELECT city, AVG(value) AS avg_value  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'US' AND pollutant = 'no2'  \nGROUP BY city\nGROUP BY city:\n\nThis groups the results by city. For each unique city in the dataset, the query calculates the average NO2 pollutant value based on the rows that belong to that city.\nWithout GROUP BY, the AVG() function would calculate the average across all rows in the dataset, rather than for each individual city."
  },
  {
    "objectID": "lecture03.html#filtering-categories-with-group-by-and-having",
    "href": "lecture03.html#filtering-categories-with-group-by-and-having",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Filtering Categories with GROUP BY and HAVING",
    "text": "Filtering Categories with GROUP BY and HAVING\n\nQuery: Which cities in India have an average no2 pollutant &gt; 50?\n\n\n\nSELECT city, AVG(value) AS avg_value  \nFROM `bigquery-public-data.openaq.global_air_quality`  \nWHERE country = 'IN' AND pollutant = 'no2'  \nGROUP BY city\nHAVING avg_value &gt; 50"
  },
  {
    "objectID": "lecture03.html#practice-query",
    "href": "lecture03.html#practice-query",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Practice Query",
    "text": "Practice Query\n\nQuery: What is the average time rent per station of bike share program in San Franciso?\n\n(Look for the San Francisco Bikeshare dataset)\n\nQuery: Which day of the week has the most fatal motor accidents in 2020?\n\n(Look for the NHTSA Traffic Fatalities dataset)"
  },
  {
    "objectID": "lecture03.html#practice-query---answer-from-chatgpt",
    "href": "lecture03.html#practice-query---answer-from-chatgpt",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Practice Query - Answer from ChatGPT",
    "text": "Practice Query - Answer from ChatGPT\n\nQuery: What is the average time rent per station of bike share program in San Franciso?\n\n\n\nSELECT stations.name AS station_name, \n       AVG(trips.duration_sec / 60) AS avg_rent_time_minutes\nFROM `bigquery-public-data.san_francisco.bikeshare_trips` AS trips\nJOIN `bigquery-public-data.san_francisco.bikeshare_stations` AS stations\nON trips.start_station_id = stations.station_id\nGROUP BY station_name\nORDER BY avg_rent_time_minutes DESC\n\nIt uses the JOIN operation to merge the two tables (we will see JOIN in the next slides). We could simply return the station_id instead.\nIt uses the bigquery-public-data.san_francisco instead of bigquery-public-data.san_francisco_bikeshare dataset."
  },
  {
    "objectID": "lecture03.html#practice-query---answer-from-chatgpt-1",
    "href": "lecture03.html#practice-query---answer-from-chatgpt-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Practice Query - Answer from ChatGPT",
    "text": "Practice Query - Answer from ChatGPT\n\nQuery: Which day of the week has the most fatal motor accidents in 2020?\n\n\n\nSELECT FORMAT_TIMESTAMP('%A', TIMESTAMP(timestamp_of_crash)) AS day_of_week,\n       COUNT(*) AS total_fatalities\nFROM `bigquery-public-data.nhtsa_traffic_fatalities.accident_2020`\nWHERE EXTRACT(YEAR FROM TIMESTAMP(timestamp_of_crash)) = 2020\nGROUP BY day_of_week\nORDER BY total_fatalities DESC\nLIMIT 1\n\nError in the dataset. ChatGPT is not able to type the correct dataset name (even after trying to correct the prompt).\nNo need to extract for the year, as the dataset is already filtered for 2020.\nIt imposes a limit of 1, but it is not necessary.\n\n\n\n\nIt uses more advanced SQL commands such as FORMAT_TIMESTAMP, TIMESTAMP and EXTRACT. These might not always be available in all SQL databases."
  },
  {
    "objectID": "lecture03.html#sql-joins",
    "href": "lecture03.html#sql-joins",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "SQL Joins",
    "text": "SQL Joins\nJoins allow merging results from different tables. It is required to specify the “key” linking the tables."
  },
  {
    "objectID": "lecture03.html#types-of-joins",
    "href": "lecture03.html#types-of-joins",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Types of Joins",
    "text": "Types of Joins\n\n(INNER) JOIN: Returns records that have matching values in both tables.\nLEFT/RIGHT (OUTER) JOIN: Returns all records from the left/right table and the matched records from the right/left table.\nFULL (OUTER) JOIN: Returns all records when there is a match in either left or right table."
  },
  {
    "objectID": "lecture03.html#example-inner-join",
    "href": "lecture03.html#example-inner-join",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example INNER JOIN",
    "text": "Example INNER JOIN\n\nQuery: Find the top 5 longest bike rides in Austin, including informations about stations.\n\n\nWhich field name should we use to join the two tables?"
  },
  {
    "objectID": "lecture03.html#example-inner-join---option-1",
    "href": "lecture03.html#example-inner-join---option-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example INNER JOIN - option 1",
    "text": "Example INNER JOIN - option 1\nSELECT *\nFROM `bigquery-public-data.austin_bikeshare.bikeshare_trips` AS A\nINNER JOIN `bigquery-public-data.austin_bikeshare.bikeshare_stations` AS B  \nON A.start_station_id = B.station_id  \nORDER BY duration_minutes DESC  \nLIMIT 5\n\nYou can simplify the query by using the following syntax:\nJOIN `bigquery-public-data.austin_bikeshare.bikeshare_stations` AS B"
  },
  {
    "objectID": "lecture03.html#example-inner-join---option-2",
    "href": "lecture03.html#example-inner-join---option-2",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example INNER JOIN - option 2",
    "text": "Example INNER JOIN - option 2\nSELECT *  \nFROM `bigquery-public-data.austin_bikeshare.bikeshare_trips` AS A,\n     `bigquery-public-data.austin_bikeshare.bikeshare_stations` AS B\nWHERE A.start_station_id = B.station_id  \nORDER BY duration_sec DESC  \nLIMIT 5"
  },
  {
    "objectID": "lecture03.html#mini-exercise",
    "href": "lecture03.html#mini-exercise",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Mini-exercise",
    "text": "Mini-exercise\n\nQuery: Which bike start station has the longest duration rides?\n\n\nQuery: How many bikes were reported as stolen?"
  },
  {
    "objectID": "lecture03.html#additional-sql-resources",
    "href": "lecture03.html#additional-sql-resources",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Additional SQL Resources",
    "text": "Additional SQL Resources\n\nSQL Tutorial (W3Schools)\nIntro to SQL (Kaggle)\nAdvanced SQL (Kaggle)"
  },
  {
    "objectID": "lecture03.html#connecting-r-to-bigquery",
    "href": "lecture03.html#connecting-r-to-bigquery",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Connecting R to BigQuery",
    "text": "Connecting R to BigQuery\nTo connect R to BigQuery, use the bigrquery package:\n# Install the bigrquery package\ninstall.packages(\"bigrquery\")\n\n# Load the library and authenticate\nlibrary(bigrquery)\nbq_auth()\n\n# Run a query\nquery &lt;- \"SELECT country, pollutant, value \n          FROM `bigquery-public-data.openaq.global_air_quality` \n          WHERE country = 'US'\n          LIMIT 5\"\nresult &lt;- bq_project_query(\"your-project-id\", query)\ndata &lt;- bq_table_download(result)\nhead(data)\n\n\n  country pollutant       value\n1      US        no 0.007021218\n2      US        bc 0.410000000\n3      US        bc 0.500000000\n4      US        bc 2.100000000\n5      US        bc 0.160000000"
  },
  {
    "objectID": "lecture03.html#example---number-of-bitcoin-transactions-over-time",
    "href": "lecture03.html#example---number-of-bitcoin-transactions-over-time",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example - Number of Bitcoin Transactions Over time",
    "text": "Example - Number of Bitcoin Transactions Over time\n\n\nquery &lt;- \"WITH time AS (  \n    SELECT DATE(block_timestamp) AS trans_date  \n    FROM `bigquery-public-data.crypto_bitcoin.transactions`  \n)  \nSELECT COUNT(trans_date) AS transactions, trans_date  \nFROM time  \nGROUP BY trans_date  \nORDER BY trans_date DESC\"\nresult &lt;- bq_project_query(\"your-project-id\", query)\ndata &lt;- bq_table_download(result)\n\nlibrary(ggplot2)\nlibrary(hrbrthemes)\np &lt;- ggplot(data, aes(x=trans_date, y=transactions)) +\n  geom_line( color=\"#69b3a2\") + \n  xlab(\"Time\") + ylab(\"Number of Transactions\") +\n  theme_ipsum() +\n  theme(axis.text.x=element_text(angle=60, hjust=1)) +\n  ggtitle(\"Number of Bitcoin Transactions Over Time\")\np"
  },
  {
    "objectID": "lecture03.html#connecting-python-to-bigquery",
    "href": "lecture03.html#connecting-python-to-bigquery",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Connecting Python to BigQuery",
    "text": "Connecting Python to BigQuery\nTo connect Python to BigQuery, use the google-cloud-bigquery client.\n\n# TIP: Install once in your env:  pip install google-cloud-bigquery pandas pyarrow\n# Auth options:\n#  - gcloud:  gcloud auth application-default login\n#  - or set GOOGLE_APPLICATION_CREDENTIALS to a service-account JSON\n\nfrom google.cloud import bigquery\nimport pandas as pd\n\nclient = bigquery.Client(project=\"your-project-id\")\n\n# Run a query\nquery = \"\"\"\nSELECT country, pollutant, value\nFROM `bigquery-public-data.openaq.global_air_quality`\nWHERE country = 'US'\nLIMIT 5\n\"\"\"\ndf = client.query(query).to_dataframe()\ndf.head()"
  },
  {
    "objectID": "lecture03.html#overview-of-bigquery",
    "href": "lecture03.html#overview-of-bigquery",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Overview of BigQuery",
    "text": "Overview of BigQuery\n\nBigQuery is a highly scalable data warehouse designed to store and analyze terabytes of data using SQL.\nBenefits:\n\nHigh-speed querying over large datasets.\nScalable storage and computing power.\nIntegration with public datasets for broader analysis."
  },
  {
    "objectID": "lecture03.html#key-features-of-bigquery",
    "href": "lecture03.html#key-features-of-bigquery",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Key Features of BigQuery",
    "text": "Key Features of BigQuery\n\nServerless architecture: You don’t manage infrastructure, it scales automatically.\nSQL-based queries: Standard SQL allows you to extract, transform, and analyze data.\nBuilt-in machine learning: You can train and deploy machine learning models directly within BigQuery using SQL.\nIntegration with R and Python: Use the bigrquery package to connect R with BigQuery or google-cloud-bigquery for Python."
  },
  {
    "objectID": "lecture03.html#local-sql-practice",
    "href": "lecture03.html#local-sql-practice",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Local SQL practice",
    "text": "Local SQL practice"
  },
  {
    "objectID": "lecture03.html#mini-database-sqlite",
    "href": "lecture03.html#mini-database-sqlite",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Mini database (SQLite)",
    "text": "Mini database (SQLite)\nWe will create a small customers–orders database to practice.\n\nR — create & seedPython — create & seed\n\n\nlibrary(DBI); library(RSQLite)\ncon &lt;- dbConnect(SQLite(), \":memory:\")\n\nDBI::dbExecute(con, \"\nCREATE TABLE customers (\n  customer_id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  country TEXT NOT NULL\n);\n\")\nDBI::dbExecute(con, \"\nCREATE TABLE orders (\n  order_id INTEGER PRIMARY KEY,\n  customer_id INTEGER NOT NULL,\n  order_date TEXT NOT NULL, -- ISO8601\n  amount REAL NOT NULL,\n  FOREIGN KEY(customer_id) REFERENCES customers(customer_id)\n);\n\")\n\nDBI::dbWriteTable(con, \"customers\",\n  data.frame(customer_id=1:5,\n             name=c(\"Ada\",\"Bruno\",\"Chloé\",\"Dinesh\",\"Elena\"),\n             country=c(\"CH\",\"FR\",\"CH\",\"IN\",\"US\")),\n  append=TRUE)\n\nDBI::dbWriteTable(con, \"orders\",\n  data.frame(order_id=1:10,\n             customer_id=c(1,1,2,3,3,3,4,4,5,5),\n             order_date=as.character(as.Date(\"2025-09-20\") + c(0,1,0,2,5,6,1,7,3,9)),\n             amount=c(120,75,300,42,88,150,60,500,20,220)),\n  append=TRUE)\n\nDBI::dbListTables(con)\n\n\nimport sqlite3, pandas as pd, datetime as dt\ncon = sqlite3.connect(\":memory:\")\ncur = con.cursor()\ncur.execute(\"\"\"\nCREATE TABLE customers (\n  customer_id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  country TEXT NOT NULL\n);\n\"\"\")\ncur.execute(\"\"\"\nCREATE TABLE orders (\n  order_id INTEGER PRIMARY KEY,\n  customer_id INTEGER NOT NULL,\n  order_date TEXT NOT NULL,\n  amount REAL NOT NULL,\n  FOREIGN KEY(customer_id) REFERENCES customers(customer_id)\n);\n\"\"\")\n\ncustomers = pd.DataFrame({\n  \"customer_id\": [1,2,3,4,5],\n  \"name\": [\"Ada\",\"Bruno\",\"Chloé\",\"Dinesh\",\"Elena\"],\n  \"country\": [\"CH\",\"FR\",\"CH\",\"IN\",\"US\"]\n})\norders = pd.DataFrame({\n  \"order_id\": range(1,11),\n  \"customer_id\": [1,1,2,3,3,3,4,4,5,5],\n  \"order_date\": [(dt.date(2025,9,20)+dt.timedelta(days=d)).isoformat() for d in [0,1,0,2,5,6,1,7,3,9]],\n  \"amount\": [120,75,300,42,88,150,60,500,20,220]\n})\ncustomers.to_sql(\"customers\", con, if_exists=\"append\", index=False)\norders.to_sql(\"orders\", con, if_exists=\"append\", index=False)\ncon.execute(\"SELECT name FROM sqlite_master WHERE type='table'\").fetchall()"
  },
  {
    "objectID": "lecture03.html#sql-basics-1",
    "href": "lecture03.html#sql-basics-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "SQL basics",
    "text": "SQL basics\nSELECT specific columns → WHERE to filter → ORDER BY to sort → LIMIT to preview.\nSELECT name, country\nFROM customers\nWHERE country = 'CH'\nORDER BY name ASC\nLIMIT 5;\n\nTip: Start with SELECT * ... LIMIT 5 to inspect shape without scanning the full table."
  },
  {
    "objectID": "lecture03.html#aggregation-group-by-having",
    "href": "lecture03.html#aggregation-group-by-having",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Aggregation: GROUP BY & HAVING",
    "text": "Aggregation: GROUP BY & HAVING\n-- Average order amount per country\nSELECT c.country, ROUND(AVG(o.amount),2) AS avg_amount, COUNT(*) AS n_orders\nFROM orders o\nJOIN customers c ON o.customer_id = c.customer_id\nGROUP BY c.country\nHAVING COUNT(*) &gt;= 2\nORDER BY avg_amount DESC;\nRules: every selected non-aggregated column must appear in GROUP BY. Use HAVING to filter groups."
  },
  {
    "objectID": "lecture03.html#joins-visual-intuition",
    "href": "lecture03.html#joins-visual-intuition",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "JOINS (visual intuition)",
    "text": "JOINS (visual intuition)\n\nINNER JOIN: only matching rows\nLEFT JOIN: all left + matches from right\nFULL OUTER JOIN: all rows from both (not in SQLite; emulate with UNION)\nJOIN keys should be indexed in larger DBs; ensure uniqueness/NOT NULL on IDs\n\n-- List each order with its customer name (INNER JOIN)\nSELECT o.order_id, o.order_date, o.amount, c.name\nFROM orders o\nINNER JOIN customers c ON o.customer_id = c.customer_id\nORDER BY o.order_id;\n-- Customers without orders (LEFT JOIN + NULL check)\nSELECT c.customer_id, c.name\nFROM customers c\nLEFT JOIN orders o ON o.customer_id = c.customer_id\nWHERE o.order_id IS NULL;"
  },
  {
    "objectID": "lecture03.html#accessing-sql-from-r",
    "href": "lecture03.html#accessing-sql-from-r",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Accessing SQL from R",
    "text": "Accessing SQL from R\n\nDBI + dplyrRaw SQL + dbGetQuery\n\n\nlibrary(DBI); library(dplyr)\n# con from previous slide\ntbl(con, \"orders\") |&gt;\n  inner_join(tbl(con, \"customers\"), by = join_by(customer_id)) |&gt;\n  group_by(country) |&gt;\n  summarise(n = n(), total = sum(amount), .groups=\"drop\") |&gt;\n  arrange(desc(total)) |&gt;\n  collect()\n\n\nDBI::dbGetQuery(con, \"SELECT COUNT(*) AS n FROM orders WHERE amount &gt; 100;\")"
  },
  {
    "objectID": "lecture03.html#accessing-sql-from-python",
    "href": "lecture03.html#accessing-sql-from-python",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Accessing SQL from Python",
    "text": "Accessing SQL from Python\n\npandas + SQLSQLAlchemy engine (optional)\n\n\nimport pandas as pd\nq = \"\"\"\nSELECT c.country, COUNT(*) AS n, SUM(o.amount) AS total\nFROM orders o JOIN customers c ON o.customer_id=c.customer_id\nGROUP BY c.country ORDER BY total DESC\n\"\"\"\npd.read_sql_query(q, con)\n\n\nfrom sqlalchemy import create_engine\nengine = create_engine(\"sqlite+pysqlite:///:memory:\", echo=False, future=True)\n# (Recreate and load tables as above, then use engine.connect())"
  },
  {
    "objectID": "lecture03.html#inclass-miniexercises",
    "href": "lecture03.html#inclass-miniexercises",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "In‑class mini‑exercises",
    "text": "In‑class mini‑exercises\n\nWarm‑up: Write a query to list CH customers ordered by name. Add LIMIT 3.\nAggregation: Average order amount per customer; return top 3 customers.\nJoin logic: Find customers with no orders using a LEFT JOIN."
  },
  {
    "objectID": "lecture03.html#cheatsheet",
    "href": "lecture03.html#cheatsheet",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Cheat‑sheet",
    "text": "Cheat‑sheet\n\nSELECT col1, col2 FROM t WHERE cond ORDER BY col1 DESC LIMIT n;\nJOIN: A JOIN B ON A.key = B.key · left join keeps all of A\nAggregation: GROUP BY cols + HAVING to filter groups\nR: DBI::dbGetQuery(con, sql); Python: pd.read_sql_query(sql, con)"
  },
  {
    "objectID": "lecture03.html#openweathermap-current-weather",
    "href": "lecture03.html#openweathermap-current-weather",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "OpenWeatherMap (current weather)",
    "text": "OpenWeatherMap (current weather)\n\nCreate a free key (account on openweathermap.org).\nTry this URL in your browser (replace YOUR_KEY):\n\nhttps://api.openweathermap.org/data/2.5/weather?q=Lausanne&units=metric&appid=YOUR_KEY\n\nLook for fields like main.temp, weather.description, wind.speed in the JSON.\n\n\nIf the JSON is hard to read, use the browser’s built‑in JSON viewer or a JSON‑formatting extension."
  },
  {
    "objectID": "lecture03.html#r-openweathermap-json-to-tibble",
    "href": "lecture03.html#r-openweathermap-json-to-tibble",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "R: OpenWeatherMap → JSON to tibble",
    "text": "R: OpenWeatherMap → JSON to tibble\n\n# packages\nlibrary(httr2)\nlibrary(dplyr)\n\n# store your key in an env var before class: Sys.setenv(OPENWEATHERMAP_API_KEY=\"...\")\nokey &lt;- Sys.getenv(\"OPENWEATHERMAP_API_KEY\")\n\nresp &lt;- request(\"https://api.openweathermap.org/data/2.5/weather\") |&gt;\n  req_url_query(q = \"Lausanne\", units = \"metric\", appid = okey) |&gt;\n  req_perform()\n\nwx &lt;- resp_body_json(resp, simplifyVector = TRUE)\n\n# extract a compact summary row\nwx_row &lt;- tibble::tibble(\n  city        = wx$name,\n  country     = wx$sys$country,\n  temperature = wx$main$temp,\n  feels_like  = wx$main$feels_like,\n  humidity    = wx$main$humidity,\n  wind_ms     = wx$wind$speed,\n  condition   = wx$weather$description,\n  timestamp   = as.POSIXct(wx$dt, origin = \"1970-01-01\", tz = \"UTC\")\n)\nwx_row\n\n# A tibble: 1 × 8\n  city     country temperature feels_like humidity wind_ms condition      \n  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;    &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;          \n1 Lausanne CH              7.4        7.4       73    0.54 overcast clouds\n# ℹ 1 more variable: timestamp &lt;dttm&gt;\n\n\n\nGlobal execute: { eval: false } prevents live HTTP calls during render. Run interactively if needed."
  },
  {
    "objectID": "lecture03.html#python-openweathermap-json-to-dataframe",
    "href": "lecture03.html#python-openweathermap-json-to-dataframe",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Python: OpenWeatherMap → JSON to DataFrame",
    "text": "Python: OpenWeatherMap → JSON to DataFrame\n\nimport os, requests, pandas as pd\n\nokey = os.environ.get(\"OPENWEATHERMAP_API_KEY\")\nparams = {\"q\": \"Lausanne\", \"units\": \"metric\", \"appid\": okey}\nr = requests.get(\"https://api.openweathermap.org/data/2.5/weather\", params=params)\nwx = r.json()\nrow = {\n    \"city\": wx.get(\"name\"),\n    \"country\": wx.get(\"sys\", {}).get(\"country\"),\n    \"temperature\": wx.get(\"main\", {}).get(\"temp\"),\n    \"feels_like\": wx.get(\"main\", {}).get(\"feels_like\"),\n    \"humidity\": wx.get(\"main\", {}).get(\"humidity\"),\n    \"wind_ms\": wx.get(\"wind\", {}).get(\"speed\"),\n    \"condition\": (wx.get(\"weather\", {}).get(\"description\"),\n}\npd.DataFrame([row])"
  },
  {
    "objectID": "lecture03.html#alpha-vantage-stocks",
    "href": "lecture03.html#alpha-vantage-stocks",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Alpha Vantage (stocks)",
    "text": "Alpha Vantage (stocks)\n\nUses an API key. Demo key available for specific symbols.\nPaste in your browser (works without signing up):\n\nhttps://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=MSFT&apikey=demo\n\nThe JSON contains a nested object Time Series (Daily) with open, high, low, close, volume by date.\n\n\nIf the demo key is throttled, retry after ~1 min or switch to IBM symbol."
  },
  {
    "objectID": "lecture03.html#r-alpha-vantage-tidy-daily-prices",
    "href": "lecture03.html#r-alpha-vantage-tidy-daily-prices",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "R: Alpha Vantage → tidy daily prices",
    "text": "R: Alpha Vantage → tidy daily prices\n\nlibrary(httr2)\nlibrary(purrr)\nlibrary(dplyr)\n\nakey &lt;- Sys.getenv(\"ALPHAVANTAGE_API_KEY\", unset = \"demo\")\nresp &lt;- request(\"https://www.alphavantage.co/query\") |&gt;\n  req_url_query(`function` = \"TIME_SERIES_DAILY\", symbol = \"MSFT\", apikey = akey) |&gt;\n  req_perform()\njs &lt;- resp_body_json(resp, simplifyVector = TRUE)\n\ndaily &lt;- js[[\"Time Series (Daily)\"]]\nprices &lt;- imap_dfr(daily, ~ tibble::tibble(\n  date   = as.Date(.y),\n  open   = as.numeric(.x[[\"1. open\"]]),\n  high   = as.numeric(.x[[\"2. high\"]]),\n  low    = as.numeric(.x[[\"3. low\"]]),\n  close  = as.numeric(.x[[\"4. close\"]]),\n  volume = as.numeric(.x[[\"5. volume\"]])\n)) |&gt;\n  arrange(date)\nprices\n\n# A tibble: 100 × 6\n   date        open  high   low close   volume\n   &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;\n 1 2025-06-16  475.  481.  475   479. 15626104\n 2 2025-06-17  475.  479.  474.  478. 15414128\n 3 2025-06-18  478   481   474.  480. 17526452\n 4 2025-06-20  482.  483.  477.  477. 37576206\n 5 2025-06-23  478.  488.  473.  486  24863952\n 6 2025-06-24  489.  492.  487.  490. 22305642\n 7 2025-06-25  492.  495.  489.  492. 17495099\n 8 2025-06-26  493.  498.  493.  497. 21578853\n 9 2025-06-27  498.  499.  493.  496. 34539236\n10 2025-06-30  497.  501.  495.  497. 28368991\n# ℹ 90 more rows"
  },
  {
    "objectID": "lecture03.html#python-alpha-vantage-tidy-daily-prices",
    "href": "lecture03.html#python-alpha-vantage-tidy-daily-prices",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Python: Alpha Vantage → tidy daily prices",
    "text": "Python: Alpha Vantage → tidy daily prices\n\nimport os, requests, pandas as pd\nakey = os.environ.get(\"ALPHAVANTAGE_API_KEY\", \"demo\")\nparams = {\"function\": \"TIME_SERIES_DAILY\", \"symbol\": \"MSFT\", \"apikey\": akey}\nr = requests.get(\"https://www.alphavantage.co/query\", params=params)\njs = r.json()\ndaily = js.get(\"Time Series (Daily)\", {})\ndf = (pd.DataFrame(daily).T\n        .rename(columns={\n            \"1. open\":\"open\",\"2. high\":\"high\",\"3. low\":\"low\",\n            \"4. close\":\"close\",\"5. volume\":\"volume\"\n        })\n        .reset_index(names=\"date\"))\ndf[\"date\"] = pd.to_datetime(df[\"date\"]).dt.date\ndf.sort_values(\"date\").head()"
  },
  {
    "objectID": "lecture03.html#omdb-movies",
    "href": "lecture03.html#omdb-movies",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "OMDb (movies)",
    "text": "OMDb (movies)\nSearch for a title + year (replace YOUR_KEY):\nhttps://www.omdbapi.com/?apikey=YOUR_KEY&s=titanic&y=1997\nThen open details by IMDb id (Titanic):\nhttps://www.omdbapi.com/?apikey=YOUR_KEY&i=tt0120338\nLook for fields like Title, Year, Genre, Director, imdbRating."
  },
  {
    "objectID": "lecture03.html#r-omdb-search-details",
    "href": "lecture03.html#r-omdb-search-details",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "R: OMDb search + details",
    "text": "R: OMDb search + details\n\nlibrary(httr2)\n\nmkey &lt;- Sys.getenv(\"OMDB_API_KEY\")\n# Search first\ns &lt;- request(\"https://www.omdbapi.com/\") |&gt;\n  req_url_query(apikey = mkey, s = \"titanic\", y = 1997) |&gt;\n  req_perform() |&gt;\n  resp_body_json(simplifyVector = TRUE)\n\nhead(s$Search)\n\n# Then fetch details by IMDb id\nmovie &lt;- request(\"https://www.omdbapi.com/\") |&gt;\n  req_url_query(apikey = mkey, i = \"tt0120338\") |&gt;\n  req_perform() |&gt;\n  resp_body_json(simplifyVector = TRUE)\n\nunlist(movie[c(\"Title\",\"Year\",\"Genre\",\"Director\",\"imdbRating\")])"
  },
  {
    "objectID": "lecture03.html#python-omdb-search-details",
    "href": "lecture03.html#python-omdb-search-details",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Python: OMDb search + details",
    "text": "Python: OMDb search + details\n\nimport os, requests, pandas as pd\nmkey = os.environ.get(\"OMDB_API_KEY\")\n\n# Search\ns = requests.get(\"https://www.omdbapi.com/\", params={\"apikey\": mkey, \"s\": \"titanic\", \"y\": 1997}).json()\npd.DataFrame(s.get(\"Search\", []))\n\n# Details\nmovie = requests.get(\"https://www.omdbapi.com/\", params={\"apikey\": mkey, \"i\": \"tt0120338\"}).json()\n{ k: movie.get(k) for k in [\"Title\",\"Year\",\"Genre\",\"Director\",\"imdbRating\"] }"
  },
  {
    "objectID": "lecture03.html#wikipedia-pageviews",
    "href": "lecture03.html#wikipedia-pageviews",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Wikipedia pageviews",
    "text": "Wikipedia pageviews\n\nRPython\n\n\n\nlibrary(pageviews)\n\ntop_articles(\"en.wikipedia\",\n             start = (Sys.Date()-1)) %&gt;%\n  dplyr::select(article, views) %&gt;%\n  dplyr::top_n(10)\n\n\n\n\nimport requests, datetime\nimport pandas as pd\n\nyesterday = (datetime.date.today() - datetime.timedelta(days=1))\nurl = (\n    f\"https://wikimedia.org/api/rest_v1/metrics/pageviews/top/\"\n    f\"en.wikipedia/all-access/{yesterday.year}/{yesterday:%m}/{yesterday:%d}\"\n)\nresp = requests.get(url)\nitems = resp.json()[\"items\"][0][\"articles\"]\n# Build DataFrame and keep top 10\n(df := pd.DataFrame(items))[['article','views']].head(10)"
  },
  {
    "objectID": "lecture03.html#translation-with-deepl",
    "href": "lecture03.html#translation-with-deepl",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Translation with Deepl",
    "text": "Translation with Deepl\n\nRPython\n\n\n\nlibrary(deeplr)\ndeeplr::translate2(\n  text = \"Mais quelle bonne traduction nom d'une pipe!\",\n  target_lang = \"EN\",\n  auth_key = my_key\n  )\n\n\n\n\nimport os\ntry:\n    import deepl\n    translator = deepl.Translator(os.environ[\"DEEPL_API_KEY\"])  # set your key in env\n    result = translator.translate_text(\n        \"Mais quelle bonne traduction nom d'une pipe!\", target_lang=\"EN-GB\"\n    )\n    result.text\nexcept Exception as e:\n    f\"DEEPL example not executed: {e}\"\n\n\n\n\nThis is what we obtain on Google translate:\n\nBut what a good translation of the name of a pipe!"
  },
  {
    "objectID": "lecture03.html#api-example-chatgpt",
    "href": "lecture03.html#api-example-chatgpt",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "API Example: ChatGPT",
    "text": "API Example: ChatGPT\n\nRPython\n\n\n\nlibrary(chatgpt)\ncat(ask_chatgpt(\"What do you think about the Data and Code Management class?\"))\n\n\n\n\n# Requires: pip install openai\nimport os\nfrom openai import OpenAI\nclient = OpenAI(api_key=os.environ.get(\"OPENAI_API_KEY\"))\nresp = client.chat.completions.create(\n    model=\"gpt-4o-mini\",\n    messages=[\n        {\"role\":\"system\",\"content\":\"You are a helpful assistant.\"},\n        {\"role\":\"user\",\"content\":\"What do you think about the Programming Tools in Data Science class in R?\"}\n    ]\n)\nprint(resp.choices[0].message.content)"
  },
  {
    "objectID": "lecture03.html#your-turn-58-minutes",
    "href": "lecture03.html#your-turn-58-minutes",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Your turn (5–8 minutes)",
    "text": "Your turn (5–8 minutes)\n\nGenerate a browser URL for a city of your choice in OpenWeatherMap.\nUse OMDb to search your favorite movie and open its details page.\n(Stretch) Replace MSFT with another symbol in Alpha Vantage and fetch the JSON.\n\n\nBonus: Copy one of the R/Python snippets, set your env var locally, and print 3 fields."
  },
  {
    "objectID": "lecture03.html#keeping-api-keys-safe-classfriendly",
    "href": "lecture03.html#keeping-api-keys-safe-classfriendly",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Keeping API keys safe (class‑friendly)",
    "text": "Keeping API keys safe (class‑friendly)\n\nNever hard‑code secrets in slides, repos, or notebooks.\nPrefer environment variables:\n\nR: ~/.Renviron → OPENWEATHER_API_KEY=...\nPython: set in shell before launch, or use .env + python-dotenv locally.\n\nRotate / revoke keys if you accidentally leak them.\nWatch the rate limits (Alpha Vantage is strict); implement simple retries if needed."
  },
  {
    "objectID": "lecture03.html#cheatsheet-env-vars",
    "href": "lecture03.html#cheatsheet-env-vars",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Cheat‑sheet: env vars",
    "text": "Cheat‑sheet: env vars\nmacOS/Linux (bash/zsh)\nexport OPENWEATHER_API_KEY=xxxxxx\nexport ALPHAVANTAGE_API_KEY=xxxxxx\nexport OMDB_API_KEY=xxxxxx\nWindows (PowerShell)\nsetx OPENWEATHER_API_KEY \"xxxxxx\"\nsetx ALPHAVANTAGE_API_KEY \"xxxxxx\"\nsetx OMDB_API_KEY \"xxxxxx\"\nR session\nSys.getenv(\"OPENWEATHER_API_KEY\")\nPython session\nimport os\nos.environ.get(\"OPENWEATHER_API_KEY\")"
  },
  {
    "objectID": "lecture03.html#api-1",
    "href": "lecture03.html#api-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "API",
    "text": "API\n\nApplication Programming Interface are gold standard for fetching data from the web\nData is fetched by directly posing HTTP requests.\nData requests from R using library(httr) or API wrappers.\nData fetched through the API is generally more reliable."
  },
  {
    "objectID": "lecture03.html#whats-an-http-api",
    "href": "lecture03.html#whats-an-http-api",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "What’s an HTTP API",
    "text": "What’s an HTTP API\n\nA URL endpoint (e.g., https://api.example.com/resource).\nA method (GET for reading, POST for creating, …).\nQuery parameters (e.g., ?q=Lausanne&units=metric).\nOften requires an API key (auth & rate limits).\nReturns JSON most of the time."
  },
  {
    "objectID": "lecture03.html#api-2",
    "href": "lecture03.html#api-2",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "API",
    "text": "API\nAPI = Application Programming Interface — structured endpoints to request data.\n\n\nPros\n\nStable schema\nPagination, filters\nLegal & documented\nFewer scraping breakages\n\n\nCons\n\nRegistration/API key\nRate limits/quotas\nNot all data exposed"
  },
  {
    "objectID": "lecture03.html#webscraping-1",
    "href": "lecture03.html#webscraping-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Webscraping",
    "text": "Webscraping\n\nIf API is not available, e.g. there is no libraries, you could try to build your own API by following for example this tutorial or that one (not covered in this class).\nInstead, we discuss webscraping, a method that is effective regardless of whether a website offers an API."
  },
  {
    "objectID": "lecture03.html#when-scraping-is-needed",
    "href": "lecture03.html#when-scraping-is-needed",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "When scraping is needed",
    "text": "When scraping is needed\nIf no API or missing fields → parse the HTML.\n\nFetch page (respect robots & rate limits)\nParse DOM\nSelect nodes (CSS selectors)\nExtract text/attributes"
  },
  {
    "objectID": "lecture03.html#webscraping---a-first-example",
    "href": "lecture03.html#webscraping---a-first-example",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Webscraping - a first example",
    "text": "Webscraping - a first example\n\nRPython\n\n\n\nlibrary(rvest)\nurl &lt;- \"https://dcm.samorso.ch/en/lectures/\"\n\nread_html(url) %&gt;%\n  html_table() %&gt;%\n  .[[1]] %&gt;%\n  .[5:7,] %&gt;%\n  kableExtra::kable()\n\n\n\n\nimport pandas as pd\nurl = \"https://dcm.samorso.ch/en/lectures/\"\n# pandas can directly read HTML tables into DataFrames\ntables = pd.read_html(url)\ntables[0].iloc[4:7]"
  },
  {
    "objectID": "lecture03.html#http-requestresponse-cycle",
    "href": "lecture03.html#http-requestresponse-cycle",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "HTTP request/response cycle",
    "text": "HTTP request/response cycle"
  },
  {
    "objectID": "lecture03.html#scraping",
    "href": "lecture03.html#scraping",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Scraping?",
    "text": "Scraping?"
  },
  {
    "objectID": "lecture03.html#hypertext-markup-language",
    "href": "lecture03.html#hypertext-markup-language",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "HyperText Markup Language",
    "text": "HyperText Markup Language\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;    \n  &lt;body&gt;\n    &lt;h1 id='first'&gt;Webscraping with R&lt;/h1&gt;\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\nTry it!"
  },
  {
    "objectID": "lecture03.html#html",
    "href": "lecture03.html#html",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "HTML",
    "text": "HTML\n\nelement starts with &lt;tag&gt; and ends &lt;/tag&gt;,\nit has optional attributes (id=attribute),\ncontent is everything between two tags.\nFor example, add the attribute style=\"background-color:DodgerBlue;\" to h1 and try it."
  },
  {
    "objectID": "lecture03.html#html-elements",
    "href": "lecture03.html#html-elements",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "HTML elements",
    "text": "HTML elements\n\n\n\ntag\nmeaning\n\n\n\n\np\nParagraph\n\n\nh1\nTop-level heading\n\n\nh2, h3, …\nLower level headings\n\n\nol\nOrdered list\n\n\nul\nUnorder list\n\n\nli\nList item\n\n\nimg\nImage\n\n\na\nAnchor (Hyperlink)\n\n\ndiv\nSection wrapper (block-level)\n\n\nspan\nText wrapper (in-line)\n\n\n\nFind out more tags here or here"
  },
  {
    "objectID": "lecture03.html#data-extraction",
    "href": "lecture03.html#data-extraction",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Data extraction",
    "text": "Data extraction\nCreate a minimal HTML page for experimenting\n\nRPython\n\n\n\nhtml_page &lt;- minimal_html('\n  &lt;body&gt;\n    &lt;h1&gt;Webscraping with R&lt;/h1&gt;\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;')\n\n\n\n\nfrom bs4 import BeautifulSoup\nhtml_page = BeautifulSoup('''\n  &lt;body&gt;\n    &lt;h1&gt;Webscraping with R&lt;/h1&gt;\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;''', 'html.parser')"
  },
  {
    "objectID": "lecture03.html#example-list-item-li",
    "href": "lecture03.html#example-list-item-li",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: list item (li)",
    "text": "Example: list item (li)\n\n...\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt; \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt; \n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n...\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li\")\nhtml_page %&gt;% html_nodes(\"li\") %&gt;% html_text()\n\n\n\n\n[e for e in html_page.select('li')]\n[e.get_text(strip=True) for e in html_page.select('li')]"
  },
  {
    "objectID": "lecture03.html#example-heading-of-order-2-h2",
    "href": "lecture03.html#example-heading-of-order-2-h2",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: heading of order 2 (h2)",
    "text": "Example: heading of order 2 (h2)\n\n...\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n...\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"h2\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('h2')]"
  },
  {
    "objectID": "lecture03.html#example-emphasized-text-em",
    "href": "lecture03.html#example-emphasized-text-em",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: emphasized text (em)",
    "text": "Example: emphasized text (em)\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt; \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('em')]"
  },
  {
    "objectID": "lecture03.html#cascading-style-sheets-css",
    "href": "lecture03.html#cascading-style-sheets-css",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Cascading Style Sheets (CSS)",
    "text": "Cascading Style Sheets (CSS)\n\nCSS is used to specify the style (appearance, arrangement and variations) of your web pages.\n\n\n&lt;style&gt;\nbody {\n  background-color: lightblue;\n}\nh1 {\n  color: white;\n  text-align: center;\n}\n.content {\nfont-family: monospace;\nfont-size: 1.5em;\ncolor: black;\n}\n#intro {\n  background-color: lightgrey;\n  border-style: solid;\n  border-width: 5px;\n  padding: 5px;\n  margin: 5px;\n  text-align: center;\n}\n&lt;/style&gt;"
  },
  {
    "objectID": "lecture03.html#css-selectors-cheatsheet",
    "href": "lecture03.html#css-selectors-cheatsheet",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS selectors cheat‑sheet",
    "text": "CSS selectors cheat‑sheet\n\n\n\nselector\nmeaning\n\n\n\n\ntag\nelement by tag\n\n\n.class\nby class\n\n\n#id\nby id\n\n\na[href]\nattribute present\n\n\na[href*=\"wiki\"]\nattr contains\n\n\nparent &gt; child\ndirect child\n\n\nA + B\nadjacent sibling\n\n\nA ~ B\nany following sibling\n\n\n:first-child, :nth-child(2)\nstructural pseudo‑classes\n\n\n:not(X)\nnegation\n\n\n\nCSS diner, CSS selector, W3 School"
  },
  {
    "objectID": "lecture03.html#css-selector-grouping",
    "href": "lecture03.html#css-selector-grouping",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: grouping (,)",
    "text": "CSS Selector: grouping (,)\n\nThe grouping selector selects all the HTML elements with the same style definitions.\nFor example, div, p selects all &lt;div&gt; elements and all &lt;em&gt; elements."
  },
  {
    "objectID": "lecture03.html#example-grouping-li-and-em",
    "href": "lecture03.html#example-grouping-li-and-em",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: grouping li and em",
    "text": "Example: grouping li and em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-grouping-li-and-em-1",
    "href": "lecture03.html#example-grouping-li-and-em-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: grouping li and em",
    "text": "Example: grouping li and em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt; \n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt; \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt; \n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt; #&lt;&lt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li, em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li, em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-descendant-selector-space",
    "href": "lecture03.html#css-selector-descendant-selector-space",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: descendant selector (space)",
    "text": "CSS Selector: descendant selector (space)\n\nThe descendant selector matches all elements that are descendants of a specified element.\nFor example, div p selects all &lt;p&gt; elements inside &lt;div&gt; elements."
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-descendants-of-li",
    "href": "lecture03.html#example-all-em-that-are-descendants-of-li",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all em that are descendants of li",
    "text": "Example: all em that are descendants of li\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-descendants-of-li-1",
    "href": "lecture03.html#example-all-em-that-are-descendants-of-li-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all em that are descendants of li",
    "text": "Example: all em that are descendants of li\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-child-selector",
    "href": "lecture03.html#css-selector-child-selector",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: child selector (>)",
    "text": "CSS Selector: child selector (&gt;)\n\nThe child selector selects all elements that are the children of a specified element.\nFor example, div &gt; p selects all &lt;p&gt; elements that are children of a &lt;div&gt; element."
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-children-of-p",
    "href": "lecture03.html#example-all-em-that-are-children-of-p",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all em that are children of p",
    "text": "Example: all em that are children of p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-em-that-are-children-of-p-1",
    "href": "lecture03.html#example-all-em-that-are-children-of-p-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all em that are children of p",
    "text": "Example: all em that are children of p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"p &gt; em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('p &gt; em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-adjacent-sibling-selector",
    "href": "lecture03.html#css-selector-adjacent-sibling-selector",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: adjacent sibling selector (+)",
    "text": "CSS Selector: adjacent sibling selector (+)\n\nThe adjacent sibling selector is used to select an element that is directly after another specific element.\nSibling elements must have the same parent element, and “adjacent” means “immediately following”.\nFor example, div + p selects the first &lt;p&gt; element that is situated immediately after &lt;div&gt; elements."
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-p",
    "href": "lecture03.html#example-em-immediately-after-p",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: em immediately after p",
    "text": "Example: em immediately after p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-p-1",
    "href": "lecture03.html#example-em-immediately-after-p-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: em immediately after p",
    "text": "Example: em immediately after p\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"p + em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('p + em')]\n\n\n\n\nNo em are immediately after p."
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-em",
    "href": "lecture03.html#example-em-immediately-after-em",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: em immediately after em",
    "text": "Example: em immediately after em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-em-immediately-after-em-1",
    "href": "lecture03.html#example-em-immediately-after-em-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: em immediately after em",
    "text": "Example: em immediately after em\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"em + em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('em + em')]"
  },
  {
    "objectID": "lecture03.html#css-selector-general-sibling-selector",
    "href": "lecture03.html#css-selector-general-sibling-selector",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: general sibling selector (~)",
    "text": "CSS Selector: general sibling selector (~)\n\nThe general sibling selector selects all elements that are next siblings of a specified element.\nSibling elements must have the same parent element, and “general” means “any place”.\nFor example, div ~ p selects all &lt;p&gt; elements that are preceded by a &lt;div&gt; element."
  },
  {
    "objectID": "lecture03.html#example-em-next-sibling-of-a",
    "href": "lecture03.html#example-em-next-sibling-of-a",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: em next sibling of a",
    "text": "Example: em next sibling of a\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-em-next-sibling-of-a-1",
    "href": "lecture03.html#example-em-next-sibling-of-a-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: em next sibling of a",
    "text": "Example: em next sibling of a\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and \n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt; \n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"a ~ em\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('a ~ em')]\n\n\n\n\n(Here, we would have obtained the same result with a + em)"
  },
  {
    "objectID": "lecture03.html#css-selector-first-child-selector-first-child",
    "href": "lecture03.html#css-selector-first-child-selector-first-child",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: first child selector (:first-child)",
    "text": "CSS Selector: first child selector (:first-child)\n\n:first-child selects the specified element that is the first child of another element.\nFor example, p:first-child selects all &lt;p&gt; elements that are the first child of any other element."
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-first-children",
    "href": "lecture03.html#example-all-li-that-are-first-children",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all li that are first children",
    "text": "Example: all li that are first children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-first-children-1",
    "href": "lecture03.html#example-all-li-that-are-first-children-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all li that are first children",
    "text": "Example: all li that are first children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;  \n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li:first-child\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li:first-child')]"
  },
  {
    "objectID": "lecture03.html#css-selector-nth-child-selector-nth-childn",
    "href": "lecture03.html#css-selector-nth-child-selector-nth-childn",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "CSS Selector: nth child selector (:nth-child(n))",
    "text": "CSS Selector: nth child selector (:nth-child(n))\n\nRemark: :last-child is completely symmetric to :first-child.\n:nth-child(n) selects the specified element that is the nth child of another element.\nFor example, p:nth-child(2) selects all &lt;p&gt; elements that are the second child of any other element."
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-second-children",
    "href": "lecture03.html#example-all-li-that-are-second-children",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all li that are second children",
    "text": "Example: all li that are second children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-all-li-that-are-second-children-1",
    "href": "lecture03.html#example-all-li-that-are-second-children-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: all li that are second children",
    "text": "Example: all li that are second children\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt; \n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"li:nth-child(2)\") %&gt;% html_text()\n\n\n\n\n[e.get_text(strip=True) for e in html_page.select('li:nth-child(2)')]"
  },
  {
    "objectID": "lecture03.html#html-attributes",
    "href": "lecture03.html#html-attributes",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "HTML attributes",
    "text": "HTML attributes\n\nAll HTML elements can have attributes, additional information about elements.\nAttributes are always specified in the start tag, usually in the format name=\"value\".\nFor example, &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt;, href is an attribute of a that specifies an url.\nAttributes can be accessed with html_attr command."
  },
  {
    "objectID": "lecture03.html#example-href-attributes",
    "href": "lecture03.html#example-href-attributes",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: href attributes",
    "text": "Example: href attributes\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and\n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;"
  },
  {
    "objectID": "lecture03.html#example-href-attributes-1",
    "href": "lecture03.html#example-href-attributes-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: href attributes",
    "text": "Example: href attributes\n\n\n    &lt;p&gt; Basic experience with &lt;a href=\"www.r-project.org\"&gt;R&lt;/a&gt; and \n    familiarity with the &lt;em&gt;Tidyverse&lt;/em&gt; is recommended.&lt;/p&gt;\n    &lt;h2&gt;Technologies&lt;/h2&gt;\n    &lt;ol&gt;\n      &lt;li&gt;HTML: &lt;em&gt;Hypertext Markup Language&lt;/em&gt;&lt;/li&gt;\n      &lt;li&gt;CSS: &lt;em&gt;Cascading Style Sheets&lt;/em&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;h2&gt;Packages&lt;/h2&gt;\n    &lt;ul&gt;\n      &lt;a href=\"https://github.com/tidyverse/rvest\"&gt;&lt;li&gt;rvest&lt;/li&gt;&lt;/a&gt; \n    &lt;/ul&gt;\n    &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:\n    &lt;em&gt;rvest&lt;/em&gt; is included in the &lt;em&gt;tidyverse&lt;/em&gt;&lt;/p&gt;\n\n\nRPython\n\n\n\nhtml_page %&gt;% html_nodes(\"a\") %&gt;% html_attr(\"href\")\n\n\n\n\n[a.get('href') for a in html_page.select('a')]"
  },
  {
    "objectID": "lecture03.html#html-tables",
    "href": "lecture03.html#html-tables",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "HTML tables",
    "text": "HTML tables\n\n\n\ntag\nmeaning\n\n\n\n\ntable\nTable section\n\n\ntr\nTable row\n\n\ntd\nTable cell\n\n\nth\nTable header\n\n\n\n\nTables can be fetched by using the command html_table()"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table",
    "href": "lecture03.html#example-wikipedia-table",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nWe would like to fetch the table with Qualified teams of the Rugby World Cup 2023 on Wikipedia.\nA first solution: fetch all tables and select the correct one.\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_table() %&gt;% .[[4]] %&gt;% kableExtra::kable()\n\n\n\n\nimport pandas as pd\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\n# Fetch all tables, pick the 5th (0-indexed 4) like the R example\npd.read_html(url)[4]"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-1",
    "href": "lecture03.html#example-wikipedia-table-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nInspect the HTML with the developer tools."
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-2",
    "href": "lecture03.html#example-wikipedia-table-2",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nA better solution using CSS selectors: using the class selector (.).\nSelect class=\"wikitable\".\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_nodes(\".wikitable\") %&gt;% html_table() %&gt;% .[[3]] %&gt;% kableExtra::kable() # equivalently html_nodes(\"table.wikitable\")\n\n\n\n\nimport pandas as pd\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\n# read_html can filter by attrs (class)\npd.read_html(url, attrs={\"class\":\"wikitable\"})[2]"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-3",
    "href": "lecture03.html#example-wikipedia-table-3",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nA better solution using CSS selectors: using the class selector (.).\nSelect class=\"wikitable sortable\".\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_nodes(\".wikitable.sortable\") %&gt;% html_table() %&gt;%  kableExtra::kable() # equivalently html_nodes(\"table.wikitable.sortable\")\n\n\n\n\nimport pandas as pd\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\npd.read_html(url, attrs={\"class\":\"wikitable sortable\"})[0]"
  },
  {
    "objectID": "lecture03.html#example-wikipedia-table-4",
    "href": "lecture03.html#example-wikipedia-table-4",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Wikipedia table",
    "text": "Example: Wikipedia table\n\nAn alternative solution: select table immediately after four p.\n\n\nRPython\n\n\n\nurl &lt;- \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nurl %&gt;% read_html() %&gt;% html_nodes(\"p + p + p + p + table\") %&gt;% html_table() %&gt;% kableExtra::kable()\n\n\n\n\nimport requests, pandas as pd\nfrom bs4 import BeautifulSoup\nurl = \"https://en.wikipedia.org/wiki/2023_Rugby_World_Cup\"\nhtml = requests.get(url).text\nsoup = BeautifulSoup(html, 'html.parser')\ntable = soup.select_one('p + p + p + p + table')\npd.read_html(str(table))[0]"
  },
  {
    "objectID": "lecture03.html#why-web-scraping-could-be-bad",
    "href": "lecture03.html#why-web-scraping-could-be-bad",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Why web scraping could be bad?",
    "text": "Why web scraping could be bad?\n\nScraping increases web traffic.\nPeople ignore and violate robots.txt and Terms of Service (ToS) of websites.\nYou should avoid those troubles by following these simple rules:\n\n\nRead ToS of the website you want to scrap.\nInspect robots.txt (see https://cran.r-project.org/robots.txt for instance).\nUse a reasonable frequency of requests (force your program to make some pauses)."
  },
  {
    "objectID": "lecture03.html#respect-robots-be-polite",
    "href": "lecture03.html#respect-robots-be-polite",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Respect robots, be polite",
    "text": "Respect robots, be polite\n\nCheck robots.txt and TOS\nIdentify yourself via User‑Agent\nAdd random delays and exponential backoff\nCache responses during development\n\n\nRPython\n\n\nlibrary(polite)\nrobotstxt::paths_allowed(\"https://en.wikipedia.org/wiki/Main_Page\")\n# caching demo\nlibrary(httr2)\nreq &lt;- request(\"https://httpbin.org/get\") |&gt;\n  req_options(useragent = \"DaCM-course/1.0\") |&gt;\n  req_perform()\n\n\nimport time, random, requests\nfrom urllib import robotparser\nfrom tenacity import retry, wait_exponential, stop_after_attempt\nimport requests_cache\n\nrp = robotparser.RobotFileParser()\nrp.set_url(\"https://en.wikipedia.org/robots.txt\"); rp.read()\nrp.can_fetch(\"DaCM-course\", \"https://en.wikipedia.org/wiki/Main_Page\")\n\nsession = requests_cache.CachedSession(\"scrape_cache\", expire_after=3600)\n@retry(wait=wait_exponential(multiplier=1, min=1, max=30), stop=stop_after_attempt(5))\ndef get(url):\n    time.sleep(random.uniform(0.5,1.5))\n    return session.get(url, headers={\"User-Agent\":\"DaCM-course/1.0\"}, timeout=20)\nresp = get(\"https://httpbin.org/get\")\nresp.json()"
  },
  {
    "objectID": "lecture03.html#dynamic-sites-advanced",
    "href": "lecture03.html#dynamic-sites-advanced",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Dynamic sites (advanced)",
    "text": "Dynamic sites (advanced)\n\nSometimes, what you see in your browser is not what is returned by read_html(). In many cases, this is due to website that employs methods for dynamic data requests.\nA solution is to simulate a browser to cope with dynamically rendered webpages.\nSelenium offers a solution. It is a project focused on automating web browsers.\nYou have access to Selenium with the RSelenium package.\nAn alternative is the chromote package (developped by Posit) that focuses on Chrome DevTools Protocol."
  },
  {
    "objectID": "lecture03.html#world-bank-data",
    "href": "lecture03.html#world-bank-data",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data"
  },
  {
    "objectID": "lecture03.html#world-bank-data-1",
    "href": "lecture03.html#world-bank-data-1",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data"
  },
  {
    "objectID": "lecture03.html#world-bank-data-2",
    "href": "lecture03.html#world-bank-data-2",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\n\nTrying to fetch the data non-dynamically using class=\"item\".\n\n\nRPython\n\n\n\nurl &lt;- \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\nurl %&gt;% read_html() %&gt;% html_nodes(\".item\") %&gt;% html_text() # or html_nodes(\"div.item\")\n\n\nOnly the header is returned.\n\n\n\n\nimport requests\nfrom bs4 import BeautifulSoup\nurl = \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\nsoup = BeautifulSoup(requests.get(url).text, 'html.parser')\n[x.get_text(strip=True) for x in soup.select('.item')][:6]\n\n# Only header-like elements typically appear; dynamic content isn't in the initial HTML."
  },
  {
    "objectID": "lecture03.html#world-bank-data-3",
    "href": "lecture03.html#world-bank-data-3",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\n\nA first dynamic solution.\n\n\nRPython\n\n\n\nlibrary(chromote)\nb &lt;- ChromoteSession$new() # open a chromote session\nurl &lt;- \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\nb$Page$navigate(url) # navigate to the url\nb$Runtime$evaluate(\"document.querySelector('html').outerHTML\")$result$value %&gt;%\n  read_html() %&gt;% html_nodes(\".item\") %&gt;% html_text() %&gt;% head()\nb$close() # close the session\n\n\n\n\n# Example with Selenium (browser automation). Requires: pip install selenium webdriver-manager\nfrom bs4 import BeautifulSoup\nfrom selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\nfrom webdriver_manager.firefox import GeckoDriverManager\n\noptions = Options()\noptions.add_argument(\"-headless\")\ndriver = webdriver.Firefox(executable_path=GeckoDriverManager().install(), options=options)\nurl = \"https://data.worldbank.org/indicator/SP.ADO.TFRT\"\ndriver.get(url)\nhtml = driver.page_source\nsoup = BeautifulSoup(html, 'html.parser')\nitems = [x.get_text(strip=True) for x in soup.select('.item')][:6]\ndriver.quit()\nitems"
  },
  {
    "objectID": "lecture03.html#world-bank-data-4",
    "href": "lecture03.html#world-bank-data-4",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\nSome comments on the chromote command:\n\nb &lt;- ChromoteSession$new() create a new ChromoteSession object assigned to b.\nb$Page$navigate(url) navigates to the provided URL.\nThe Runtime$evaluate command tells the browser to run JavaScript code.\nThe JavaScript code document.querySelector('html').outerHTML selects the\n\nelement from the current web page’s Document Object Model (DOM), and then retrieves its entire HTML content, including the element itself and everything inside it.\nEssentially, it captures the entire structure of the HTML document, from the opening\n\ntag to the closing\n\ntag, as a string.\nNotice that the browser can be viewed using b$view()\nCheck the package site for more info."
  },
  {
    "objectID": "lecture03.html#world-bank-data-5",
    "href": "lecture03.html#world-bank-data-5",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "World bank data",
    "text": "World bank data\n\nchromote is for Chrome, Chromium and the likes. Selenium is more general.\nUnfortunately, the solution using RSelenium is currently not working properly. But here is how a possible implementation would look like.\n\n\nRPython\n\n\n\nrD &lt;- rsDriver(browser=\"firefox\", port=4545L, verbose=F)\nremDr &lt;- rD[[\"client\"]]\nremDr$navigate(url)\nhtml_page &lt;- remDr$getPageSource()[[1]]\nhtml_page %&gt;% read_html() %&gt;% html_nodes(\".item\") %&gt;% html_text()\n\n\n\n\n# Selenium example shown previously; equivalent: use Chrome/Firefox drivers similarly."
  },
  {
    "objectID": "lecture03.html#dynamic-sites-overview",
    "href": "lecture03.html#dynamic-sites-overview",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Dynamic sites (overview)",
    "text": "Dynamic sites (overview)\nWhen HTML is rendered by JavaScript, read_html()/requests won’t see final content.\nOptions:\n\nR chromote (Chrome DevTools Protocol)\nPython playwright (modern) or selenium (browser automation)\n\n\nR — chromotePython — playwright\n\n\nlibrary(chromote)\nb &lt;- ChromoteSession$new(); b$Page$navigate(\"https://data.worldbank.org/indicator/SP.ADO.TFRT\")\nhtml &lt;- b$Runtime$evaluate(\"document.documentElement.outerHTML\")$result$value\nread_html(html) |&gt;\n  html_elements(\".some-selector\") |&gt;\n  html_text()\nb$close()\n\n\n# playwright install must have been run once\nfrom playwright.sync_api import sync_playwright\nwith sync_playwright() as p:\n    browser = p.chromium.launch(headless=True)\n    page = browser.new_page()\n    page.goto(\"https://data.worldbank.org/indicator/SP.ADO.TFRT\", wait_until=\"networkidle\")\n    html = page.content()\n    # parse with BeautifulSoup here\n    browser.close()"
  },
  {
    "objectID": "lecture03.html#regular-expressions",
    "href": "lecture03.html#regular-expressions",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Regular Expressions",
    "text": "Regular Expressions\n\nRegular expressions (regex) are patterns used to match character combinations in strings. They are particularly useful for extracting or replacing parts of text data."
  },
  {
    "objectID": "lecture03.html#using-regex-in-r",
    "href": "lecture03.html#using-regex-in-r",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Using Regex in R",
    "text": "Using Regex in R\n\nR has built-in functions to work with regular expressions:\n\ngrep(): Search for matches of a pattern in a character vector.\ngrepl(): Returns a logical vector indicating if there is a match.\nsub(), gsub(): Replace the first or all occurrences of a pattern in a string.\nregexpr(), gregexpr(): Find the position and length of matches.\nstr_extract() and str_replace() from stringr package for a tidy approach.\n\n\n\n\n\n\n\n\nTip\n\n\nPython equivalents:\n\nre.search, re.findall, re.finditer for matching.\nre.sub for replacing.\nre.compile to pre-compile patterns.\npandas.Series.str.contains / .extract / .replace for vectorized ops on Series."
  },
  {
    "objectID": "lecture03.html#basics-of-regular-expressions",
    "href": "lecture03.html#basics-of-regular-expressions",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Basics of Regular Expressions",
    "text": "Basics of Regular Expressions\n\nCommon symbols used in regular expressions:\n\n.: Any single character except newline.\n*: Zero or more repetitions of the preceding character.\n+: One or more repetitions of the preceding character.\n?: Zero or one repetition of the preceding character.\n[]: A set of characters. For example, [abc] matches ‘a’, ‘b’, or ‘c’.\n^: In [], it inverts the match. For example, [^abc] matches everything except ‘a’, ‘b’, or ‘c’.\n^: Matches the start of a string.\n$: Matches the end of a string.\n-: Defines a range of characters. For example, [a-z] matches any lowercase letter.\n\\\\: Escape character."
  },
  {
    "objectID": "lecture03.html#useful-pairs-of-characters",
    "href": "lecture03.html#useful-pairs-of-characters",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Useful pairs of characters",
    "text": "Useful pairs of characters\n\n\\\\d: Any digit.\n\\\\D: Any non-digit.\n\\\\w: Any word character (alphanumeric + underscore).\n\\\\W: Any non-word character.\n\\\\s: Any whitespace character.\n\\\\S: Any non-whitespace character.\n\nQuantifiers:\n\n{n}: Exactly n repetitions.\n{n,}: At least n repetitions.\n{n,m}: Between n and m repetitions."
  },
  {
    "objectID": "lecture03.html#example-extracting-data-with-regex",
    "href": "lecture03.html#example-extracting-data-with-regex",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Extracting Data with Regex",
    "text": "Example: Extracting Data with Regex\n\nRPython\n\n\n\nlibrary(stringr)\n\ntext &lt;- \"John's email is john.doe@example.com and Jane's email is jane_doe123@example.org\"\n\n# Extract all email addresses\n# chatGPT solution:\n# emails &lt;- str_extract_all(text, \"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}\")\nemails &lt;- str_extract_all(text, \"\\\\S+@\\\\S+\")\nprint(emails)\n\n\n\n\nimport re\ntext = \"John's email is john.doe@example.com and Jane's email is jane_doe123@example.org\"\n# ChatGPT-like stricter pattern (commented):\n# emails = re.findall(r\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\", text)\nemails = re.findall(r\"\\S+@\\S+\", text)\nemails"
  },
  {
    "objectID": "lecture03.html#example-cleaning-text-with-regex",
    "href": "lecture03.html#example-cleaning-text-with-regex",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Example: Cleaning Text with Regex",
    "text": "Example: Cleaning Text with Regex\n\nUse gsub() to clean text data by removing unwanted characters.\n\n\nRPython\n\n\n\n# Replace all non-alphanumeric characters with a space\n# chatGPT solution:\n# clean_text &lt;- gsub(\"[^a-zA-Z0-9\\\\s]\", \" \", \"Hello, World! Welcome to R programming.\")\nclean_text &lt;- gsub(\"\\\\W\", \" \", \"Hello, World! Welcome to R programming.\")\nprint(clean_text)\n\n\n\n\nimport re\nclean_text = re.sub(r\"\\W\", \" \", \"Hello, World! Welcome to R programming.\")\nclean_text"
  },
  {
    "objectID": "lecture03.html#miniexercises",
    "href": "lecture03.html#miniexercises",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Mini‑exercises",
    "text": "Mini‑exercises\n\nSelector hunt: On a Wikipedia page of your choice, find a CSS selector that returns exactly the list of section headings.\nTable picker: Extract one table from a Wikipedia article both with R and Python. Compare row counts.\nLink map: Collect the first 20 unique links from a Wikipedia page of your choice and count domain frequency (R or Python).\nRespect the robots: Check if scraping is allowed for a path of your choice."
  },
  {
    "objectID": "lecture03.html#common-pitfalls-fixes",
    "href": "lecture03.html#common-pitfalls-fixes",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "Common pitfalls & fixes",
    "text": "Common pitfalls & fixes\n\nChanged selectors? Prefer stable hooks: IDs, data-* attributes, semantic classes\nEncoding issues? Check content-type and use encoding='utf-8'\nBlocked? Reduce rate, rotate User-Agent, add referer; never bypass auth/captcha"
  },
  {
    "objectID": "lecture03.html#references-further-reading",
    "href": "lecture03.html#references-further-reading",
    "title": "Lecture 3 — Data Management & Collection",
    "section": "References & further reading",
    "text": "References & further reading\n\nR: rvest (tidyverse.org), httr2, polite, chromote\nPython: requests, BeautifulSoup, lxml, pandas.read_html, playwright, selenium, requests-cache, tenacity\nRegex: R4DS chapters on regex; regex101.com for testing\nEthics: robotstxt.org; site Terms of Service"
  }
]